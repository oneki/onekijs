{"version":3,"file":"static/development/pages/index.js","sources":["webpack:///webpack/bootstrap","webpack:////home/onurb/workspace/oneki/onekijs/node_modules/@babel/runtime/helpers/arrayLikeToArray.js","webpack:////home/onurb/workspace/oneki/onekijs/node_modules/@babel/runtime/helpers/arrayWithHoles.js","webpack:////home/onurb/workspace/oneki/onekijs/node_modules/@babel/runtime/helpers/arrayWithoutHoles.js","webpack:////home/onurb/workspace/oneki/onekijs/node_modules/@babel/runtime/helpers/assertThisInitialized.js","webpack:////home/onurb/workspace/oneki/onekijs/node_modules/@babel/runtime/helpers/asyncToGenerator.js","webpack:////home/onurb/workspace/oneki/onekijs/node_modules/@babel/runtime/helpers/classCallCheck.js","webpack:////home/onurb/workspace/oneki/onekijs/node_modules/@babel/runtime/helpers/construct.js","webpack:////home/onurb/workspace/oneki/onekijs/node_modules/@babel/runtime/helpers/createClass.js","webpack:////home/onurb/workspace/oneki/onekijs/node_modules/@babel/runtime/helpers/defineProperty.js","webpack:////home/onurb/workspace/oneki/onekijs/node_modules/@babel/runtime/helpers/extends.js","webpack:////home/onurb/workspace/oneki/onekijs/node_modules/@babel/runtime/helpers/getPrototypeOf.js","webpack:////home/onurb/workspace/oneki/onekijs/node_modules/@babel/runtime/helpers/inherits.js","webpack:////home/onurb/workspace/oneki/onekijs/node_modules/@babel/runtime/helpers/isNativeFunction.js","webpack:////home/onurb/workspace/oneki/onekijs/node_modules/@babel/runtime/helpers/isNativeReflectConstruct.js","webpack:////home/onurb/workspace/oneki/onekijs/node_modules/@babel/runtime/helpers/iterableToArray.js","webpack:////home/onurb/workspace/oneki/onekijs/node_modules/@babel/runtime/helpers/iterableToArrayLimit.js","webpack:////home/onurb/workspace/oneki/onekijs/node_modules/@babel/runtime/helpers/nonIterableRest.js","webpack:////home/onurb/workspace/oneki/onekijs/node_modules/@babel/runtime/helpers/nonIterableSpread.js","webpack:////home/onurb/workspace/oneki/onekijs/node_modules/@babel/runtime/helpers/objectWithoutProperties.js","webpack:////home/onurb/workspace/oneki/onekijs/node_modules/@babel/runtime/helpers/objectWithoutPropertiesLoose.js","webpack:////home/onurb/workspace/oneki/onekijs/node_modules/@babel/runtime/helpers/possibleConstructorReturn.js","webpack:////home/onurb/workspace/oneki/onekijs/node_modules/@babel/runtime/helpers/setPrototypeOf.js","webpack:////home/onurb/workspace/oneki/onekijs/node_modules/@babel/runtime/helpers/slicedToArray.js","webpack:////home/onurb/workspace/oneki/onekijs/node_modules/@babel/runtime/helpers/toConsumableArray.js","webpack:////home/onurb/workspace/oneki/onekijs/node_modules/@babel/runtime/helpers/typeof.js","webpack:////home/onurb/workspace/oneki/onekijs/node_modules/@babel/runtime/helpers/unsupportedIterableToArray.js","webpack:////home/onurb/workspace/oneki/onekijs/node_modules/@babel/runtime/helpers/wrapNativeSuper.js","webpack:////home/onurb/workspace/oneki/onekijs/node_modules/@babel/runtime/regenerator/index.js","webpack:////home/onurb/workspace/oneki/onekijs/node_modules/next/dist/client/link.js","webpack:////home/onurb/workspace/oneki/onekijs/node_modules/next/dist/client/router.js","webpack:////home/onurb/workspace/oneki/onekijs/node_modules/next/dist/client/with-router.js","webpack:////home/onurb/workspace/oneki/onekijs/node_modules/next/dist/next-server/lib/mitt.js","webpack:////home/onurb/workspace/oneki/onekijs/node_modules/next/dist/next-server/lib/router/router.js","webpack:////home/onurb/workspace/oneki/onekijs/node_modules/next/dist/next-server/lib/router/utils/is-dynamic.js","webpack:////home/onurb/workspace/oneki/onekijs/node_modules/next/dist/next-server/lib/router/utils/route-matcher.js","webpack:////home/onurb/workspace/oneki/onekijs/node_modules/next/dist/next-server/lib/router/utils/route-regex.js","webpack:////home/onurb/workspace/oneki/onekijs/node_modules/next/dist/next-server/lib/utils.js","webpack:////home/onurb/workspace/oneki/onekijs/node_modules/next/dist/pages/_error.js","webpack:////home/onurb/workspace/oneki/onekijs/node_modules/next/error.js","webpack:////home/onurb/workspace/oneki/onekijs/node_modules/next/link.js","webpack:////home/onurb/workspace/oneki/onekijs/node_modules/next/node_modules/@babel/runtime/helpers/interopRequireDefault.js","webpack:////home/onurb/workspace/oneki/onekijs/node_modules/next/node_modules/@babel/runtime/helpers/interopRequireWildcard.js","webpack:////home/onurb/workspace/oneki/onekijs/node_modules/next/node_modules/@babel/runtime/helpers/typeof.js","webpack:////home/onurb/workspace/oneki/onekijs/node_modules/next/node_modules/react-is/cjs/react-is.development.js","webpack:////home/onurb/workspace/oneki/onekijs/node_modules/next/node_modules/react-is/index.js","webpack:////home/onurb/workspace/oneki/onekijs/packages/onekijs-core/dist/esm/index.js","webpack:////home/onurb/workspace/oneki/onekijs/packages/onekijs-core/dist/esm/lib/app/app-provider.js","webpack:////home/onurb/workspace/oneki/onekijs/packages/onekijs-core/dist/esm/lib/auth.js","webpack:////home/onurb/workspace/oneki/onekijs/packages/onekijs-core/dist/esm/lib/context.js","webpack:////home/onurb/workspace/oneki/onekijs/packages/onekijs-core/dist/esm/lib/crud.js","webpack:////home/onurb/workspace/oneki/onekijs/packages/onekijs-core/dist/esm/lib/error.js","webpack:////home/onurb/workspace/oneki/onekijs/packages/onekijs-core/dist/esm/lib/form.js","webpack:////home/onurb/workspace/oneki/onekijs/packages/onekijs-core/dist/esm/lib/form/input.js","webpack:////home/onurb/workspace/oneki/onekijs/packages/onekijs-core/dist/esm/lib/i18n.js","webpack:////home/onurb/workspace/oneki/onekijs/packages/onekijs-core/dist/esm/lib/layout.js","webpack:////home/onurb/workspace/oneki/onekijs/packages/onekijs-core/dist/esm/lib/login.js","webpack:////home/onurb/workspace/oneki/onekijs/packages/onekijs-core/dist/esm/lib/notification.js","webpack:////home/onurb/workspace/oneki/onekijs/packages/onekijs-core/dist/esm/lib/router/base.js","webpack:////home/onurb/workspace/oneki/onekijs/packages/onekijs-core/dist/esm/lib/saga.js","webpack:////home/onurb/workspace/oneki/onekijs/packages/onekijs-core/dist/esm/lib/secure.js","webpack:////home/onurb/workspace/oneki/onekijs/packages/onekijs-core/dist/esm/lib/service.js","webpack:////home/onurb/workspace/oneki/onekijs/packages/onekijs-core/dist/esm/lib/settings.js","webpack:////home/onurb/workspace/oneki/onekijs/packages/onekijs-core/dist/esm/lib/state.js","webpack:////home/onurb/workspace/oneki/onekijs/packages/onekijs-core/dist/esm/lib/store.js","webpack:////home/onurb/workspace/oneki/onekijs/packages/onekijs-core/dist/esm/lib/utils/app.js","webpack:////home/onurb/workspace/oneki/onekijs/packages/onekijs-core/dist/esm/lib/utils/auth.js","webpack:////home/onurb/workspace/oneki/onekijs/packages/onekijs-core/dist/esm/lib/utils/browser.js","webpack:////home/onurb/workspace/oneki/onekijs/packages/onekijs-core/dist/esm/lib/utils/crypt.js","webpack:////home/onurb/workspace/oneki/onekijs/packages/onekijs-core/dist/esm/lib/utils/form.js","webpack:////home/onurb/workspace/oneki/onekijs/packages/onekijs-core/dist/esm/lib/utils/i18n.js","webpack:////home/onurb/workspace/oneki/onekijs/packages/onekijs-core/dist/esm/lib/utils/object.js","webpack:////home/onurb/workspace/oneki/onekijs/packages/onekijs-core/dist/esm/lib/utils/storage.js","webpack:////home/onurb/workspace/oneki/onekijs/packages/onekijs-core/dist/esm/lib/utils/string.js","webpack:////home/onurb/workspace/oneki/onekijs/packages/onekijs-core/dist/esm/lib/utils/type.js","webpack:////home/onurb/workspace/oneki/onekijs/packages/onekijs-core/dist/esm/lib/utils/url.js","webpack:////home/onurb/workspace/oneki/onekijs/packages/onekijs-core/dist/esm/lib/validation.js","webpack:////home/onurb/workspace/oneki/onekijs/packages/onekijs-core/dist/esm/lib/xhr.js","webpack:////home/onurb/workspace/oneki/onekijs/packages/onekijs-next/dist/esm/index.js","webpack:////home/onurb/workspace/oneki/onekijs/packages/onekijs-next/dist/esm/lib/404.js","webpack:////home/onurb/workspace/oneki/onekijs/packages/onekijs-next/dist/esm/lib/app.js","webpack:////home/onurb/workspace/oneki/onekijs/packages/onekijs-next/dist/esm/lib/i18n.js","webpack:////home/onurb/workspace/oneki/onekijs/packages/onekijs-next/dist/esm/lib/router.js","webpack:///external \"next/dist/next-server/lib/head.js\"","webpack:///external \"next/dist/next-server/lib/router-context.js\"","webpack:///external \"next/dist/next-server/lib/utils.js\"","webpack:///./src/layout/siteLayout/SiteLayout.js","webpack:///./src/layout/siteLayout/index.js","webpack:///./src/pages/index.js","webpack:///external \"@redux-saga/core\"","webpack:///external \"events\"","webpack:///external \"immer\"","webpack:///external \"next/dist/next-server/lib/router/utils/route-matcher\"","webpack:///external \"next/dist/next-server/lib/router/utils/route-regex\"","webpack:///external \"next/router\"","webpack:///external \"prop-types\"","webpack:///external \"prop-types-exact\"","webpack:///external \"query-string\"","webpack:///external \"react\"","webpack:///external \"react-redux\"","webpack:///external \"react-router-dom\"","webpack:///external \"redux\"","webpack:///external \"redux-saga\"","webpack:///external \"redux-saga/effects\"","webpack:///external \"regenerator-runtime\"","webpack:///external \"rfc4648\"","webpack:///external \"text-encoding-shim\"","webpack:///external \"url\""],"sourcesContent":[" \t// The module cache\n \tvar installedModules = require('../../../ssr-module-cache.js');\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tvar threw = true;\n \t\ttry {\n \t\t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n \t\t\tthrew = false;\n \t\t} finally {\n \t\t\tif(threw) delete installedModules[moduleId];\n \t\t}\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 3);\n","function _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) {\n    arr2[i] = arr[i];\n  }\n\n  return arr2;\n}\n\nmodule.exports = _arrayLikeToArray;","function _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}\n\nmodule.exports = _arrayWithHoles;","var arrayLikeToArray = require(\"./arrayLikeToArray\");\n\nfunction _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) return arrayLikeToArray(arr);\n}\n\nmodule.exports = _arrayWithoutHoles;","function _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}\n\nmodule.exports = _assertThisInitialized;","function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) {\n  try {\n    var info = gen[key](arg);\n    var value = info.value;\n  } catch (error) {\n    reject(error);\n    return;\n  }\n\n  if (info.done) {\n    resolve(value);\n  } else {\n    Promise.resolve(value).then(_next, _throw);\n  }\n}\n\nfunction _asyncToGenerator(fn) {\n  return function () {\n    var self = this,\n        args = arguments;\n    return new Promise(function (resolve, reject) {\n      var gen = fn.apply(self, args);\n\n      function _next(value) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value);\n      }\n\n      function _throw(err) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err);\n      }\n\n      _next(undefined);\n    });\n  };\n}\n\nmodule.exports = _asyncToGenerator;","function _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nmodule.exports = _classCallCheck;","var setPrototypeOf = require(\"./setPrototypeOf\");\n\nvar isNativeReflectConstruct = require(\"./isNativeReflectConstruct\");\n\nfunction _construct(Parent, args, Class) {\n  if (isNativeReflectConstruct()) {\n    module.exports = _construct = Reflect.construct;\n  } else {\n    module.exports = _construct = function _construct(Parent, args, Class) {\n      var a = [null];\n      a.push.apply(a, args);\n      var Constructor = Function.bind.apply(Parent, a);\n      var instance = new Constructor();\n      if (Class) setPrototypeOf(instance, Class.prototype);\n      return instance;\n    };\n  }\n\n  return _construct.apply(null, arguments);\n}\n\nmodule.exports = _construct;","function _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\n\nmodule.exports = _createClass;","function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nmodule.exports = _defineProperty;","function _extends() {\n  module.exports = _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\nmodule.exports = _extends;","function _getPrototypeOf(o) {\n  module.exports = _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}\n\nmodule.exports = _getPrototypeOf;","var setPrototypeOf = require(\"./setPrototypeOf\");\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) setPrototypeOf(subClass, superClass);\n}\n\nmodule.exports = _inherits;","function _isNativeFunction(fn) {\n  return Function.toString.call(fn).indexOf(\"[native code]\") !== -1;\n}\n\nmodule.exports = _isNativeFunction;","function _isNativeReflectConstruct() {\n  if (typeof Reflect === \"undefined\" || !Reflect.construct) return false;\n  if (Reflect.construct.sham) return false;\n  if (typeof Proxy === \"function\") return true;\n\n  try {\n    Date.prototype.toString.call(Reflect.construct(Date, [], function () {}));\n    return true;\n  } catch (e) {\n    return false;\n  }\n}\n\nmodule.exports = _isNativeReflectConstruct;","function _iterableToArray(iter) {\n  if (typeof Symbol !== \"undefined\" && Symbol.iterator in Object(iter)) return Array.from(iter);\n}\n\nmodule.exports = _iterableToArray;","function _iterableToArrayLimit(arr, i) {\n  if (typeof Symbol === \"undefined\" || !(Symbol.iterator in Object(arr))) return;\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _e = undefined;\n\n  try {\n    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}\n\nmodule.exports = _iterableToArrayLimit;","function _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\n\nmodule.exports = _nonIterableRest;","function _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\n\nmodule.exports = _nonIterableSpread;","var objectWithoutPropertiesLoose = require(\"./objectWithoutPropertiesLoose\");\n\nfunction _objectWithoutProperties(source, excluded) {\n  if (source == null) return {};\n  var target = objectWithoutPropertiesLoose(source, excluded);\n  var key, i;\n\n  if (Object.getOwnPropertySymbols) {\n    var sourceSymbolKeys = Object.getOwnPropertySymbols(source);\n\n    for (i = 0; i < sourceSymbolKeys.length; i++) {\n      key = sourceSymbolKeys[i];\n      if (excluded.indexOf(key) >= 0) continue;\n      if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue;\n      target[key] = source[key];\n    }\n  }\n\n  return target;\n}\n\nmodule.exports = _objectWithoutProperties;","function _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}\n\nmodule.exports = _objectWithoutPropertiesLoose;","var _typeof = require(\"../helpers/typeof\");\n\nvar assertThisInitialized = require(\"./assertThisInitialized\");\n\nfunction _possibleConstructorReturn(self, call) {\n  if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) {\n    return call;\n  }\n\n  return assertThisInitialized(self);\n}\n\nmodule.exports = _possibleConstructorReturn;","function _setPrototypeOf(o, p) {\n  module.exports = _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}\n\nmodule.exports = _setPrototypeOf;","var arrayWithHoles = require(\"./arrayWithHoles\");\n\nvar iterableToArrayLimit = require(\"./iterableToArrayLimit\");\n\nvar unsupportedIterableToArray = require(\"./unsupportedIterableToArray\");\n\nvar nonIterableRest = require(\"./nonIterableRest\");\n\nfunction _slicedToArray(arr, i) {\n  return arrayWithHoles(arr) || iterableToArrayLimit(arr, i) || unsupportedIterableToArray(arr, i) || nonIterableRest();\n}\n\nmodule.exports = _slicedToArray;","var arrayWithoutHoles = require(\"./arrayWithoutHoles\");\n\nvar iterableToArray = require(\"./iterableToArray\");\n\nvar unsupportedIterableToArray = require(\"./unsupportedIterableToArray\");\n\nvar nonIterableSpread = require(\"./nonIterableSpread\");\n\nfunction _toConsumableArray(arr) {\n  return arrayWithoutHoles(arr) || iterableToArray(arr) || unsupportedIterableToArray(arr) || nonIterableSpread();\n}\n\nmodule.exports = _toConsumableArray;","function _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    module.exports = _typeof = function _typeof(obj) {\n      return typeof obj;\n    };\n  } else {\n    module.exports = _typeof = function _typeof(obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n\n  return _typeof(obj);\n}\n\nmodule.exports = _typeof;","var arrayLikeToArray = require(\"./arrayLikeToArray\");\n\nfunction _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return arrayLikeToArray(o, minLen);\n}\n\nmodule.exports = _unsupportedIterableToArray;","var getPrototypeOf = require(\"./getPrototypeOf\");\n\nvar setPrototypeOf = require(\"./setPrototypeOf\");\n\nvar isNativeFunction = require(\"./isNativeFunction\");\n\nvar construct = require(\"./construct\");\n\nfunction _wrapNativeSuper(Class) {\n  var _cache = typeof Map === \"function\" ? new Map() : undefined;\n\n  module.exports = _wrapNativeSuper = function _wrapNativeSuper(Class) {\n    if (Class === null || !isNativeFunction(Class)) return Class;\n\n    if (typeof Class !== \"function\") {\n      throw new TypeError(\"Super expression must either be null or a function\");\n    }\n\n    if (typeof _cache !== \"undefined\") {\n      if (_cache.has(Class)) return _cache.get(Class);\n\n      _cache.set(Class, Wrapper);\n    }\n\n    function Wrapper() {\n      return construct(Class, arguments, getPrototypeOf(this).constructor);\n    }\n\n    Wrapper.prototype = Object.create(Class.prototype, {\n      constructor: {\n        value: Wrapper,\n        enumerable: false,\n        writable: true,\n        configurable: true\n      }\n    });\n    return setPrototypeOf(Wrapper, Class);\n  };\n\n  return _wrapNativeSuper(Class);\n}\n\nmodule.exports = _wrapNativeSuper;","module.exports = require(\"regenerator-runtime\");\n","\"use strict\";var _interopRequireDefault=require(\"@babel/runtime/helpers/interopRequireDefault\");var _interopRequireWildcard=require(\"@babel/runtime/helpers/interopRequireWildcard\");exports.__esModule=true;exports.default=void 0;var _react=_interopRequireWildcard(require(\"react\"));var _url=require(\"url\");var _utils=require(\"../next-server/lib/utils\");var _router=_interopRequireDefault(require(\"./router\"));var _router2=require(\"../next-server/lib/router/router\");function isLocal(href){var url=(0,_url.parse)(href,false,true);var origin=(0,_url.parse)((0,_utils.getLocationOrigin)(),false,true);return!url.host||url.protocol===origin.protocol&&url.host===origin.host;}function memoizedFormatUrl(formatFunc){var lastHref=null;var lastAs=null;var lastResult=null;return(href,as)=>{if(lastResult&&href===lastHref&&as===lastAs){return lastResult;}var result=formatFunc(href,as);lastHref=href;lastAs=as;lastResult=result;return result;};}function formatUrl(url){return url&&typeof url==='object'?(0,_utils.formatWithValidation)(url):url;}var observer;var listeners=new Map();var IntersectionObserver=typeof window!=='undefined'?window.IntersectionObserver:null;var prefetched={};function getObserver(){// Return shared instance of IntersectionObserver if already created\nif(observer){return observer;}// Only create shared IntersectionObserver if supported in browser\nif(!IntersectionObserver){return undefined;}return observer=new IntersectionObserver(entries=>{entries.forEach(entry=>{if(!listeners.has(entry.target)){return;}var cb=listeners.get(entry.target);if(entry.isIntersecting||entry.intersectionRatio>0){observer.unobserve(entry.target);listeners.delete(entry.target);cb();}});},{rootMargin:'200px'});}var listenToIntersections=(el,cb)=>{var observer=getObserver();if(!observer){return()=>{};}observer.observe(el);listeners.set(el,cb);return()=>{try{observer.unobserve(el);}catch(err){console.error(err);}listeners.delete(el);};};class Link extends _react.Component{constructor(props){super(props);this.p=void 0;this.cleanUpListeners=()=>{};this.formatUrls=memoizedFormatUrl((href,asHref)=>{return{href:(0,_router2.addBasePath)(formatUrl(href)),as:asHref?(0,_router2.addBasePath)(formatUrl(asHref)):asHref};});this.linkClicked=e=>{var{nodeName,target}=e.currentTarget;if(nodeName==='A'&&(target&&target!=='_self'||e.metaKey||e.ctrlKey||e.shiftKey||e.nativeEvent&&e.nativeEvent.which===2)){// ignore click for new tab / new window behavior\nreturn;}var{href,as}=this.formatUrls(this.props.href,this.props.as);if(!isLocal(href)){// ignore click if it's outside our scope (e.g. https://google.com)\nreturn;}var{pathname}=window.location;href=(0,_url.resolve)(pathname,href);as=as?(0,_url.resolve)(pathname,as):href;e.preventDefault();//  avoid scroll for urls with anchor refs\nvar{scroll}=this.props;if(scroll==null){scroll=as.indexOf('#')<0;}// replace state instead of push if prop is present\n_router.default[this.props.replace?'replace':'push'](href,as,{shallow:this.props.shallow}).then(success=>{if(!success)return;if(scroll){window.scrollTo(0,0);document.body.focus();}});};if(process.env.NODE_ENV!=='production'){if(props.prefetch){console.warn('Next.js auto-prefetches automatically based on viewport. The prefetch attribute is no longer needed. More: https://err.sh/zeit/next.js/prefetch-true-deprecated');}}this.p=props.prefetch!==false;}componentWillUnmount(){this.cleanUpListeners();}getPaths(){var{pathname}=window.location;var{href:parsedHref,as:parsedAs}=this.formatUrls(this.props.href,this.props.as);var resolvedHref=(0,_url.resolve)(pathname,parsedHref);return[resolvedHref,parsedAs?(0,_url.resolve)(pathname,parsedAs):resolvedHref];}handleRef(ref){if(this.p&&IntersectionObserver&&ref&&ref.tagName){this.cleanUpListeners();var isPrefetched=prefetched[this.getPaths().join(// Join on an invalid URI character\n'%')];if(!isPrefetched){this.cleanUpListeners=listenToIntersections(ref,()=>{this.prefetch();});}}}// The function is memoized so that no extra lifecycles are needed\n// as per https://reactjs.org/blog/2018/06/07/you-probably-dont-need-derived-state.html\nprefetch(options){if(!this.p||typeof window==='undefined')return;// Prefetch the JSON page if asked (only in the client)\nvar paths=this.getPaths();// We need to handle a prefetch error here since we may be\n// loading with priority which can reject but we don't\n// want to force navigation since this is only a prefetch\n_router.default.prefetch(paths[/* href */0],paths[/* asPath */1],options).catch(err=>{if(process.env.NODE_ENV!=='production'){// rethrow to show invalid URL errors\nthrow err;}});prefetched[paths.join(// Join on an invalid URI character\n'%')]=true;}render(){var{children}=this.props;var{href,as}=this.formatUrls(this.props.href,this.props.as);// Deprecated. Warning shown by propType check. If the children provided is a string (<Link>example</Link>) we wrap it in an <a> tag\nif(typeof children==='string'){children=_react.default.createElement(\"a\",null,children);}// This will return the first child, if multiple are provided it will throw an error\nvar child=_react.Children.only(children);var props={ref:el=>{this.handleRef(el);if(child&&typeof child==='object'&&child.ref){if(typeof child.ref==='function')child.ref(el);else if(typeof child.ref==='object'){child.ref.current=el;}}},onMouseEnter:e=>{if(child.props&&typeof child.props.onMouseEnter==='function'){child.props.onMouseEnter(e);}this.prefetch({priority:true});},onClick:e=>{if(child.props&&typeof child.props.onClick==='function'){child.props.onClick(e);}if(!e.defaultPrevented){this.linkClicked(e);}}};// If child is an <a> tag and doesn't have a href attribute, or if the 'passHref' property is\n// defined, we specify the current 'href', so that repetition is not needed by the user\nif(this.props.passHref||child.type==='a'&&!('href'in child.props)){props.href=as||href;}// Add the ending slash to the paths. So, we can serve the\n// \"<page>/index.html\" directly.\nif(process.env.__NEXT_EXPORT_TRAILING_SLASH){var rewriteUrlForNextExport=require('../next-server/lib/router/rewrite-url-for-export').rewriteUrlForNextExport;if(props.href&&typeof __NEXT_DATA__!=='undefined'&&__NEXT_DATA__.nextExport){props.href=rewriteUrlForNextExport(props.href);}}return _react.default.cloneElement(child,props);}}if(process.env.NODE_ENV==='development'){var warn=(0,_utils.execOnce)(console.error);// This module gets removed by webpack.IgnorePlugin\nvar PropTypes=require('prop-types');var exact=require('prop-types-exact');// @ts-ignore the property is supported, when declaring it on the class it outputs an extra bit of code which is not needed.\nLink.propTypes=exact({href:PropTypes.oneOfType([PropTypes.string,PropTypes.object]).isRequired,as:PropTypes.oneOfType([PropTypes.string,PropTypes.object]),prefetch:PropTypes.bool,replace:PropTypes.bool,shallow:PropTypes.bool,passHref:PropTypes.bool,scroll:PropTypes.bool,children:PropTypes.oneOfType([PropTypes.element,(props,propName)=>{var value=props[propName];if(typeof value==='string'){warn(\"Warning: You're using a string directly inside <Link>. This usage has been deprecated. Please add an <a> tag as child of <Link>\");}return null;}]).isRequired});}var _default=Link;exports.default=_default;","\"use strict\";var _interopRequireWildcard=require(\"@babel/runtime/helpers/interopRequireWildcard\");var _interopRequireDefault=require(\"@babel/runtime/helpers/interopRequireDefault\");exports.__esModule=true;exports.useRouter=useRouter;exports.makePublicRouterInstance=makePublicRouterInstance;exports.createRouter=exports.withRouter=exports.default=void 0;var _react=_interopRequireDefault(require(\"react\"));var _router2=_interopRequireWildcard(require(\"../next-server/lib/router/router\"));exports.Router=_router2.default;exports.NextRouter=_router2.NextRouter;var _routerContext=require(\"../next-server/lib/router-context\");var _withRouter=_interopRequireDefault(require(\"./with-router\"));exports.withRouter=_withRouter.default;/* global window */var singletonRouter={router:null,// holds the actual router instance\nreadyCallbacks:[],ready(cb){if(this.router)return cb();if(typeof window!=='undefined'){this.readyCallbacks.push(cb);}}};// Create public properties and methods of the router in the singletonRouter\nvar urlPropertyFields=['pathname','route','query','asPath','components','isFallback','basePath'];var routerEvents=['routeChangeStart','beforeHistoryChange','routeChangeComplete','routeChangeError','hashChangeStart','hashChangeComplete'];var coreMethodFields=['push','replace','reload','back','prefetch','beforePopState'];// Events is a static property on the router, the router doesn't have to be initialized to use it\nObject.defineProperty(singletonRouter,'events',{get(){return _router2.default.events;}});urlPropertyFields.forEach(field=>{// Here we need to use Object.defineProperty because, we need to return\n// the property assigned to the actual router\n// The value might get changed as we change routes and this is the\n// proper way to access it\nObject.defineProperty(singletonRouter,field,{get(){var router=getRouter();return router[field];}});});coreMethodFields.forEach(field=>{// We don't really know the types here, so we add them later instead\n;singletonRouter[field]=function(){var router=getRouter();return router[field](...arguments);};});routerEvents.forEach(event=>{singletonRouter.ready(()=>{_router2.default.events.on(event,function(){var eventField=\"on\"+event.charAt(0).toUpperCase()+event.substring(1);var _singletonRouter=singletonRouter;if(_singletonRouter[eventField]){try{_singletonRouter[eventField](...arguments);}catch(err){// tslint:disable-next-line:no-console\nconsole.error(\"Error when running the Router event: \"+eventField);// tslint:disable-next-line:no-console\nconsole.error(err.message+\"\\n\"+err.stack);}}});});});function getRouter(){if(!singletonRouter.router){var message='No router instance found.\\n'+'You should only use \"next/router\" inside the client side of your app.\\n';throw new Error(message);}return singletonRouter.router;}// Export the singletonRouter and this is the public API.\nvar _default=singletonRouter;// Reexport the withRoute HOC\nexports.default=_default;function useRouter(){return _react.default.useContext(_routerContext.RouterContext);}// INTERNAL APIS\n// -------------\n// (do not use following exports inside the app)\n// Create a router and assign it as the singleton instance.\n// This is used in client side when we are initilizing the app.\n// This should **not** use inside the server.\nvar createRouter=function createRouter(){for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}singletonRouter.router=new _router2.default(...args);singletonRouter.readyCallbacks.forEach(cb=>cb());singletonRouter.readyCallbacks=[];return singletonRouter.router;};// This function is used to create the `withRouter` router instance\nexports.createRouter=createRouter;function makePublicRouterInstance(router){var _router=router;var instance={};for(var property of urlPropertyFields){if(typeof _router[property]==='object'){instance[property]=Object.assign({},_router[property]);// makes sure query is not stateful\ncontinue;}instance[property]=_router[property];}// Events is a static property on the router, the router doesn't have to be initialized to use it\ninstance.events=_router2.default.events;coreMethodFields.forEach(field=>{instance[field]=function(){return _router[field](...arguments);};});return instance;}","\"use strict\";var _interopRequireDefault=require(\"@babel/runtime/helpers/interopRequireDefault\");exports.__esModule=true;exports.default=withRouter;var _react=_interopRequireDefault(require(\"react\"));var _router=require(\"./router\");function withRouter(ComposedComponent){function WithRouterWrapper(props){return _react.default.createElement(ComposedComponent,Object.assign({router:(0,_router.useRouter)()},props));}WithRouterWrapper.getInitialProps=ComposedComponent.getInitialProps// This is needed to allow checking for custom getInitialProps in _app\n;WithRouterWrapper.origGetInitialProps=ComposedComponent.origGetInitialProps;if(process.env.NODE_ENV!=='production'){var name=ComposedComponent.displayName||ComposedComponent.name||'Unknown';WithRouterWrapper.displayName=\"withRouter(\"+name+\")\";}return WithRouterWrapper;}","\"use strict\";\n/*\nMIT License\n\nCopyright (c) Jason Miller (https://jasonformat.com/)\n\nPermission is hereby granted, free of charge, to any person obtaining a copy of this software and associated documentation files (the \"Software\"), to deal in the Software without restriction, including without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the Software is furnished to do so, subject to the following conditions:\n\nThe above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.\n\nTHE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n*/\nObject.defineProperty(exports, \"__esModule\", { value: true });\nfunction mitt() {\n    const all = Object.create(null);\n    return {\n        on(type, handler) {\n            ;\n            (all[type] || (all[type] = [])).push(handler);\n        },\n        off(type, handler) {\n            if (all[type]) {\n                // tslint:disable-next-line:no-bitwise\n                all[type].splice(all[type].indexOf(handler) >>> 0, 1);\n            }\n        },\n        emit(type, ...evts) {\n            // eslint-disable-next-line array-callback-return\n            ;\n            (all[type] || []).slice().map((handler) => {\n                handler(...evts);\n            });\n        },\n    };\n}\nexports.default = mitt;\n","\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst url_1 = require(\"url\");\nconst mitt_1 = __importDefault(require(\"../mitt\"));\nconst utils_1 = require(\"../utils\");\nconst is_dynamic_1 = require(\"./utils/is-dynamic\");\nconst route_matcher_1 = require(\"./utils/route-matcher\");\nconst route_regex_1 = require(\"./utils/route-regex\");\nconst basePath = process.env.__NEXT_ROUTER_BASEPATH || '';\nfunction addBasePath(path) {\n    return path.indexOf(basePath) !== 0 ? basePath + path : path;\n}\nexports.addBasePath = addBasePath;\nfunction delBasePath(path) {\n    return path.indexOf(basePath) === 0\n        ? path.substr(basePath.length) || '/'\n        : path;\n}\nexports.delBasePath = delBasePath;\nfunction toRoute(path) {\n    return path.replace(/\\/$/, '') || '/';\n}\nconst prepareRoute = (path) => toRoute(!path || path === '/' ? '/index' : path);\nfunction fetchNextData(pathname, query, isServerRender, cb) {\n    let attempts = isServerRender ? 3 : 1;\n    function getResponse() {\n        return fetch(utils_1.formatWithValidation({\n            pathname: addBasePath(\n            // @ts-ignore __NEXT_DATA__\n            `/_next/data/${__NEXT_DATA__.buildId}${delBasePath(pathname)}.json`),\n            query,\n        }), {\n            // Cookies are required to be present for Next.js' SSG \"Preview Mode\".\n            // Cookies may also be required for `getServerSideProps`.\n            //\n            // > `fetch` wonâ€™t send cookies, unless you set the credentials init\n            // > option.\n            // https://developer.mozilla.org/en-US/docs/Web/API/Fetch_API/Using_Fetch\n            //\n            // > For maximum browser compatibility when it comes to sending &\n            // > receiving cookies, always supply the `credentials: 'same-origin'`\n            // > option instead of relying on the default.\n            // https://github.com/github/fetch#caveats\n            credentials: 'same-origin',\n        }).then(res => {\n            if (!res.ok) {\n                if (--attempts > 0 && res.status >= 500) {\n                    return getResponse();\n                }\n                throw new Error(`Failed to load static props`);\n            }\n            return res.json();\n        });\n    }\n    return getResponse()\n        .then(data => {\n        return cb ? cb(data) : data;\n    })\n        .catch((err) => {\n        // We should only trigger a server-side transition if this was caused\n        // on a client-side transition. Otherwise, we'd get into an infinite\n        // loop.\n        if (!isServerRender) {\n            ;\n            err.code = 'PAGE_LOAD_ERROR';\n        }\n        throw err;\n    });\n}\nclass Router {\n    constructor(pathname, query, as, { initialProps, pageLoader, App, wrapApp, Component, err, subscription, isFallback, }) {\n        // Static Data Cache\n        this.sdc = {};\n        this.onPopState = (e) => {\n            if (!e.state) {\n                // We get state as undefined for two reasons.\n                //  1. With older safari (< 8) and older chrome (< 34)\n                //  2. When the URL changed with #\n                //\n                // In the both cases, we don't need to proceed and change the route.\n                // (as it's already changed)\n                // But we can simply replace the state with the new changes.\n                // Actually, for (1) we don't need to nothing. But it's hard to detect that event.\n                // So, doing the following for (1) does no harm.\n                const { pathname, query } = this;\n                this.changeState('replaceState', utils_1.formatWithValidation({ pathname, query }), utils_1.getURL());\n                return;\n            }\n            // Make sure we don't re-render on initial load,\n            // can be caused by navigating back from an external site\n            if (e.state &&\n                this.isSsr &&\n                e.state.as === this.asPath &&\n                url_1.parse(e.state.url).pathname === this.pathname) {\n                return;\n            }\n            // If the downstream application returns falsy, return.\n            // They will then be responsible for handling the event.\n            if (this._bps && !this._bps(e.state)) {\n                return;\n            }\n            const { url, as, options } = e.state;\n            if (process.env.NODE_ENV !== 'production') {\n                if (typeof url === 'undefined' || typeof as === 'undefined') {\n                    console.warn('`popstate` event triggered but `event.state` did not have `url` or `as` https://err.sh/zeit/next.js/popstate-state-empty');\n                }\n            }\n            this.replace(url, as, options);\n        };\n        this._getStaticData = (asPath) => {\n            const pathname = prepareRoute(url_1.parse(asPath).pathname);\n            return process.env.NODE_ENV === 'production' && this.sdc[pathname]\n                ? Promise.resolve(this.sdc[pathname])\n                : fetchNextData(pathname, null, this.isSsr, data => (this.sdc[pathname] = data));\n        };\n        this._getServerData = (asPath) => {\n            let { pathname, query } = url_1.parse(asPath, true);\n            pathname = prepareRoute(pathname);\n            return fetchNextData(pathname, query, this.isSsr);\n        };\n        // represents the current component key\n        this.route = toRoute(pathname);\n        // set up the component cache (by route keys)\n        this.components = {};\n        // We should not keep the cache, if there's an error\n        // Otherwise, this cause issues when when going back and\n        // come again to the errored page.\n        if (pathname !== '/_error') {\n            this.components[this.route] = {\n                Component,\n                props: initialProps,\n                err,\n                __N_SSG: initialProps && initialProps.__N_SSG,\n                __N_SSP: initialProps && initialProps.__N_SSP,\n            };\n        }\n        this.components['/_app'] = { Component: App };\n        // Backwards compat for Router.router.events\n        // TODO: Should be remove the following major version as it was never documented\n        this.events = Router.events;\n        this.pageLoader = pageLoader;\n        this.pathname = pathname;\n        this.query = query;\n        // if auto prerendered and dynamic route wait to update asPath\n        // until after mount to prevent hydration mismatch\n        this.asPath =\n            // @ts-ignore this is temporarily global (attached to window)\n            is_dynamic_1.isDynamicRoute(pathname) && __NEXT_DATA__.autoExport ? pathname : as;\n        this.basePath = basePath;\n        this.sub = subscription;\n        this.clc = null;\n        this._wrapApp = wrapApp;\n        // make sure to ignore extra popState in safari on navigating\n        // back from external site\n        this.isSsr = true;\n        this.isFallback = isFallback;\n        if (typeof window !== 'undefined') {\n            // make sure \"as\" doesn't start with double slashes or else it can\n            // throw an error as it's considered invalid\n            if (as.substr(0, 2) !== '//') {\n                // in order for `e.state` to work on the `onpopstate` event\n                // we have to register the initial route upon initialization\n                this.changeState('replaceState', utils_1.formatWithValidation({ pathname, query }), as);\n            }\n            window.addEventListener('popstate', this.onPopState);\n        }\n    }\n    // @deprecated backwards compatibility even though it's a private method.\n    static _rewriteUrlForNextExport(url) {\n        if (process.env.__NEXT_EXPORT_TRAILING_SLASH) {\n            const rewriteUrlForNextExport = require('./rewrite-url-for-export')\n                .rewriteUrlForNextExport;\n            return rewriteUrlForNextExport(url);\n        }\n        else {\n            return url;\n        }\n    }\n    update(route, mod) {\n        const Component = mod.default || mod;\n        const data = this.components[route];\n        if (!data) {\n            throw new Error(`Cannot update unavailable route: ${route}`);\n        }\n        const newData = Object.assign(Object.assign({}, data), { Component, __N_SSG: mod.__N_SSG, __N_SSP: mod.__N_SSP });\n        this.components[route] = newData;\n        // pages/_app.js updated\n        if (route === '/_app') {\n            this.notify(this.components[this.route]);\n            return;\n        }\n        if (route === this.route) {\n            this.notify(newData);\n        }\n    }\n    reload() {\n        window.location.reload();\n    }\n    /**\n     * Go back in history\n     */\n    back() {\n        window.history.back();\n    }\n    /**\n     * Performs a `pushState` with arguments\n     * @param url of the route\n     * @param as masks `url` for the browser\n     * @param options object you can define `shallow` and other options\n     */\n    push(url, as = url, options = {}) {\n        return this.change('pushState', url, as, options);\n    }\n    /**\n     * Performs a `replaceState` with arguments\n     * @param url of the route\n     * @param as masks `url` for the browser\n     * @param options object you can define `shallow` and other options\n     */\n    replace(url, as = url, options = {}) {\n        return this.change('replaceState', url, as, options);\n    }\n    change(method, _url, _as, options) {\n        return new Promise((resolve, reject) => {\n            if (!options._h) {\n                this.isSsr = false;\n            }\n            // marking route changes as a navigation start entry\n            if (utils_1.ST) {\n                performance.mark('routeChange');\n            }\n            // If url and as provided as an object representation,\n            // we'll format them into the string version here.\n            let url = typeof _url === 'object' ? utils_1.formatWithValidation(_url) : _url;\n            let as = typeof _as === 'object' ? utils_1.formatWithValidation(_as) : _as;\n            url = addBasePath(url);\n            as = addBasePath(as);\n            // Add the ending slash to the paths. So, we can serve the\n            // \"<page>/index.html\" directly for the SSR page.\n            if (process.env.__NEXT_EXPORT_TRAILING_SLASH) {\n                const rewriteUrlForNextExport = require('./rewrite-url-for-export')\n                    .rewriteUrlForNextExport;\n                // @ts-ignore this is temporarily global (attached to window)\n                if (__NEXT_DATA__.nextExport) {\n                    as = rewriteUrlForNextExport(as);\n                }\n            }\n            this.abortComponentLoad(as);\n            // If the url change is only related to a hash change\n            // We should not proceed. We should only change the state.\n            // WARNING: `_h` is an internal option for handing Next.js client-side\n            // hydration. Your app should _never_ use this property. It may change at\n            // any time without notice.\n            if (!options._h && this.onlyAHashChange(as)) {\n                this.asPath = as;\n                Router.events.emit('hashChangeStart', as);\n                this.changeState(method, url, as, options);\n                this.scrollToHash(as);\n                Router.events.emit('hashChangeComplete', as);\n                return resolve(true);\n            }\n            const { pathname, query, protocol } = url_1.parse(url, true);\n            if (!pathname || protocol) {\n                if (process.env.NODE_ENV !== 'production') {\n                    throw new Error(`Invalid href passed to router: ${url} https://err.sh/zeit/next.js/invalid-href-passed`);\n                }\n                return resolve(false);\n            }\n            // If asked to change the current URL we should reload the current page\n            // (not location.reload() but reload getInitialProps and other Next.js stuffs)\n            // We also need to set the method = replaceState always\n            // as this should not go into the history (That's how browsers work)\n            // We should compare the new asPath to the current asPath, not the url\n            if (!this.urlIsNew(as)) {\n                method = 'replaceState';\n            }\n            const route = toRoute(pathname);\n            const { shallow = false } = options;\n            if (is_dynamic_1.isDynamicRoute(route)) {\n                const { pathname: asPathname } = url_1.parse(as);\n                const routeRegex = route_regex_1.getRouteRegex(route);\n                const routeMatch = route_matcher_1.getRouteMatcher(routeRegex)(asPathname);\n                if (!routeMatch) {\n                    const missingParams = Object.keys(routeRegex.groups).filter(param => !query[param]);\n                    if (missingParams.length > 0) {\n                        if (process.env.NODE_ENV !== 'production') {\n                            console.warn(`Mismatching \\`as\\` and \\`href\\` failed to manually provide ` +\n                                `the params: ${missingParams.join(', ')} in the \\`href\\`'s \\`query\\``);\n                        }\n                        return reject(new Error(`The provided \\`as\\` value (${asPathname}) is incompatible with the \\`href\\` value (${route}). ` +\n                            `Read more: https://err.sh/zeit/next.js/incompatible-href-as`));\n                    }\n                }\n                else {\n                    // Merge params into `query`, overwriting any specified in search\n                    Object.assign(query, routeMatch);\n                }\n            }\n            Router.events.emit('routeChangeStart', as);\n            // If shallow is true and the route exists in the router cache we reuse the previous result\n            this.getRouteInfo(route, pathname, query, as, shallow).then(routeInfo => {\n                const { error } = routeInfo;\n                if (error && error.cancelled) {\n                    return resolve(false);\n                }\n                Router.events.emit('beforeHistoryChange', as);\n                this.changeState(method, url, as, options);\n                if (process.env.NODE_ENV !== 'production') {\n                    const appComp = this.components['/_app'].Component;\n                    window.next.isPrerendered =\n                        appComp.getInitialProps === appComp.origGetInitialProps &&\n                            !routeInfo.Component.getInitialProps;\n                }\n                this.set(route, pathname, query, as, routeInfo);\n                if (error) {\n                    Router.events.emit('routeChangeError', error, as);\n                    throw error;\n                }\n                Router.events.emit('routeChangeComplete', as);\n                return resolve(true);\n            }, reject);\n        });\n    }\n    changeState(method, url, as, options = {}) {\n        if (process.env.NODE_ENV !== 'production') {\n            if (typeof window.history === 'undefined') {\n                console.error(`Warning: window.history is not available.`);\n                return;\n            }\n            if (typeof window.history[method] === 'undefined') {\n                console.error(`Warning: window.history.${method} is not available`);\n                return;\n            }\n        }\n        if (method !== 'pushState' || utils_1.getURL() !== as) {\n            window.history[method]({\n                url,\n                as,\n                options,\n            }, \n            // Most browsers currently ignores this parameter, although they may use it in the future.\n            // Passing the empty string here should be safe against future changes to the method.\n            // https://developer.mozilla.org/en-US/docs/Web/API/History/replaceState\n            '', as);\n        }\n    }\n    getRouteInfo(route, pathname, query, as, shallow = false) {\n        const cachedRouteInfo = this.components[route];\n        // If there is a shallow route transition possible\n        // If the route is already rendered on the screen.\n        if (shallow && cachedRouteInfo && this.route === route) {\n            return Promise.resolve(cachedRouteInfo);\n        }\n        const handleError = (err, loadErrorFail) => {\n            return new Promise(resolve => {\n                if (err.code === 'PAGE_LOAD_ERROR' || loadErrorFail) {\n                    // If we can't load the page it could be one of following reasons\n                    //  1. Page doesn't exists\n                    //  2. Page does exist in a different zone\n                    //  3. Internal error while loading the page\n                    // So, doing a hard reload is the proper way to deal with this.\n                    window.location.href = as;\n                    // Changing the URL doesn't block executing the current code path.\n                    // So, we need to mark it as a cancelled error and stop the routing logic.\n                    err.cancelled = true;\n                    // @ts-ignore TODO: fix the control flow here\n                    return resolve({ error: err });\n                }\n                if (err.cancelled) {\n                    // @ts-ignore TODO: fix the control flow here\n                    return resolve({ error: err });\n                }\n                resolve(this.fetchComponent('/_error')\n                    .then(res => {\n                    const { page: Component } = res;\n                    const routeInfo = { Component, err };\n                    return new Promise(resolve => {\n                        this.getInitialProps(Component, {\n                            err,\n                            pathname,\n                            query,\n                        }).then(props => {\n                            routeInfo.props = props;\n                            routeInfo.error = err;\n                            resolve(routeInfo);\n                        }, gipErr => {\n                            console.error('Error in error page `getInitialProps`: ', gipErr);\n                            routeInfo.error = err;\n                            routeInfo.props = {};\n                            resolve(routeInfo);\n                        });\n                    });\n                })\n                    .catch(err => handleError(err, true)));\n            });\n        };\n        return new Promise((resolve, reject) => {\n            if (cachedRouteInfo) {\n                return resolve(cachedRouteInfo);\n            }\n            this.fetchComponent(route).then(res => resolve({\n                Component: res.page,\n                __N_SSG: res.mod.__N_SSG,\n                __N_SSP: res.mod.__N_SSP,\n            }), reject);\n        })\n            .then((routeInfo) => {\n            const { Component, __N_SSG, __N_SSP } = routeInfo;\n            if (process.env.NODE_ENV !== 'production') {\n                const { isValidElementType } = require('react-is');\n                if (!isValidElementType(Component)) {\n                    throw new Error(`The default export is not a React Component in page: \"${pathname}\"`);\n                }\n            }\n            return this._getData(() => __N_SSG\n                ? this._getStaticData(as)\n                : __N_SSP\n                    ? this._getServerData(as)\n                    : this.getInitialProps(Component, \n                    // we provide AppTree later so this needs to be `any`\n                    {\n                        pathname,\n                        query,\n                        asPath: as,\n                    })).then(props => {\n                routeInfo.props = props;\n                this.components[route] = routeInfo;\n                return routeInfo;\n            });\n        })\n            .catch(handleError);\n    }\n    set(route, pathname, query, as, data) {\n        this.isFallback = false;\n        this.route = route;\n        this.pathname = pathname;\n        this.query = query;\n        this.asPath = as;\n        this.notify(data);\n    }\n    /**\n     * Callback to execute before replacing router state\n     * @param cb callback to be executed\n     */\n    beforePopState(cb) {\n        this._bps = cb;\n    }\n    onlyAHashChange(as) {\n        if (!this.asPath)\n            return false;\n        const [oldUrlNoHash, oldHash] = this.asPath.split('#');\n        const [newUrlNoHash, newHash] = as.split('#');\n        // Makes sure we scroll to the provided hash if the url/hash are the same\n        if (newHash && oldUrlNoHash === newUrlNoHash && oldHash === newHash) {\n            return true;\n        }\n        // If the urls are change, there's more than a hash change\n        if (oldUrlNoHash !== newUrlNoHash) {\n            return false;\n        }\n        // If the hash has changed, then it's a hash only change.\n        // This check is necessary to handle both the enter and\n        // leave hash === '' cases. The identity case falls through\n        // and is treated as a next reload.\n        return oldHash !== newHash;\n    }\n    scrollToHash(as) {\n        const [, hash] = as.split('#');\n        // Scroll to top if the hash is just `#` with no value\n        if (hash === '') {\n            window.scrollTo(0, 0);\n            return;\n        }\n        // First we check if the element by id is found\n        const idEl = document.getElementById(hash);\n        if (idEl) {\n            idEl.scrollIntoView();\n            return;\n        }\n        // If there's no element with the id, we check the `name` property\n        // To mirror browsers\n        const nameEl = document.getElementsByName(hash)[0];\n        if (nameEl) {\n            nameEl.scrollIntoView();\n        }\n    }\n    urlIsNew(asPath) {\n        return this.asPath !== asPath;\n    }\n    /**\n     * Prefetch page code, you may wait for the data during page rendering.\n     * This feature only works in production!\n     * @param url the href of prefetched page\n     * @param asPath the as path of the prefetched page\n     */\n    prefetch(url, asPath = url, options = {}) {\n        return new Promise((resolve, reject) => {\n            const { pathname, protocol } = url_1.parse(url);\n            if (!pathname || protocol) {\n                if (process.env.NODE_ENV !== 'production') {\n                    throw new Error(`Invalid href passed to router: ${url} https://err.sh/zeit/next.js/invalid-href-passed`);\n                }\n                return;\n            }\n            // Prefetch is not supported in development mode because it would trigger on-demand-entries\n            if (process.env.NODE_ENV !== 'production') {\n                return;\n            }\n            const route = delBasePath(toRoute(pathname));\n            Promise.all([\n                this.pageLoader.prefetchData(url, delBasePath(asPath)),\n                this.pageLoader[options.priority ? 'loadPage' : 'prefetch'](route),\n            ]).then(() => resolve(), reject);\n        });\n    }\n    async fetchComponent(route) {\n        let cancelled = false;\n        const cancel = (this.clc = () => {\n            cancelled = true;\n        });\n        route = delBasePath(route);\n        const componentResult = await this.pageLoader.loadPage(route);\n        if (cancelled) {\n            const error = new Error(`Abort fetching component for route: \"${route}\"`);\n            error.cancelled = true;\n            throw error;\n        }\n        if (cancel === this.clc) {\n            this.clc = null;\n        }\n        return componentResult;\n    }\n    _getData(fn) {\n        let cancelled = false;\n        const cancel = () => {\n            cancelled = true;\n        };\n        this.clc = cancel;\n        return fn().then(data => {\n            if (cancel === this.clc) {\n                this.clc = null;\n            }\n            if (cancelled) {\n                const err = new Error('Loading initial props cancelled');\n                err.cancelled = true;\n                throw err;\n            }\n            return data;\n        });\n    }\n    getInitialProps(Component, ctx) {\n        const { Component: App } = this.components['/_app'];\n        const AppTree = this._wrapApp(App);\n        ctx.AppTree = AppTree;\n        return utils_1.loadGetInitialProps(App, {\n            AppTree,\n            Component,\n            router: this,\n            ctx,\n        });\n    }\n    abortComponentLoad(as) {\n        if (this.clc) {\n            const e = new Error('Route Cancelled');\n            e.cancelled = true;\n            Router.events.emit('routeChangeError', e, as);\n            this.clc();\n            this.clc = null;\n        }\n    }\n    notify(data) {\n        this.sub(data, this.components['/_app'].Component);\n    }\n}\nexports.default = Router;\nRouter.events = mitt_1.default();\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\n// Identify /[param]/ in route string\nconst TEST_ROUTE = /\\/\\[[^/]+?\\](?=\\/|$)/;\nfunction isDynamicRoute(route) {\n    return TEST_ROUTE.test(route);\n}\nexports.isDynamicRoute = isDynamicRoute;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nfunction getRouteMatcher(routeRegex) {\n    const { re, groups } = routeRegex;\n    return (pathname) => {\n        const routeMatch = re.exec(pathname);\n        if (!routeMatch) {\n            return false;\n        }\n        const decode = (param) => {\n            try {\n                return decodeURIComponent(param);\n            }\n            catch (_) {\n                const err = new Error('failed to decode param');\n                err.code = 'DECODE_FAILED';\n                throw err;\n            }\n        };\n        const params = {};\n        Object.keys(groups).forEach((slugName) => {\n            const g = groups[slugName];\n            const m = routeMatch[g.pos];\n            if (m !== undefined) {\n                params[slugName] = ~m.indexOf('/')\n                    ? m.split('/').map(entry => decode(entry))\n                    : g.repeat\n                        ? [decode(m)]\n                        : decode(m);\n            }\n        });\n        return params;\n    };\n}\nexports.getRouteMatcher = getRouteMatcher;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\n// this isn't importing the escape-string-regex module\n// to reduce bytes\nfunction escapeRegex(str) {\n    return str.replace(/[|\\\\{}()[\\]^$+*?.-]/g, '\\\\$&');\n}\nfunction getRouteRegex(normalizedRoute) {\n    // Escape all characters that could be considered RegEx\n    const escapedRoute = escapeRegex(normalizedRoute.replace(/\\/$/, '') || '/');\n    const groups = {};\n    let groupIndex = 1;\n    const parameterizedRoute = escapedRoute.replace(/\\/\\\\\\[([^/]+?)\\\\\\](?=\\/|$)/g, (_, $1) => {\n        const isCatchAll = /^(\\\\\\.){3}/.test($1);\n        groups[$1\n            // Un-escape key\n            .replace(/\\\\([|\\\\{}()[\\]^$+*?.-])/g, '$1')\n            .replace(/^\\.{3}/, '')\n        // eslint-disable-next-line no-sequences\n        ] = { pos: groupIndex++, repeat: isCatchAll };\n        return isCatchAll ? '/(.+?)' : '/([^/]+?)';\n    });\n    let namedParameterizedRoute;\n    // dead code eliminate for browser since it's only needed\n    // while generating routes-manifest\n    if (typeof window === 'undefined') {\n        namedParameterizedRoute = escapedRoute.replace(/\\/\\\\\\[([^/]+?)\\\\\\](?=\\/|$)/g, (_, $1) => {\n            const isCatchAll = /^(\\\\\\.){3}/.test($1);\n            const key = $1\n                // Un-escape key\n                .replace(/\\\\([|\\\\{}()[\\]^$+*?.-])/g, '$1')\n                .replace(/^\\.{3}/, '');\n            return isCatchAll\n                ? `/(?<${escapeRegex(key)}>.+?)`\n                : `/(?<${escapeRegex(key)}>[^/]+?)`;\n        });\n    }\n    return Object.assign({ re: new RegExp('^' + parameterizedRoute + '(?:/)?$', 'i'), groups }, (namedParameterizedRoute\n        ? {\n            namedRegex: `^${namedParameterizedRoute}(?:/)?$`,\n        }\n        : {}));\n}\nexports.getRouteRegex = getRouteRegex;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst url_1 = require(\"url\");\n/**\n * Utils\n */\nfunction execOnce(fn) {\n    let used = false;\n    let result;\n    return ((...args) => {\n        if (!used) {\n            used = true;\n            result = fn(...args);\n        }\n        return result;\n    });\n}\nexports.execOnce = execOnce;\nfunction getLocationOrigin() {\n    const { protocol, hostname, port } = window.location;\n    return `${protocol}//${hostname}${port ? ':' + port : ''}`;\n}\nexports.getLocationOrigin = getLocationOrigin;\nfunction getURL() {\n    const { href } = window.location;\n    const origin = getLocationOrigin();\n    return href.substring(origin.length);\n}\nexports.getURL = getURL;\nfunction getDisplayName(Component) {\n    return typeof Component === 'string'\n        ? Component\n        : Component.displayName || Component.name || 'Unknown';\n}\nexports.getDisplayName = getDisplayName;\nfunction isResSent(res) {\n    return res.finished || res.headersSent;\n}\nexports.isResSent = isResSent;\nasync function loadGetInitialProps(App, ctx) {\n    var _a;\n    if (process.env.NODE_ENV !== 'production') {\n        if ((_a = App.prototype) === null || _a === void 0 ? void 0 : _a.getInitialProps) {\n            const message = `\"${getDisplayName(App)}.getInitialProps()\" is defined as an instance method - visit https://err.sh/zeit/next.js/get-initial-props-as-an-instance-method for more information.`;\n            throw new Error(message);\n        }\n    }\n    // when called from _app `ctx` is nested in `ctx`\n    const res = ctx.res || (ctx.ctx && ctx.ctx.res);\n    if (!App.getInitialProps) {\n        if (ctx.ctx && ctx.Component) {\n            // @ts-ignore pageProps default\n            return {\n                pageProps: await loadGetInitialProps(ctx.Component, ctx.ctx),\n            };\n        }\n        return {};\n    }\n    const props = await App.getInitialProps(ctx);\n    if (res && isResSent(res)) {\n        return props;\n    }\n    if (!props) {\n        const message = `\"${getDisplayName(App)}.getInitialProps()\" should resolve to an object. But found \"${props}\" instead.`;\n        throw new Error(message);\n    }\n    if (process.env.NODE_ENV !== 'production') {\n        if (Object.keys(props).length === 0 && !ctx.ctx) {\n            console.warn(`${getDisplayName(App)} returned an empty object from \\`getInitialProps\\`. This de-optimizes and prevents automatic static optimization. https://err.sh/zeit/next.js/empty-object-getInitialProps`);\n        }\n    }\n    return props;\n}\nexports.loadGetInitialProps = loadGetInitialProps;\nexports.urlObjectKeys = [\n    'auth',\n    'hash',\n    'host',\n    'hostname',\n    'href',\n    'path',\n    'pathname',\n    'port',\n    'protocol',\n    'query',\n    'search',\n    'slashes',\n];\nfunction formatWithValidation(url, options) {\n    if (process.env.NODE_ENV === 'development') {\n        if (url !== null && typeof url === 'object') {\n            Object.keys(url).forEach(key => {\n                if (exports.urlObjectKeys.indexOf(key) === -1) {\n                    console.warn(`Unknown key passed via urlObject into url.format: ${key}`);\n                }\n            });\n        }\n    }\n    return url_1.format(url, options);\n}\nexports.formatWithValidation = formatWithValidation;\nexports.SP = typeof performance !== 'undefined';\nexports.ST = exports.SP &&\n    typeof performance.mark === 'function' &&\n    typeof performance.measure === 'function';\n","\"use strict\";var _interopRequireDefault=require(\"@babel/runtime/helpers/interopRequireDefault\");exports.__esModule=true;exports.default=void 0;var _react=_interopRequireDefault(require(\"react\"));var _head=_interopRequireDefault(require(\"../next-server/lib/head\"));var statusCodes={400:'Bad Request',404:'This page could not be found',405:'Method Not Allowed',500:'Internal Server Error'};function _getInitialProps(_ref){var{res,err}=_ref;var statusCode=res&&res.statusCode?res.statusCode:err?err.statusCode:404;return{statusCode};}/**\n * `Error` component used for handling errors.\n */class Error extends _react.default.Component{render(){var{statusCode}=this.props;var title=this.props.title||statusCodes[statusCode]||'An unexpected error has occurred';return _react.default.createElement(\"div\",{style:styles.error},_react.default.createElement(_head.default,null,_react.default.createElement(\"title\",null,statusCode,\": \",title)),_react.default.createElement(\"div\",null,_react.default.createElement(\"style\",{dangerouslySetInnerHTML:{__html:'body { margin: 0 }'}}),statusCode?_react.default.createElement(\"h1\",{style:styles.h1},statusCode):null,_react.default.createElement(\"div\",{style:styles.desc},_react.default.createElement(\"h2\",{style:styles.h2},title,\".\"))));}}exports.default=Error;Error.displayName='ErrorPage';Error.getInitialProps=_getInitialProps;Error.origGetInitialProps=_getInitialProps;var styles={error:{color:'#000',background:'#fff',fontFamily:'-apple-system, BlinkMacSystemFont, Roboto, \"Segoe UI\", \"Fira Sans\", Avenir, \"Helvetica Neue\", \"Lucida Grande\", sans-serif',height:'100vh',textAlign:'center',display:'flex',flexDirection:'column',alignItems:'center',justifyContent:'center'},desc:{display:'inline-block',textAlign:'left',lineHeight:'49px',height:'49px',verticalAlign:'middle'},h1:{display:'inline-block',borderRight:'1px solid rgba(0, 0, 0,.3)',margin:0,marginRight:'20px',padding:'10px 23px 10px 0',fontSize:'24px',fontWeight:500,verticalAlign:'top'},h2:{fontSize:'14px',fontWeight:'normal',lineHeight:'inherit',margin:0,padding:0}};","module.exports = require('./dist/pages/_error')\n","module.exports = require('./dist/client/link')\n","function _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    \"default\": obj\n  };\n}\n\nmodule.exports = _interopRequireDefault;","var _typeof = require(\"../helpers/typeof\");\n\nfunction _getRequireWildcardCache() {\n  if (typeof WeakMap !== \"function\") return null;\n  var cache = new WeakMap();\n\n  _getRequireWildcardCache = function _getRequireWildcardCache() {\n    return cache;\n  };\n\n  return cache;\n}\n\nfunction _interopRequireWildcard(obj) {\n  if (obj && obj.__esModule) {\n    return obj;\n  }\n\n  if (obj === null || _typeof(obj) !== \"object\" && typeof obj !== \"function\") {\n    return {\n      \"default\": obj\n    };\n  }\n\n  var cache = _getRequireWildcardCache();\n\n  if (cache && cache.has(obj)) {\n    return cache.get(obj);\n  }\n\n  var newObj = {};\n  var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor;\n\n  for (var key in obj) {\n    if (Object.prototype.hasOwnProperty.call(obj, key)) {\n      var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null;\n\n      if (desc && (desc.get || desc.set)) {\n        Object.defineProperty(newObj, key, desc);\n      } else {\n        newObj[key] = obj[key];\n      }\n    }\n  }\n\n  newObj[\"default\"] = obj;\n\n  if (cache) {\n    cache.set(obj, newObj);\n  }\n\n  return newObj;\n}\n\nmodule.exports = _interopRequireWildcard;","function _typeof2(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof2 = function _typeof2(obj) { return typeof obj; }; } else { _typeof2 = function _typeof2(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof2(obj); }\n\nfunction _typeof(obj) {\n  if (typeof Symbol === \"function\" && _typeof2(Symbol.iterator) === \"symbol\") {\n    module.exports = _typeof = function _typeof(obj) {\n      return _typeof2(obj);\n    };\n  } else {\n    module.exports = _typeof = function _typeof(obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : _typeof2(obj);\n    };\n  }\n\n  return _typeof(obj);\n}\n\nmodule.exports = _typeof;","/** @license React v16.8.6\n * react-is.development.js\n *\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n'use strict';\n\n\n\nif (process.env.NODE_ENV !== \"production\") {\n  (function() {\n'use strict';\n\nObject.defineProperty(exports, '__esModule', { value: true });\n\n// The Symbol used to tag the ReactElement-like types. If there is no native Symbol\n// nor polyfill, then a plain number is used for performance.\nvar hasSymbol = typeof Symbol === 'function' && Symbol.for;\n\nvar REACT_ELEMENT_TYPE = hasSymbol ? Symbol.for('react.element') : 0xeac7;\nvar REACT_PORTAL_TYPE = hasSymbol ? Symbol.for('react.portal') : 0xeaca;\nvar REACT_FRAGMENT_TYPE = hasSymbol ? Symbol.for('react.fragment') : 0xeacb;\nvar REACT_STRICT_MODE_TYPE = hasSymbol ? Symbol.for('react.strict_mode') : 0xeacc;\nvar REACT_PROFILER_TYPE = hasSymbol ? Symbol.for('react.profiler') : 0xead2;\nvar REACT_PROVIDER_TYPE = hasSymbol ? Symbol.for('react.provider') : 0xeacd;\nvar REACT_CONTEXT_TYPE = hasSymbol ? Symbol.for('react.context') : 0xeace;\nvar REACT_ASYNC_MODE_TYPE = hasSymbol ? Symbol.for('react.async_mode') : 0xeacf;\nvar REACT_CONCURRENT_MODE_TYPE = hasSymbol ? Symbol.for('react.concurrent_mode') : 0xeacf;\nvar REACT_FORWARD_REF_TYPE = hasSymbol ? Symbol.for('react.forward_ref') : 0xead0;\nvar REACT_SUSPENSE_TYPE = hasSymbol ? Symbol.for('react.suspense') : 0xead1;\nvar REACT_MEMO_TYPE = hasSymbol ? Symbol.for('react.memo') : 0xead3;\nvar REACT_LAZY_TYPE = hasSymbol ? Symbol.for('react.lazy') : 0xead4;\n\nfunction isValidElementType(type) {\n  return typeof type === 'string' || typeof type === 'function' ||\n  // Note: its typeof might be other than 'symbol' or 'number' if it's a polyfill.\n  type === REACT_FRAGMENT_TYPE || type === REACT_CONCURRENT_MODE_TYPE || type === REACT_PROFILER_TYPE || type === REACT_STRICT_MODE_TYPE || type === REACT_SUSPENSE_TYPE || typeof type === 'object' && type !== null && (type.$$typeof === REACT_LAZY_TYPE || type.$$typeof === REACT_MEMO_TYPE || type.$$typeof === REACT_PROVIDER_TYPE || type.$$typeof === REACT_CONTEXT_TYPE || type.$$typeof === REACT_FORWARD_REF_TYPE);\n}\n\n/**\n * Forked from fbjs/warning:\n * https://github.com/facebook/fbjs/blob/e66ba20ad5be433eb54423f2b097d829324d9de6/packages/fbjs/src/__forks__/warning.js\n *\n * Only change is we use console.warn instead of console.error,\n * and do nothing when 'console' is not supported.\n * This really simplifies the code.\n * ---\n * Similar to invariant but only logs a warning if the condition is not met.\n * This can be used to log issues in development environments in critical\n * paths. Removing the logging code for production environments will keep the\n * same logic and follow the same code paths.\n */\n\nvar lowPriorityWarning = function () {};\n\n{\n  var printWarning = function (format) {\n    for (var _len = arguments.length, args = Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n      args[_key - 1] = arguments[_key];\n    }\n\n    var argIndex = 0;\n    var message = 'Warning: ' + format.replace(/%s/g, function () {\n      return args[argIndex++];\n    });\n    if (typeof console !== 'undefined') {\n      console.warn(message);\n    }\n    try {\n      // --- Welcome to debugging React ---\n      // This error was thrown as a convenience so that you can use this stack\n      // to find the callsite that caused this warning to fire.\n      throw new Error(message);\n    } catch (x) {}\n  };\n\n  lowPriorityWarning = function (condition, format) {\n    if (format === undefined) {\n      throw new Error('`lowPriorityWarning(condition, format, ...args)` requires a warning ' + 'message argument');\n    }\n    if (!condition) {\n      for (var _len2 = arguments.length, args = Array(_len2 > 2 ? _len2 - 2 : 0), _key2 = 2; _key2 < _len2; _key2++) {\n        args[_key2 - 2] = arguments[_key2];\n      }\n\n      printWarning.apply(undefined, [format].concat(args));\n    }\n  };\n}\n\nvar lowPriorityWarning$1 = lowPriorityWarning;\n\nfunction typeOf(object) {\n  if (typeof object === 'object' && object !== null) {\n    var $$typeof = object.$$typeof;\n    switch ($$typeof) {\n      case REACT_ELEMENT_TYPE:\n        var type = object.type;\n\n        switch (type) {\n          case REACT_ASYNC_MODE_TYPE:\n          case REACT_CONCURRENT_MODE_TYPE:\n          case REACT_FRAGMENT_TYPE:\n          case REACT_PROFILER_TYPE:\n          case REACT_STRICT_MODE_TYPE:\n          case REACT_SUSPENSE_TYPE:\n            return type;\n          default:\n            var $$typeofType = type && type.$$typeof;\n\n            switch ($$typeofType) {\n              case REACT_CONTEXT_TYPE:\n              case REACT_FORWARD_REF_TYPE:\n              case REACT_PROVIDER_TYPE:\n                return $$typeofType;\n              default:\n                return $$typeof;\n            }\n        }\n      case REACT_LAZY_TYPE:\n      case REACT_MEMO_TYPE:\n      case REACT_PORTAL_TYPE:\n        return $$typeof;\n    }\n  }\n\n  return undefined;\n}\n\n// AsyncMode is deprecated along with isAsyncMode\nvar AsyncMode = REACT_ASYNC_MODE_TYPE;\nvar ConcurrentMode = REACT_CONCURRENT_MODE_TYPE;\nvar ContextConsumer = REACT_CONTEXT_TYPE;\nvar ContextProvider = REACT_PROVIDER_TYPE;\nvar Element = REACT_ELEMENT_TYPE;\nvar ForwardRef = REACT_FORWARD_REF_TYPE;\nvar Fragment = REACT_FRAGMENT_TYPE;\nvar Lazy = REACT_LAZY_TYPE;\nvar Memo = REACT_MEMO_TYPE;\nvar Portal = REACT_PORTAL_TYPE;\nvar Profiler = REACT_PROFILER_TYPE;\nvar StrictMode = REACT_STRICT_MODE_TYPE;\nvar Suspense = REACT_SUSPENSE_TYPE;\n\nvar hasWarnedAboutDeprecatedIsAsyncMode = false;\n\n// AsyncMode should be deprecated\nfunction isAsyncMode(object) {\n  {\n    if (!hasWarnedAboutDeprecatedIsAsyncMode) {\n      hasWarnedAboutDeprecatedIsAsyncMode = true;\n      lowPriorityWarning$1(false, 'The ReactIs.isAsyncMode() alias has been deprecated, ' + 'and will be removed in React 17+. Update your code to use ' + 'ReactIs.isConcurrentMode() instead. It has the exact same API.');\n    }\n  }\n  return isConcurrentMode(object) || typeOf(object) === REACT_ASYNC_MODE_TYPE;\n}\nfunction isConcurrentMode(object) {\n  return typeOf(object) === REACT_CONCURRENT_MODE_TYPE;\n}\nfunction isContextConsumer(object) {\n  return typeOf(object) === REACT_CONTEXT_TYPE;\n}\nfunction isContextProvider(object) {\n  return typeOf(object) === REACT_PROVIDER_TYPE;\n}\nfunction isElement(object) {\n  return typeof object === 'object' && object !== null && object.$$typeof === REACT_ELEMENT_TYPE;\n}\nfunction isForwardRef(object) {\n  return typeOf(object) === REACT_FORWARD_REF_TYPE;\n}\nfunction isFragment(object) {\n  return typeOf(object) === REACT_FRAGMENT_TYPE;\n}\nfunction isLazy(object) {\n  return typeOf(object) === REACT_LAZY_TYPE;\n}\nfunction isMemo(object) {\n  return typeOf(object) === REACT_MEMO_TYPE;\n}\nfunction isPortal(object) {\n  return typeOf(object) === REACT_PORTAL_TYPE;\n}\nfunction isProfiler(object) {\n  return typeOf(object) === REACT_PROFILER_TYPE;\n}\nfunction isStrictMode(object) {\n  return typeOf(object) === REACT_STRICT_MODE_TYPE;\n}\nfunction isSuspense(object) {\n  return typeOf(object) === REACT_SUSPENSE_TYPE;\n}\n\nexports.typeOf = typeOf;\nexports.AsyncMode = AsyncMode;\nexports.ConcurrentMode = ConcurrentMode;\nexports.ContextConsumer = ContextConsumer;\nexports.ContextProvider = ContextProvider;\nexports.Element = Element;\nexports.ForwardRef = ForwardRef;\nexports.Fragment = Fragment;\nexports.Lazy = Lazy;\nexports.Memo = Memo;\nexports.Portal = Portal;\nexports.Profiler = Profiler;\nexports.StrictMode = StrictMode;\nexports.Suspense = Suspense;\nexports.isValidElementType = isValidElementType;\nexports.isAsyncMode = isAsyncMode;\nexports.isConcurrentMode = isConcurrentMode;\nexports.isContextConsumer = isContextConsumer;\nexports.isContextProvider = isContextProvider;\nexports.isElement = isElement;\nexports.isForwardRef = isForwardRef;\nexports.isFragment = isFragment;\nexports.isLazy = isLazy;\nexports.isMemo = isMemo;\nexports.isPortal = isPortal;\nexports.isProfiler = isProfiler;\nexports.isStrictMode = isStrictMode;\nexports.isSuspense = isSuspense;\n  })();\n}\n","'use strict';\n\nif (process.env.NODE_ENV === 'production') {\n  module.exports = require('./cjs/react-is.production.min.js');\n} else {\n  module.exports = require('./cjs/react-is.development.js');\n}\n","export { asyncDelete, asyncGet, asyncHttp, asyncPatch, asyncPost, asyncPut, xhr } from \"./lib/xhr\";\nexport { SimpleError, HTTPError } from \"./lib/error\";\nexport { notificationService, useNotificationService, useNotifications } from \"./lib/notification\";\nexport { append, del, find, get, isNull, isNullOrEmpty, set, shallowEqual, useShallowEqual, update } from \"./lib/utils/object\";\nexport { generateCodeChallenge, generateCodeVerifier, generateNonce, generateState, getIdp, parseJwt, validateToken } from \"./lib/utils/auth\";\nexport { generateRandomString } from \"./lib/utils/string\";\nexport { encrypt, decrypt, sha256, verify } from \"./lib/utils/crypt\";\nexport { urlBuilder, isAbsoluteUrl, absoluteUrl, toUrl, toRelativeUrl, toLocation } from \"./lib/utils/url\";\nexport { crudService, useDelete, useGet, usePatch, usePost, usePostPutPatch, usePut, useSecureDelete, useSecureGet, useSecurePatch, useSecurePost, useSecurePostPutPatch, useSecurePut } from \"./lib/crud\";\nexport { every, latest, leading, debounce, throttle } from \"./lib/saga\";\nexport { secure, SecureRoute } from \"./lib/secure\";\nexport { useLocalService, createReduxService, useReduxService, useGlobalService, useGenericReducer, genericService } from \"./lib/service\";\nexport { useReduxSelector, createReduxStore } from \"./lib/store\";\nexport { loginService, useLoginService, useLoginCallbackService, useLoginError, logoutService, useLogoutService, useLogoutCallbackService, useLogoutError } from \"./lib/login\";\nexport { authService, useAuthService, useSecurityContext } from \"./lib/auth\";\nexport { useOnekiRouter, useLocation, useHistory, useParams, useSetting, useSettings, AppContext } from \"./lib/context\";\nexport { layout, withLayout } from './lib/layout'; // export { default as Dashboard } from './components/dashboard';\n// export { default as DashboardHeader } from './components/dashboard/header';\n// export { default as DashboardFooter } from './components/dashboard/footer';\n// export { Left as DashboardLeft } from './components/dashboard/sidebar';\n// export { Right as DashboardRight } from './components/dashboard/sidebar';\n// export { default as DashboardBody } from './components/dashboard/body';\n// export { default as DashboardToggler } from './components/dashboard/toggler';\n// export { dashboardService, useDashboardService, useDashboard } from './components/dashboard/service';\n// export { Dropdown, DropdownMenu, DropdownAnchor } from './components/dropdown';\n// export { Me, MeContainer } from './components/me';\n// export { Search, SearchContainer } from './components/search';\n\nexport { useI18nService, i18nService, useTranslation, useLocale, useI18n, I18nLink, flattenTranslations } from './lib/i18n';\nexport { useGlobalState, useGlobalProp, useLocalState, useGlobalStateModifier } from './lib/state';\nexport { formService, useForm, FormContext, useFormContext, useField } from './lib/form';\nexport { Input } from './lib/form/input';\nexport { required, regex, email } from './lib/validation';\nexport { extractValidators } from './lib/utils/form';\nexport { default as BaseRouter } from './lib/router/base';\nexport { AppProvider } from './lib/app/app-provider';\nexport { DefaultLoadingComponent, formatSettings } from './lib/utils/app';\nexport { detectLocale, toI18nLocation } from './lib/utils/i18n';\nexport { isAsyncFunction, isAsyncOrPromise, isFalse, isFunction, isFunctionOrPromise, isPromise, isTrue } from './lib/utils/type';\n//# sourceMappingURL=index.js.map","import React, { useMemo, useRef } from 'react';\nimport PropTypes from 'prop-types';\nimport { useSelector, useStore } from 'react-redux';\nimport { get } from '../utils/object';\nimport { detectLocale } from '../utils/i18n';\nimport { createReduxService } from '../service';\nimport { AppContext } from '../context';\nexport var AppProvider = function AppProvider(_ref) {\n  var router = _ref.router,\n      settings = _ref.settings,\n      initialLocale = _ref.initialLocale,\n      translations = _ref.translations,\n      i18nNs = _ref.i18nNs,\n      services = _ref.services,\n      children = _ref.children;\n  var reduxLocale = useSelector(function (state) {\n    return get(state, 'i18n.locale');\n  });\n  var store = useStore();\n  var locale = useMemo(function () {\n    return detectLocale(router.location, reduxLocale, settings, initialLocale);\n  }, [router.location, reduxLocale, settings, initialLocale]);\n  var appContext = useMemo(function () {\n    return {\n      router: router,\n      settings: settings,\n      i18n: {\n        translations: translations,\n        ns: i18nNs,\n        locale: locale\n      }\n    };\n  }, [router, settings, translations, i18nNs, locale]);\n  router.i18n = {\n    translations: translations,\n    ns: i18nNs,\n    locale: locale\n  };\n  var contextRef = useRef({});\n  Object.assign(contextRef.current, appContext, {\n    store: store\n  });\n  useMemo(function () {\n    services.forEach(function (service) {\n      createReduxService(service, contextRef.current);\n    });\n  }, [services]);\n  return /*#__PURE__*/React.createElement(AppContext.Provider, {\n    value: appContext\n  }, children);\n};\nAppProvider.propTypes = {\n  router: PropTypes.object,\n  settings: PropTypes.object,\n  initialLocale: PropTypes.string,\n  translations: PropTypes.object,\n  i18nNs: PropTypes.arrayOf(PropTypes.string),\n  services: PropTypes.arrayOf(PropTypes.object),\n  children: PropTypes.element\n};\n//# sourceMappingURL=app-provider.js.map","import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport _regeneratorRuntime from \"@babel/runtime/regenerator\";\n\nfunction _createForOfIteratorHelper(o, allowArrayLike) { var it; if (typeof Symbol === \"undefined\" || o[Symbol.iterator] == null) { if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") { if (it) o = it; var i = 0; var F = function F() {}; return { s: F, n: function n() { if (i >= o.length) return { done: true }; return { done: false, value: o[i++] }; }, e: function e(_e) { throw _e; }, f: F }; } throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); } var normalCompletion = true, didErr = false, err; return { s: function s() { it = o[Symbol.iterator](); }, n: function n() { var step = it.next(); normalCompletion = step.done; return step; }, e: function e(_e2) { didErr = true; err = _e2; }, f: function f() { try { if (!normalCompletion && it[\"return\"] != null) it[\"return\"](); } finally { if (didErr) throw err; } } }; }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nimport { useEffect, useState } from \"react\";\nimport { call, delay, spawn } from \"redux-saga/effects\";\nimport HTTPError from \"./error\";\nimport { every, latest } from \"./saga\";\nimport { useReduxService } from \"./service\";\nimport { useReduxSelector } from \"./store\";\nimport { getIdp, getIdpName, parseJwt, validateToken, oauth2Keys } from \"./utils/auth\";\nimport { get, isNull, set, del } from \"./utils/object\";\nimport { onStorageChange, removeItem, setItem, getItem } from \"./utils/storage\";\nimport { absoluteUrl } from \"./utils/url\";\nimport { asyncGet, asyncPost } from \"./xhr\";\nexport var authService = {\n  name: \"auth\",\n  reducers: {\n    /**\n     * Save the security context in the redux store\n     * \n     * @param {object} state : state of the redux store\n     * @param {object} securityContext : the security context to save\n     */\n    setSecurityContext: function setSecurityContext(state, securityContext) {\n      set(state, \"auth.securityContext\", securityContext);\n    },\n\n    /**\n     * Save the token in the redux store\n     * \n     * @param {object} state : state of the redux store\n     * @param {string|object} token : the token to save\n     * @param {object} context :\n     *    - settings: the full settings object passed to the application\n     */\n    setToken: function setToken(state, token, _ref) {\n      var settings = _ref.settings;\n      var idpName = getIdpName(state);\n      var idp = getIdp(settings, idpName);\n      var persist = get(idp, \"persist\", null);\n      var toCookie = null; // we only persist in the cookie the refresh token and if not specified, the access token\n\n      if (persist === \"cookie\") {\n        for (var _i = 0, _arr = [\"refresh_token\", \"access_token\", \"token\"]; _i < _arr.length; _i++) {\n          var type = _arr[_i];\n\n          if (token && token[type]) {\n            toCookie = type;\n            break;\n          }\n        }\n      } // any other key will not be saved in the cookie but in the sessionStorage\n\n\n      var storage = function storage(k) {\n        if (!token || persist === null || persist === \"memory\") return persist;\n        if (k === toCookie) return \"cookie\";\n        return persist === \"localStorage\" ? \"localStorage\" : \"sessionStorage\";\n      };\n\n      if (isNull(token) || persist === null) {\n        // if the token is null or the config specifies to persist nothing, \n        // we remove to token from the persistent storage\n        oauth2Keys.forEach(function (k) {\n          removeItem(\"onekijs.\".concat(k), storage(k));\n        });\n        removeItem('onekijs.token', storage(\"token\")); // remove the token from the redux state.\n\n        del(state, 'auth.token');\n      } else if (persist === \"memory\") {\n        set(state, 'auth.token', token);\n      } else if (typeof token === \"string\") {\n        // it's not a oauth2 token but a simple \"string\" token. Persist as it is\n        setItem(\"onekijs.token\", token, storage(\"token\")); // persist the token in the redux state. It can be added as a bearer to any ajax request.\n\n        set(state, 'auth.token', token);\n      } else {\n        // it's an oauth2 token, persist all keys\n        oauth2Keys.forEach(function (k) {\n          if (token[k]) {\n            setItem(\"onekijs.\".concat(k), \"\".concat(token[k]), storage(k));\n          }\n        }); // create a expirtes_at key for convenience\n\n        if (token.expires_in && !token.expires_at) {\n          token.expires_at = Date.now() + parseInt(token.expires_in) * 1000;\n          setItem('onekijs.expires_at', \"\".concat(token.expires_at), storage('expires_at'));\n        } // persist the token in the redux state. It can be added as a bearer to any ajax request.\n\n\n        set(state, 'auth.token', token);\n      }\n    },\n\n    /**\n     * Save the idp name in the redux store\n     * \n     * @param {object} state : state of the redux store\n     * @param {object} idp : the IDP to save (full object). Can be null for removal\n     * @param {object} context :\n     *    - router: the OnekiJS router of the application\n     *    - settings: the full settings object passed to the application\n     */\n    setIdp: function setIdp(state, idp, _ref2) {\n      var router = _ref2.router,\n          settings = _ref2.settings;\n      var nextIdp = idp;\n\n      if (isNull(idp)) {\n        // if it's a removal, we need to check in which storage the idp name was saved\n        // get the current idpName from the redux store\n        var idpName = getIdpName(state); // if not found, the idp was already removed\n\n        if (isNull(idpName)) return; // build the full IDP object from the settings\n\n        idp = getIdp(settings, idpName);\n      } // get the persistence storage specified by the IDP (null means that \n      // nothing related to authentication is persisted on the client side)\n\n\n      var persist = get(idp, 'persist', null); // the idpName is always persisted (in the localStorage except if persist is sessionStorage)\n      // This allows a user to refresh the tab (always) and open a new tab (if persist is not sessionStorage) \n\n      var storage = persist === 'sessionStorage' ? 'sessionStorage' : 'localStorage';\n\n      if (isNull(nextIdp)) {\n        // it's a removal, just remove from the redux store\n        set(state, 'auth.idpName', null); // and the persistence storage\n\n        removeItem('onekijs.idpName', storage);\n      } else {\n        // save the idp name in the redux store\n        set(state, 'auth.idpName', nextIdp.name); // and in the persistence storage\n\n        setItem('onekijs.idpName', nextIdp.name, storage);\n\n        if (storage === \"localStorage\") {\n          // listen to change on the idpName key and logout every other tab\n          onStorageChange(\"onekijs.idpName\", function (value) {\n            if (value !== nextIdp.name) {\n              router.push(get(settings, 'routes.logout') || '/logout');\n            }\n          });\n        }\n      }\n    }\n  },\n  sagas: {\n    /**\n     * Clear all authentication data from the redux store \n     * and the persistence storage\n     * \n     * @param {object} action :\n     *    - onError: callback for any error\n     *    - onSuccess: callback for any success\n     */\n    clear: latest( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(_ref3) {\n      var onError, onSuccess;\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              onError = _ref3.onError, onSuccess = _ref3.onSuccess;\n              _context.prev = 1;\n              _context.next = 4;\n              return call(this.setSecurityContext, null);\n\n            case 4:\n              _context.next = 6;\n              return call(this.setToken, null);\n\n            case 6:\n              _context.next = 8;\n              return call(this.setIdp, null);\n\n            case 8:\n              if (!onSuccess) {\n                _context.next = 11;\n                break;\n              }\n\n              _context.next = 11;\n              return call(onSuccess);\n\n            case 11:\n              _context.next = 21;\n              break;\n\n            case 13:\n              _context.prev = 13;\n              _context.t0 = _context[\"catch\"](1);\n\n              if (!onError) {\n                _context.next = 20;\n                break;\n              }\n\n              _context.next = 18;\n              return call(onError, _context.t0);\n\n            case 18:\n              _context.next = 21;\n              break;\n\n            case 20:\n              throw _context.t0;\n\n            case 21:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee, this, [[1, 13]]);\n    })),\n\n    /**\n     * Get the security context from the server and save it\n     * \n     * @param {object} action :\n     *    - onError: callback for any error\n     *    - onSuccess: callback for any success\n     * @param {object} context : \n     *    - store: the redux store\n     *    - router: the OnekiJS router of the application\n     *    - settings: the full settings object passed to the application\n     */\n    fetchSecurityContext: latest( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2(_ref4, _ref5) {\n      var onSuccess, onError, store, router, settings, idpName, idp, userinfoEndpoint, securityContext, token, token_prop;\n      return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              onSuccess = _ref4.onSuccess, onError = _ref4.onError;\n              store = _ref5.store, router = _ref5.router, settings = _ref5.settings;\n              _context2.prev = 2;\n              idpName = getIdpName(store.getState());\n\n              if (!(!idpName || idpName === \"null\")) {\n                _context2.next = 6;\n                break;\n              }\n\n              throw new HTTPError(401);\n\n            case 6:\n              idp = getIdp(settings, idpName);\n\n              if (idp) {\n                _context2.next = 9;\n                break;\n              }\n\n              throw new HTTPError(500, \"Could not find the configuration for IDP \".concat(idpName, \" in the settings\"));\n\n            case 9:\n              userinfoEndpoint = idp.userinfoEndpoint;\n\n              if (userinfoEndpoint) {\n                _context2.next = 12;\n                break;\n              }\n\n              throw new HTTPError(500, \"Could not find a valid userinfo endpoint for idp \".concat(idpName));\n\n            case 12:\n              securityContext = null; // we fetch the token from the redux store \n\n              token = get(store.getState(), \"auth.token\"); // or from the persistence storage\n\n              if (token) {\n                _context2.next = 18;\n                break;\n              }\n\n              _context2.next = 17;\n              return call(this.loadToken);\n\n            case 17:\n              token = get(store.getState(), \"auth.token\");\n\n            case 18:\n              if (!(typeof userinfoEndpoint === \"function\")) {\n                _context2.next = 24;\n                break;\n              }\n\n              _context2.next = 21;\n              return call(userinfoEndpoint, idp, {\n                store: store,\n                router: router,\n                settings: settings\n              });\n\n            case 21:\n              securityContext = _context2.sent;\n              _context2.next = 34;\n              break;\n\n            case 24:\n              if (!userinfoEndpoint.startsWith(\"token://\")) {\n                _context2.next = 31;\n                break;\n              }\n\n              // from the userinfo endpoint, we check which property of the token \n              // contains the security context (usually the id_token)\n              // if no property was specified, the full token is the security context\n              token_prop = userinfoEndpoint.split(\"/\")[2];\n\n              if (token) {\n                _context2.next = 28;\n                break;\n              }\n\n              throw new HTTPError(401);\n\n            case 28:\n              securityContext = token_prop ? parseJwt(token[token_prop]) : parseJwt(token);\n              _context2.next = 34;\n              break;\n\n            case 31:\n              _context2.next = 33;\n              return call(asyncGet, absoluteUrl(userinfoEndpoint, get(settings, \"server.baseUrl\")), {\n                // we add a bearer auth if a token was saved in the redux store\n                auth: get(store.getState(), \"auth\")\n              });\n\n            case 33:\n              securityContext = _context2.sent;\n\n            case 34:\n              _context2.next = 36;\n              return call(this.setSecurityContext, securityContext);\n\n            case 36:\n              if (!onSuccess) {\n                _context2.next = 39;\n                break;\n              }\n\n              _context2.next = 39;\n              return call(onSuccess, securityContext);\n\n            case 39:\n              return _context2.abrupt(\"return\", securityContext);\n\n            case 42:\n              _context2.prev = 42;\n              _context2.t0 = _context2[\"catch\"](2);\n\n              if (!onError) {\n                _context2.next = 49;\n                break;\n              }\n\n              _context2.next = 47;\n              return call(onError, _context2.t0);\n\n            case 47:\n              _context2.next = 50;\n              break;\n\n            case 49:\n              throw _context2.t0;\n\n            case 50:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, _callee2, this, [[2, 42]]);\n    })),\n\n    /**\n     * Load the token from the persistence storage to the redux store\n     * \n     * @param {object} action :\n     *    - onError: callback for any error\n     *    - onSuccess: callback for any success\n     * @param {object} context : \n     *    - store: the redux store\n     *    - settings: the full settings object passed to the application\n     */\n    loadToken: latest( /*#__PURE__*/_regeneratorRuntime.mark(function _callee3(_ref6, _ref7) {\n      var onError, onSuccess, store, settings, result, idpName, idp, persist, storage, expires_at, clockSkew, access_token, refresh_token, token, _iterator, _step, k, _token;\n\n      return _regeneratorRuntime.wrap(function _callee3$(_context3) {\n        while (1) {\n          switch (_context3.prev = _context3.next) {\n            case 0:\n              onError = _ref6.onError, onSuccess = _ref6.onSuccess;\n              store = _ref7.store, settings = _ref7.settings;\n              _context3.prev = 2;\n              result = get(store.getState(), \"auth.token\", null);\n\n              if (!isNull(result)) {\n                _context3.next = 64;\n                break;\n              }\n\n              idpName = getIdpName(store.getState());\n\n              if (!(!idpName || idpName === \"null\")) {\n                _context3.next = 8;\n                break;\n              }\n\n              return _context3.abrupt(\"return\", null);\n\n            case 8:\n              idp = getIdp(settings, idpName);\n              persist = get(idp, \"persist\");\n\n              if (persist) {\n                _context3.next = 12;\n                break;\n              }\n\n              return _context3.abrupt(\"return\", null);\n\n            case 12:\n              // TODO: manage cookie storage\n              storage = persist === \"localStorage\" ? \"localStorage\" : \"sessionStorage\";\n              _context3.t0 = parseInt;\n              _context3.next = 16;\n              return call(getItem, \"onekijs.expires_at\", storage);\n\n            case 16:\n              _context3.t1 = _context3.sent;\n              expires_at = (0, _context3.t0)(_context3.t1);\n              clockSkew = idp.clockSkew || 60;\n              _context3.next = 21;\n              return call(getItem, \"onekijs.access_token\", persist);\n\n            case 21:\n              access_token = _context3.sent;\n              _context3.next = 24;\n              return call(getItem, \"onekijs.refresh_token\", persist);\n\n            case 24:\n              refresh_token = _context3.sent;\n\n              if (!(access_token && expires_at >= Date.now() + parseInt(clockSkew) * 1000)) {\n                _context3.next = 51;\n                break;\n              }\n\n              // the token is still valid\n              token = {\n                access_token: access_token,\n                refresh_token: refresh_token\n              }; // build the token\n\n              _iterator = _createForOfIteratorHelper(oauth2Keys);\n              _context3.prev = 28;\n\n              _iterator.s();\n\n            case 30:\n              if ((_step = _iterator.n()).done) {\n                _context3.next = 38;\n                break;\n              }\n\n              k = _step.value;\n\n              if (token[k]) {\n                _context3.next = 36;\n                break;\n              }\n\n              _context3.next = 35;\n              return call(getItem, \"onekijs.\".concat(k), storage);\n\n            case 35:\n              token[k] = _context3.sent;\n\n            case 36:\n              _context3.next = 30;\n              break;\n\n            case 38:\n              _context3.next = 43;\n              break;\n\n            case 40:\n              _context3.prev = 40;\n              _context3.t2 = _context3[\"catch\"](28);\n\n              _iterator.e(_context3.t2);\n\n            case 43:\n              _context3.prev = 43;\n\n              _iterator.f();\n\n              return _context3.finish(43);\n\n            case 46:\n              _context3.next = 48;\n              return call(this.saveToken, {\n                token: token,\n                idp: idp\n              });\n\n            case 48:\n              result = _context3.sent;\n              _context3.next = 64;\n              break;\n\n            case 51:\n              if (!refresh_token) {\n                _context3.next = 57;\n                break;\n              }\n\n              _context3.next = 54;\n              return call(this.refreshToken, {\n                token: {\n                  refresh_token: refresh_token\n                },\n                idp: idp,\n                force: true\n              });\n\n            case 54:\n              result = _context3.sent;\n              _context3.next = 64;\n              break;\n\n            case 57:\n              _context3.next = 59;\n              return call(getItem, 'onekijs.token', persist);\n\n            case 59:\n              _token = _context3.sent;\n\n              if (!_token) {\n                _context3.next = 64;\n                break;\n              }\n\n              _context3.next = 63;\n              return call(this.saveToken, {\n                token: _token,\n                idp: idp\n              });\n\n            case 63:\n              result = _context3.sent;\n\n            case 64:\n              if (!onSuccess) {\n                _context3.next = 67;\n                break;\n              }\n\n              _context3.next = 67;\n              return call(onSuccess, result);\n\n            case 67:\n              return _context3.abrupt(\"return\", result);\n\n            case 70:\n              _context3.prev = 70;\n              _context3.t3 = _context3[\"catch\"](2);\n\n              if (!onError) {\n                _context3.next = 77;\n                break;\n              }\n\n              _context3.next = 75;\n              return call(onError, _context3.t3);\n\n            case 75:\n              _context3.next = 78;\n              break;\n\n            case 77:\n              throw _context3.t3;\n\n            case 78:\n            case \"end\":\n              return _context3.stop();\n          }\n        }\n      }, _callee3, this, [[2, 70], [28, 40, 43, 46]]);\n    })),\n\n    /**\n     * Refresh the token against an IDP\n     * \n     * @param {object} action :\n     *    - token: the current oauth token\n     *    - idp: the IDP used to refresh the token\n     *    - force: refresh the token even the current one is not expired\n     *    - onError: callback for any error\n     * @param {object} context : \n     *    - store: the redux store\n     *    - settings: the full settings object passed to the application\n     */\n    refreshToken: every( /*#__PURE__*/_regeneratorRuntime.mark(function _callee4(_ref8, _ref9) {\n      var token, idp, force, onError, store, router, settings, clockSkew, expires_at, to_delay, actualToken, nextToken, body, headers;\n      return _regeneratorRuntime.wrap(function _callee4$(_context4) {\n        while (1) {\n          switch (_context4.prev = _context4.next) {\n            case 0:\n              token = _ref8.token, idp = _ref8.idp, force = _ref8.force, onError = _ref8.onError;\n              store = _ref9.store, router = _ref9.router, settings = _ref9.settings;\n              _context4.prev = 2;\n\n              if (!(!force && !token.expires_at)) {\n                _context4.next = 5;\n                break;\n              }\n\n              return _context4.abrupt(\"return\", token);\n\n            case 5:\n              if (force) {\n                _context4.next = 15;\n                break;\n              }\n\n              // clockSkew is the delay before the end of token validity triggering \n              // the refreshing of the token\n              clockSkew = idp.clockSkew || 60;\n              expires_at = parseInt(token.expires_at);\n              to_delay = expires_at - clockSkew * 1000 - Date.now();\n\n              if (!(to_delay > 0)) {\n                _context4.next = 12;\n                break;\n              }\n\n              _context4.next = 12;\n              return delay(to_delay);\n\n            case 12:\n              // check that the token has not been revoked or changed\n              actualToken = get(store.getState(), \"auth.token\");\n\n              if (!(token !== actualToken)) {\n                _context4.next = 15;\n                break;\n              }\n\n              return _context4.abrupt(\"return\", actualToken);\n\n            case 15:\n              if (!(typeof idp.tokenEndpoint === \"function\")) {\n                _context4.next = 21;\n                break;\n              }\n\n              _context4.next = 18;\n              return call(idp.tokenEndpoint, \"refreshToken\", idp, {\n                store: store,\n                router: router,\n                settings: settings\n              });\n\n            case 18:\n              nextToken = _context4.sent;\n              _context4.next = 27;\n              break;\n\n            case 21:\n              // build the request for refreshing the token\n              body = {\n                grant_type: \"refresh_token\",\n                client_id: idp.clientId,\n                refresh_token: token.refresh_token\n              };\n              headers = {\n                \"Content-Type\": \"application/x-www-form-urlencoded\"\n              };\n\n              if (idp.clientSecret) {\n                if (idp.clientAuth === \"body\") {\n                  body.client_secret = idp.clientSecret;\n                } else {\n                  headers.auth = {\n                    basic: {\n                      user: idp.clientId,\n                      password: idp.clientSecret\n                    }\n                  };\n                }\n              }\n\n              _context4.next = 26;\n              return call(asyncPost, idp.tokenEndpoint, body, {\n                headers: headers\n              });\n\n            case 26:\n              nextToken = _context4.sent;\n\n            case 27:\n              // add to the result the refresh token (when refreshing a token, \n              // the result don't have the refresh token)\n              nextToken.refresh_token = token.refresh_token; // add a expires_at property to the token for convenience\n\n              if (nextToken.expires_in && !nextToken.expires_at) {\n                nextToken.expires_at = Date.now() + parseInt(token.expires_in) * 1000;\n              }\n\n              _context4.next = 31;\n              return call(this.saveToken, {\n                token: nextToken,\n                idp: idp\n              });\n\n            case 31:\n              return _context4.abrupt(\"return\", _context4.sent);\n\n            case 34:\n              _context4.prev = 34;\n              _context4.t0 = _context4[\"catch\"](2);\n\n              if (!onError) {\n                _context4.next = 41;\n                break;\n              }\n\n              _context4.next = 39;\n              return call(onError, _context4.t0);\n\n            case 39:\n              _context4.next = 42;\n              break;\n\n            case 41:\n              throw _context4.t0;\n\n            case 42:\n            case \"end\":\n              return _context4.stop();\n          }\n        }\n      }, _callee4, this, [[2, 34]]);\n    })),\n\n    /**\n     * Validate the token and save it in the store and persistence storage and  \n     * trigger the refreshing of the token if applicable\n     * \n     * @param {object} action :\n     *    - token: the current oauth token\n     *    - idp: the IDP used to refresh the token\n     *    - onError: callback for any error\n     * @param {object} context : \n     *    - store: the redux store\n     *    - settings: the full settings object passed to the application\n     */\n    saveToken: latest( /*#__PURE__*/_regeneratorRuntime.mark(function _callee5(_ref10, _ref11) {\n      var token, idp, onError, store, router, settings, isValidIdToken, isValidAccessToken;\n      return _regeneratorRuntime.wrap(function _callee5$(_context5) {\n        while (1) {\n          switch (_context5.prev = _context5.next) {\n            case 0:\n              token = _ref10.token, idp = _ref10.idp, onError = _ref10.onError;\n              store = _ref11.store, router = _ref11.router, settings = _ref11.settings;\n              _context5.prev = 2;\n\n              if (!idp.validate) {\n                _context5.next = 20;\n                break;\n              }\n\n              if (idp.jwksEndpoint) {\n                _context5.next = 6;\n                break;\n              }\n\n              throw new HTTPError(500, \"A jwksEndpoint is required to validate tokens\");\n\n            case 6:\n              if (!token.id_token) {\n                _context5.next = 14;\n                break;\n              }\n\n              _context5.next = 9;\n              return call(validateToken, token.id_token, idp.jwksEndpoint, idp, {\n                store: store,\n                router: router,\n                settings: settings\n              });\n\n            case 9:\n              isValidIdToken = _context5.sent;\n\n              if (isValidIdToken) {\n                _context5.next = 12;\n                break;\n              }\n\n              throw new HTTPError(400, \"Invalid id token\");\n\n            case 12:\n              _context5.next = 20;\n              break;\n\n            case 14:\n              if (!token.access_token) {\n                _context5.next = 20;\n                break;\n              }\n\n              _context5.next = 17;\n              return call(validateToken, token.access_token, idp.jwksEndpoint, idp, {\n                store: store,\n                router: router,\n                settings: settings\n              });\n\n            case 17:\n              isValidAccessToken = _context5.sent;\n\n              if (isValidAccessToken) {\n                _context5.next = 20;\n                break;\n              }\n\n              throw new HTTPError(400, \"Invalid access token\");\n\n            case 20:\n              _context5.next = 22;\n              return call(this.setIdp, idp);\n\n            case 22:\n              _context5.next = 24;\n              return call(this.setToken, token);\n\n            case 24:\n              if (!token.refresh_token) {\n                _context5.next = 27;\n                break;\n              }\n\n              _context5.next = 27;\n              return spawn(this.refreshToken, {\n                token: token,\n                idp: idp,\n                onError: onError\n              });\n\n            case 27:\n              return _context5.abrupt(\"return\", token);\n\n            case 30:\n              _context5.prev = 30;\n              _context5.t0 = _context5[\"catch\"](2);\n\n              if (!onError) {\n                _context5.next = 37;\n                break;\n              }\n\n              _context5.next = 35;\n              return call(onError, _context5.t0);\n\n            case 35:\n              _context5.next = 38;\n              break;\n\n            case 37:\n              throw _context5.t0;\n\n            case 38:\n            case \"end\":\n              return _context5.stop();\n          }\n        }\n      }, _callee5, this, [[2, 30]]);\n    }))\n  }\n};\nexport var useAuthService = function useAuthService() {\n  return useReduxService(authService);\n};\nexport var useSecurityContext = function useSecurityContext(selector, defaultValue) {\n  var _useState = useState(false),\n      _useState2 = _slicedToArray(_useState, 2),\n      loading = _useState2[0],\n      setLoading = _useState2[1];\n\n  var securityContext = useReduxSelector('auth.securityContext');\n  var authService = useAuthService();\n  useEffect(function () {\n    if (securityContext !== undefined) {\n      setLoading(false);\n    } else {\n      setLoading(true);\n      authService.fetchSecurityContext({\n        onError: function onError() {\n          return authService.setSecurityContext(null);\n        }\n      });\n    }\n  }, [authService, securityContext]);\n  return [get(securityContext, selector, defaultValue), loading];\n};\n//# sourceMappingURL=auth.js.map","import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport React, { useCallback, useContext, useEffect, useState } from \"react\";\nimport { get } from \"./utils/object\";\nexport var AppContext = React.createContext();\nexport var I18nContext = React.createContext(); // never change the state => no refresh\n\nexport var useOnekiRouter = function useOnekiRouter() {\n  return useContext(AppContext).router;\n}; // change the state every time it changes\n\nexport var useHistory = function useHistory() {\n  var router = useContext(AppContext).router;\n\n  var _useState = useState(router.history),\n      _useState2 = _slicedToArray(_useState, 2),\n      history = _useState2[0],\n      setHistory = _useState2[1];\n\n  var listener = useCallback(function () {\n    setHistory(router.history);\n  }, [setHistory, router.history]);\n  useEffect(function () {\n    router.listen(listener);\n    return function () {\n      router.unlisten(listener);\n    };\n  }, [router, listener]);\n  return history;\n}; // change the state every time it changes\n\nexport var useLocation = function useLocation() {\n  var router = useContext(AppContext).router;\n\n  var _useState3 = useState(router.location),\n      _useState4 = _slicedToArray(_useState3, 2),\n      location = _useState4[0],\n      setLocation = _useState4[1];\n\n  var listener = useCallback(function (location) {\n    setLocation(location);\n  }, [setLocation]);\n  useEffect(function () {\n    router.listen(listener);\n    return function () {\n      router.unlisten(listener);\n    };\n  }, [router, listener]);\n  return location;\n}; // change the state every time it changes\n\nexport var useParams = function useParams() {\n  var router = useContext(AppContext).router;\n\n  var _useState5 = useState(get(router, 'location.params', {})),\n      _useState6 = _slicedToArray(_useState5, 2),\n      params = _useState6[0],\n      setParams = _useState6[1];\n\n  var listener = useCallback(function (location) {\n    setParams(location.params);\n  }, [setParams]);\n  useEffect(function () {\n    router.listen(listener);\n    return function () {\n      router.unlisten(listener);\n    };\n  }, [router, listener]);\n  return params;\n};\nexport var useSetting = function useSetting(selector, defaultValue) {\n  var settings = useContext(AppContext).settings;\n\n  if (selector) {\n    return get(settings, selector, defaultValue);\n  }\n\n  return settings;\n};\nexport var useSettings = function useSettings() {\n  return useContext(AppContext).settings;\n};\n//# sourceMappingURL=context.js.map","import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport _regeneratorRuntime from \"@babel/runtime/regenerator\";\n\nvar _marked = /*#__PURE__*/_regeneratorRuntime.mark(delayLoading);\n\nimport { useEffect, useRef, useCallback } from \"react\";\nimport { notificationService } from \"./notification\";\nimport { every } from \"./saga\";\nimport { useLocalService } from \"./service\";\nimport { useReduxSelector } from \"./store\";\nimport { shallowEqual } from \"./utils/object\";\nimport { asyncHttp } from \"./xhr\";\nimport { call, delay, fork, cancel } from \"redux-saga/effects\";\n\nfunction delayLoading(delay_ms) {\n  return _regeneratorRuntime.wrap(function delayLoading$(_context) {\n    while (1) {\n      switch (_context.prev = _context.next) {\n        case 0:\n          _context.next = 2;\n          return delay(delay_ms);\n\n        case 2:\n          _context.next = 4;\n          return call(this.setLoading, true);\n\n        case 4:\n        case \"end\":\n          return _context.stop();\n      }\n    }\n  }, _marked, this);\n}\n\nexport var crudService = {\n  reducers: {\n    setLoading: function setLoading(state, isLoading) {\n      state.loading = isLoading;\n    },\n    fetchSuccess: function fetchSuccess(state, result) {\n      state.result = result;\n      state.loading = false;\n    }\n  },\n  sagas: {\n    fetch: every( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(_ref, _ref2) {\n      var url, method, _ref$body, body, _ref$options, options, router, loadingTask, result, onSuccess, onError;\n\n      return _regeneratorRuntime.wrap(function _callee$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              url = _ref.url, method = _ref.method, _ref$body = _ref.body, body = _ref$body === void 0 ? null : _ref$body, _ref$options = _ref.options, options = _ref$options === void 0 ? {} : _ref$options;\n              router = _ref2.router;\n              _context2.prev = 2;\n              _context2.next = 5;\n              return fork([this, delayLoading], options.delayLoading || 200);\n\n            case 5:\n              loadingTask = _context2.sent;\n              _context2.next = 8;\n              return call(asyncHttp, url, method, body, options);\n\n            case 8:\n              result = _context2.sent;\n              _context2.next = 11;\n              return cancel(loadingTask);\n\n            case 11:\n              _context2.next = 13;\n              return call(this.fetchSuccess, result);\n\n            case 13:\n              // to update the store and trigger a re-render.\n              onSuccess = options.onSuccess;\n\n              if (!onSuccess) {\n                _context2.next = 22;\n                break;\n              }\n\n              if (!(typeof onSuccess === \"string\")) {\n                _context2.next = 20;\n                break;\n              }\n\n              _context2.next = 18;\n              return call([router, router.push], onSuccess);\n\n            case 18:\n              _context2.next = 22;\n              break;\n\n            case 20:\n              _context2.next = 22;\n              return call(options.onSuccess, result);\n\n            case 22:\n              _context2.next = 41;\n              break;\n\n            case 24:\n              _context2.prev = 24;\n              _context2.t0 = _context2[\"catch\"](2);\n              _context2.next = 28;\n              return call(this.setLoading, false);\n\n            case 28:\n              onError = options.onError;\n\n              if (!onError) {\n                _context2.next = 39;\n                break;\n              }\n\n              if (!(typeof onError === \"string\")) {\n                _context2.next = 35;\n                break;\n              }\n\n              _context2.next = 33;\n              return call([router, router.push], onError);\n\n            case 33:\n              _context2.next = 37;\n              break;\n\n            case 35:\n              _context2.next = 37;\n              return call(onError, _context2.t0);\n\n            case 37:\n              _context2.next = 41;\n              break;\n\n            case 39:\n              _context2.next = 41;\n              return call(this.notificationService.error, _context2.t0);\n\n            case 41:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, _callee, this, [[2, 24]]);\n    }))\n  },\n  inject: {\n    notificationService: notificationService\n  }\n};\nexport var useGet = function useGet(url) {\n  var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  var ref = useRef(options);\n\n  if (shallowEqual(ref.current, options)) {\n    options = ref.current;\n  } else {\n    ref.current = options;\n  }\n\n  var _useLocalService = useLocalService(crudService, {\n    loading: false\n  }),\n      _useLocalService2 = _slicedToArray(_useLocalService, 2),\n      state = _useLocalService2[0],\n      service = _useLocalService2[1];\n\n  var refresh = useCallback(function () {\n    if (url) {\n      service.fetch({\n        url: url,\n        method: \"GET\",\n        options: options\n      });\n    }\n  }, [url, service, options]);\n  useEffect(function () {\n    refresh();\n  }, [refresh]);\n  return [state.result, state.loading, refresh];\n};\nexport var useSecureGet = function useSecureGet(url) {\n  var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  var authKey = useReduxSelector(\"settings.auth.key\", \"auth\");\n  var auth = useReduxSelector(authKey);\n  options.auth = auth;\n  return useGet(url, options);\n};\nexport var useDelete = function useDelete(url) {\n  var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  var ref = useRef(options);\n\n  if (shallowEqual(ref.current, options)) {\n    options = ref.current;\n  } else {\n    ref.current = options;\n  }\n\n  var _useLocalService3 = useLocalService(crudService, {\n    loading: false\n  }),\n      _useLocalService4 = _slicedToArray(_useLocalService3, 2),\n      state = _useLocalService4[0],\n      service = _useLocalService4[1];\n\n  var executor = useCallback(function () {\n    var extraOptions = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    extraOptions = Object.assign({}, options, extraOptions);\n    service.fetch({\n      url: extraOptions.url || url,\n      method: \"DELETE\",\n      options: extraOptions\n    });\n  }, [service, url, options]);\n  return [executor, state.loading];\n};\nexport var useSecureDelete = function useSecureDelete(url) {\n  var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  var authKey = useReduxSelector(\"settings.auth.key\", \"auth\");\n  var auth = useReduxSelector(authKey);\n  options.auth = auth;\n  return useDelete(url, options);\n};\nexport var usePostPutPatch = function usePostPutPatch(url, method) {\n  var options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n  var ref = useRef(options);\n\n  if (shallowEqual(ref.current, options)) {\n    options = ref.current;\n  } else {\n    ref.current = options;\n  }\n\n  var _useLocalService5 = useLocalService(crudService, {\n    loading: false\n  }),\n      _useLocalService6 = _slicedToArray(_useLocalService5, 2),\n      state = _useLocalService6[0],\n      service = _useLocalService6[1];\n\n  var executor = useCallback(function (body) {\n    var extraOptions = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    extraOptions = Object.assign({}, options, extraOptions);\n    service.fetch({\n      url: extraOptions.url || url,\n      method: method,\n      body: body,\n      options: extraOptions\n    });\n  }, [service, url, method, options]);\n  return [executor, state.loading];\n};\nexport var useSecurePostPutPatch = function useSecurePostPutPatch(url, method) {\n  var options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n  var authKey = useReduxSelector(\"settings.auth.key\", \"auth\");\n  var auth = useReduxSelector(authKey);\n  options.auth = auth;\n  return usePostPutPatch(url, method, options);\n};\nexport var usePost = function usePost(url) {\n  var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  return usePostPutPatch(url, \"POST\", options);\n};\nexport var useSecurePost = function useSecurePost(url) {\n  var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  return useSecurePostPutPatch(url, \"POST\", options);\n};\nexport var usePut = function usePut(url) {\n  var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  return usePostPutPatch(url, \"PUT\", options);\n};\nexport var useSecurePut = function useSecurePut(url) {\n  var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  return useSecurePostPutPatch(url, \"PUT\", options);\n};\nexport var usePatch = function usePatch(url) {\n  var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  return usePostPutPatch(url, \"PATCH\", options);\n};\nexport var useSecurePatch = function useSecurePatch(url) {\n  var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  return useSecurePostPutPatch(url, \"PATCH\", options);\n};\n//# sourceMappingURL=crud.js.map","import _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _inherits from \"@babel/runtime/helpers/inherits\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/getPrototypeOf\";\nimport _wrapNativeSuper from \"@babel/runtime/helpers/wrapNativeSuper\";\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\n// https://en.wikipedia.org/wiki/List_of_HTTP_status_codes\nvar httpCodes = {\n  \"100\": \"Continue\",\n  \"101\": \"Switching Protocol\",\n  \"102\": \"Processing\",\n  \"103\": \"Early Hints\",\n  \"200\": \"OK\",\n  \"201\": \" Created\",\n  \"202\": \"Accepted\",\n  \"203\": \"Non-Authoritative Information\",\n  \"204\": \"No Content\",\n  \"205\": \"Reset Content\",\n  \"206\": \"Partial Content\",\n  \"207\": \"Multi-Status\",\n  \"208\": \"Already Reported\",\n  \"226\": \"IM Used\",\n  \"300\": \"Multiple Choices\",\n  \"301\": \"Moved Permanently\",\n  \"302\": \"Moved Temporarily\",\n  \"303\": \"See Other\",\n  \"304\": \"Not Modified\",\n  \"305\": \"Use Proxy\",\n  \"306\": \"Switch Proxy\",\n  \"307\": \"Temporary Redirect\",\n  \"308\": \"Permanent Redirect\",\n  \"400\": \"Bad Request\",\n  \"401\": \"Unauthorized\",\n  \"402\": \"Payment Required\",\n  \"403\": \"Forbidden\",\n  \"404\": \"Not Found\",\n  \"405\": \"Method Not Allowed\",\n  \"406\": \"Not Acceptable\",\n  \"407\": \"Proxy Authentication Required\",\n  \"408\": \"Request Timeout\",\n  \"409\": \"Conflict\",\n  \"410\": \"Gone\",\n  \"411\": \"Length Required\",\n  \"412\": \"Precondition Failed\",\n  \"413\": \"Payload Too Large\",\n  \"414\": \"URI Too Long\",\n  \"415\": \"Unsupported Media Type\",\n  \"416\": \"Range Not Satisfiable\",\n  \"417\": \"Expectation Failed\",\n  \"418\": \"I'm a teapot\",\n  \"421\": \"Misdirected Request\",\n  \"422\": \"Unprocessable Entity\",\n  \"423\": \"Locked\",\n  \"424\": \"Failed Dependency\",\n  \"425\": \"Too Early\",\n  \"426\": \"Upgrade Required\",\n  \"428\": \"Precondition Required\",\n  \"429\": \"Too Many Requests\",\n  \"431\": \"Request Header Fields Too Large\",\n  \"451\": \"Unavailable For Legal Reasons\",\n  \"500\": \"Internal Server Error\",\n  \"501\": \"Not Implemented\",\n  \"502\": \"Bad Gateway\",\n  \"503\": \"Service Unavailable\",\n  \"504\": \"Gateway Timeout\",\n  \"505\": \"HTTP Version Not Supported\",\n  \"506\": \"Variant Also Negotiates\",\n  \"507\": \"Insufficient Storage\",\n  \"508\": \"Loop Detected\",\n  \"510\": \"Not Extended\",\n  \"511\": \"Network Authentication Required\"\n};\nexport var SimpleError = /*#__PURE__*/function (_Error) {\n  _inherits(SimpleError, _Error);\n\n  var _super = _createSuper(SimpleError);\n\n  function SimpleError(message) {\n    var _this;\n\n    var code = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;\n    var payload = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n\n    _classCallCheck(this, SimpleError);\n\n    _this = _super.call(this, message);\n    _this.code = code;\n    _this.payload = payload;\n    return _this;\n  }\n\n  return SimpleError;\n}( /*#__PURE__*/_wrapNativeSuper(Error));\nexport var HTTPError = /*#__PURE__*/function (_SimpleError) {\n  _inherits(HTTPError, _SimpleError);\n\n  var _super2 = _createSuper(HTTPError);\n\n  function HTTPError(code) {\n    var message = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;\n    var payload = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n\n    _classCallCheck(this, HTTPError);\n\n    return _super2.call(this, message || httpCodes[code.toString()], code, payload);\n  }\n\n  return HTTPError;\n}(SimpleError);\nexport default HTTPError;\n//# sourceMappingURL=error.js.map","import _extends from \"@babel/runtime/helpers/extends\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport _regeneratorRuntime from \"@babel/runtime/regenerator\";\n\nfunction _createForOfIteratorHelper(o, allowArrayLike) { var it; if (typeof Symbol === \"undefined\" || o[Symbol.iterator] == null) { if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") { if (it) o = it; var i = 0; var F = function F() {}; return { s: F, n: function n() { if (i >= o.length) return { done: true }; return { done: false, value: o[i++] }; }, e: function e(_e) { throw _e; }, f: F }; } throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); } var normalCompletion = true, didErr = false, err; return { s: function s() { it = o[Symbol.iterator](); }, n: function n() { var step = it.next(); normalCompletion = step.done; return step; }, e: function e(_e2) { didErr = true; err = _e2; }, f: function f() { try { if (!normalCompletion && it[\"return\"] != null) it[\"return\"](); } finally { if (didErr) throw err; } } }; }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nimport React, { useCallback, useContext, useEffect, useMemo, useRef, useState } from 'react';\nimport { call, fork, apply } from \"redux-saga/effects\";\nimport { latest } from './saga';\nimport { useLocalService } from './service';\nimport { del, get, isNull, set } from './utils/object';\nimport { ERROR, LOADING, OK, WARNING } from './validation';\nexport var FormContext = React.createContext();\nexport var useFormContext = function useFormContext() {\n  return useContext(FormContext);\n};\nexport var FieldContext = React.createContext();\nexport var useFieldContext = function useFieldContext() {\n  return useContext(FieldContext);\n};\n\nvar serializeLevel = function serializeLevel(level) {\n  switch (parseInt(level)) {\n    case LOADING:\n      return 'loading';\n\n    case ERROR:\n      return 'error';\n\n    case WARNING:\n      return 'warning';\n\n    case OK:\n      return 'ok';\n\n    default:\n      return null;\n  }\n};\n\nvar _compileValidations = function compileValidations(state, field) {\n  if (field) {\n    for (var level in field.validations) {\n      for (var id in field.validations[level]) {\n        set(state, \"validations.\".concat(field.name), {\n          status: serializeLevel(level),\n          message: field.validations[level][id]\n        });\n        return;\n      }\n    }\n\n    set(state, \"validations.\".concat(field.name), {\n      status: 'ok',\n      message: null\n    });\n  }\n};\n\nvar setValidation = function setValidation(field, id, level) {\n  var message = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : null;\n\n  // clean first\n  if (field) {\n    var validations = field['validations'] || [];\n\n    for (var i in validations) {\n      delete validations[i][id];\n    } // set the message\n\n\n    set(field, \"validations.\".concat(level, \".\").concat(id), message);\n  }\n};\n\nvar clearValidation = function clearValidation(field, id, level) {\n  if (field) {\n    del(field.validations, \"\".concat(level, \".\").concat(id));\n  }\n};\n\nvar validate = /*#__PURE__*/_regeneratorRuntime.mark(function validate(field, validatorName, validator, value) {\n  var result;\n  return _regeneratorRuntime.wrap(function validate$(_context) {\n    while (1) {\n      switch (_context.prev = _context.next) {\n        case 0:\n          _context.next = 2;\n          return call(validator, value);\n\n        case 2:\n          result = _context.sent;\n\n          if (!result.valid) {\n            _context.next = 8;\n            break;\n          }\n\n          _context.next = 6;\n          return call(setValidation, field, validatorName, OK);\n\n        case 6:\n          _context.next = 10;\n          break;\n\n        case 8:\n          _context.next = 10;\n          return call(setValidation, field, validatorName, ERROR, result.message);\n\n        case 10:\n        case \"end\":\n          return _context.stop();\n      }\n    }\n  }, validate);\n});\n\nvar validateAll = /*#__PURE__*/_regeneratorRuntime.mark(function validateAll(field, value, values) {\n  var _this = this;\n\n  var validators, tasks, i, validatorName, validator, hasAsync, _i, _Object$keys, key, _iterator, _step, rule, watchers;\n\n  return _regeneratorRuntime.wrap(function validateAll$(_context2) {\n    while (1) {\n      switch (_context2.prev = _context2.next) {\n        case 0:\n          validators = field.validators; // do all validations\n\n          tasks = [];\n          _context2.t0 = _regeneratorRuntime.keys(validators);\n\n        case 3:\n          if ((_context2.t1 = _context2.t0()).done) {\n            _context2.next = 14;\n            break;\n          }\n\n          i = _context2.t1.value;\n          validatorName = \"__validator_\".concat(i);\n          validator = validators[i];\n          _context2.t2 = tasks;\n          _context2.next = 10;\n          return fork(validate, field, validatorName, validator, value);\n\n        case 10:\n          _context2.t3 = _context2.sent;\n\n          _context2.t2.push.call(_context2.t2, _context2.t3);\n\n          _context2.next = 3;\n          break;\n\n        case 14:\n          hasAsync = tasks.find(function (t) {\n            return t.isRunning();\n          });\n          _context2.next = 17;\n          return call(this._setValue, {\n            name: field.name,\n            value: value,\n            loading: hasAsync !== undefined\n          });\n\n        case 17:\n          _i = 0, _Object$keys = Object.keys(this._listeners);\n\n        case 18:\n          if (!(_i < _Object$keys.length)) {\n            _context2.next = 43;\n            break;\n          }\n\n          key = _Object$keys[_i];\n\n          if (!key.startsWith(field.name)) {\n            _context2.next = 40;\n            break;\n          }\n\n          _iterator = _createForOfIteratorHelper(this._listeners[key]);\n          _context2.prev = 22;\n\n          _iterator.s();\n\n        case 24:\n          if ((_step = _iterator.n()).done) {\n            _context2.next = 32;\n            break;\n          }\n\n          rule = _step.value;\n          console.log(this._state);\n          watchers = rule.watchers.map(function (w) {\n            return get(_this._state, \"values.\".concat(w));\n          });\n          _context2.next = 30;\n          return apply(this, rule.listener, watchers);\n\n        case 30:\n          _context2.next = 24;\n          break;\n\n        case 32:\n          _context2.next = 37;\n          break;\n\n        case 34:\n          _context2.prev = 34;\n          _context2.t4 = _context2[\"catch\"](22);\n\n          _iterator.e(_context2.t4);\n\n        case 37:\n          _context2.prev = 37;\n\n          _iterator.f();\n\n          return _context2.finish(37);\n\n        case 40:\n          _i++;\n          _context2.next = 18;\n          break;\n\n        case 43:\n          return _context2.abrupt(\"return\", hasAsync);\n\n        case 44:\n        case \"end\":\n          return _context2.stop();\n      }\n    }\n  }, validateAll, this, [[22, 34, 37, 40]]);\n});\n\nexport var formService = {\n  init: function init() {\n    var _this2 = this;\n\n    this._fields = {};\n    this._listeners = {};\n\n    this.listen = function (listener, watchers) {\n      var _iterator2 = _createForOfIteratorHelper(watchers),\n          _step2;\n\n      try {\n        for (_iterator2.s(); !(_step2 = _iterator2.n()).done;) {\n          var watcher = _step2.value;\n          _this2._listeners[watcher] = _this2._listeners[watcher] || [];\n\n          _this2._listeners[watcher].push({\n            listener: listener,\n            watchers: watchers\n          });\n        }\n      } catch (err) {\n        _iterator2.e(err);\n      } finally {\n        _iterator2.f();\n      }\n    };\n\n    this.unlisten = function (listener, watchers) {\n      var _iterator3 = _createForOfIteratorHelper(watchers),\n          _step3;\n\n      try {\n        for (_iterator3.s(); !(_step3 = _iterator3.n()).done;) {\n          var watcher = _step3.value;\n          _this2._listeners[watcher] = _this2._listeners[watcher] || [];\n          _this2._listeners[watcher] = _this2._listeners[watcher].filter(function (x) {\n            return x.listener !== listener;\n          });\n        }\n      } catch (err) {\n        _iterator3.e(err);\n      } finally {\n        _iterator3.f();\n      }\n    };\n\n    this.initField = function (name, validators, options) {\n      if (!_this2._fields[name]) {\n        _this2._fields[name] = {\n          name: name,\n          validators: validators,\n          validations: {},\n          options: options,\n          onChange: function onChange(value) {\n            if (value && value.nativeEvent && value.nativeEvent instanceof Event) {\n              value = value.target.value;\n            }\n\n            _this2.setValue({\n              name: name,\n              value: value\n            });\n          },\n          onBlur: function onBlur() {// mark the field as touched\n          }\n        };\n      }\n\n      return _this2._fields[name];\n    };\n  },\n  reducers: {\n    _setValue: function _setValue(state, _ref) {\n      var name = _ref.name,\n          value = _ref.value,\n          _ref$loading = _ref.loading,\n          loading = _ref$loading === void 0 ? false : _ref$loading;\n      set(state, \"values.\".concat(name), value);\n      this._values = state.values;\n\n      if (loading) {\n        setValidation(this._fields[name], '__loading', LOADING, null);\n      } else {\n        clearValidation(this._fields[name], '__loading', LOADING);\n      }\n\n      _compileValidations(state, this._fields[name]);\n    },\n    setError: function setError(state, _ref2) {\n      var id = _ref2.id,\n          name = _ref2.name,\n          message = _ref2.message;\n      setValidation(this._fields[name], id, ERROR, message);\n\n      _compileValidations(state, this._fields[name]);\n    },\n    setWarning: function setWarning(state, _ref3) {\n      var id = _ref3.id,\n          name = _ref3.name,\n          message = _ref3.message;\n      setValidation(this._fields[name], id, WARNING, message);\n\n      _compileValidations(state, this._fields[name]);\n    },\n    setOK: function setOK(state, _ref4) {\n      var id = _ref4.id,\n          name = _ref4.name,\n          message = _ref4.message;\n      setValidation(this._fields[name], id, OK, message);\n\n      _compileValidations(state, this._fields[name]);\n    },\n    compileValidations: function compileValidations(state, name) {\n      _compileValidations(state, this._fields[name]);\n    },\n    setPendingValidation: function setPendingValidation(state, _ref5) {\n      var name = _ref5.name,\n          pending = _ref5.pending;\n\n      if (pending) {\n        setValidation(this._fields[name], '__loading', LOADING, null);\n      } else {\n        clearValidation(this._fields[name], '__loading', LOADING);\n      }\n\n      _compileValidations(state, this._fields[name]);\n    },\n    triggerRule: function triggerRule(state, rule) {\n      var watchers = rule.watchers.map(function (w) {\n        return get(state, \"values.\".concat(w));\n      });\n      rule.listener.apply(undefined, watchers);\n    }\n  },\n  sagas: {\n    setValue: latest( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(_ref6, _ref7) {\n      var name, value, store, field, hasAsync;\n      return _regeneratorRuntime.wrap(function _callee$(_context3) {\n        while (1) {\n          switch (_context3.prev = _context3.next) {\n            case 0:\n              name = _ref6.name, value = _ref6.value;\n              store = _ref7.store;\n              field = this._fields[name];\n\n              if (!field) {\n                _context3.next = 10;\n                break;\n              }\n\n              _context3.next = 6;\n              return call([this, validateAll], field, value, store.getState().values);\n\n            case 6:\n              hasAsync = _context3.sent;\n\n              if (!hasAsync) {\n                _context3.next = 10;\n                break;\n              }\n\n              _context3.next = 10;\n              return call(this.setPendingValidation, {\n                name: name,\n                pending: false\n              });\n\n            case 10:\n            case \"end\":\n              return _context3.stop();\n          }\n        }\n      }, _callee, this);\n    }))\n  }\n};\n/**\n * This callback is used when the user press the submit button\n *\n * @callback submitCallback\n * @param {Object} data - values from the form\n */\n\n/**\n * @param {string|submitCallback} onSubmit - an url or a submit callback\n * @param {Object} options \n */\n\nexport var useForm = function useForm(onSubmit) {\n  var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  // options cannot be changed afterwards. Used as initialState for the service\n  // we copy initialValues to values to be able to reset the form to its initial state\n  // immer will not kept a reference between to two objects. So changing values will not change initialValues\n  options.initialValues = options.initialValues || {};\n  options.validations = options.validations || {};\n  options.values = options.initialValues;\n\n  var _useLocalService = useLocalService(formService, options),\n      _useLocalService2 = _slicedToArray(_useLocalService, 2),\n      state = _useLocalService2[0],\n      service = _useLocalService2[1];\n\n  var values = state.values,\n      validations = state.validations; // we put values in a ref object. For some features, we don't need to force a rerender if a value is changed\n  // but we need the last value during the render\n\n  var valuesRef = useRef();\n  valuesRef.current = values;\n  /**\n   *  this method will register a field and return some two listeners\n   *   - onChange\n   *   - onBlur\n   * \n   * @param {string} name - the name of the field. Must be related to a key in values\n   * @param {Object} validators - a object of validators\n   * \n   * @return {Object} a list of listeners for the field and its name\n   *                    - name\n   *                    - onChange\n   *                    - onBlur\n   */\n\n  var init = useCallback(function (name) {\n    var validators = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : [];\n    var options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n    var field = service.initField(name, validators, options);\n    return {\n      onChange: field.onChange,\n      onBlur: field.onBlur,\n      name: name\n    };\n  }, [service]);\n  /**\n   *  this method is an helper to quickly register a field from a component. It will return\n   *   - name\n   *   - value\n   *   - onChange\n   *   - onBlur\n   * \n   * @param {string} name - the name of the field. Must be related to a key in values\n   * @param {Object} validators - a object of validators\n   * \n   * @return {Object} a list of props for the field\n   *                    - name\n   *                    - value\n   *                    - onChange\n   *                    - onBlur\n   */\n\n  var field = useCallback(function (name) {\n    var validators = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : [];\n    var options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n    var field = init(name, validators, options);\n    field.value = get(values, name, options.defaultValue === undefined ? '' : options.defaultValue);\n    return field;\n  }, [init, values]);\n  /**\n   * this method will just call the submit function passed to useForm with the whole value object\n   */\n\n  var submit = useCallback(function (e) {\n    console.log(values); //onSubmit(values);\n\n    e.preventDefault();\n  }, [onSubmit, values]);\n  var defaultValidation = useMemo(function () {\n    return {\n      message: null,\n      status: null\n    };\n  }, []);\n  var validation = useCallback(function (name) {\n    return get(validations, name, defaultValidation);\n  }, [validations, defaultValidation]);\n  var value = useCallback(function (name, defaultValue) {\n    return get(values, name, defaultValue);\n  }, [values]);\n  var setError = useCallback(function (fieldName, validatorName, message, matcher) {\n    if (isNull(matcher) || matcher) {\n      return service.setError({\n        id: validatorName,\n        name: fieldName,\n        message: message\n      });\n    } else {\n      return service.setOK({\n        id: validatorName,\n        name: fieldName\n      });\n    }\n  }, [service]);\n  var setOK = useCallback(function (fieldName, validatorName) {\n    service.setOK({\n      id: validatorName,\n      name: fieldName\n    });\n  }, [service]);\n  var setWarning = useCallback(function (fieldName, validatorName, message, matcher) {\n    if (isNull(matcher) || matcher) {\n      return service.setWarning({\n        id: validatorName,\n        name: fieldName,\n        message: message\n      });\n    } else {\n      return service.setWarning({\n        id: validatorName,\n        name: fieldName\n      });\n    }\n  }, [service]);\n  var setValue = useCallback(function (name, value) {\n    return service.setValue({\n      name: name,\n      value: value\n    });\n  }, [service]);\n  var setPendingValidation = useCallback(function (name, pending) {\n    return service.setPendingValidation({\n      name: name,\n      pending: pending\n    });\n  }, [service]);\n  var contextRef = useRef({});\n  contextRef.current.state = state;\n  contextRef.current.service = service;\n  var useRuleRef = useRef(useRule.bind(contextRef.current));\n  var useBindRef = useRef(useBind.bind(contextRef.current));\n  var formContextRef = useRef();\n  var formContext = useMemo(function () {\n    return {\n      listen: service.listen,\n      field: field,\n      setError: setError,\n      setValue: setValue,\n      setOK: setOK,\n      setWarning: setWarning,\n      setPendingValidation: setPendingValidation,\n      submit: submit,\n      unlisten: service.unlisten,\n      useBind: useBindRef.current,\n      useRule: useRuleRef.current,\n      validation: validation,\n      validations: validations,\n      value: value,\n      values: values\n    };\n  }, [field, service.listen, setError, setValue, setOK, setWarning, setPendingValidation, submit, service.unlisten, validation, validations, value, values]);\n  formContextRef.current = formContext; // The field context should never force a rerender of a component.\n  // The field itself will use the listen method to get notified when its value is changed\n\n  var fieldContextRef = useRef();\n  var fieldContext = useMemo(function () {\n    return {\n      init: init,\n      listen: service.listen,\n      unlisten: service.unlisten,\n      values: valuesRef.current // use for the initial value of the field\n\n    };\n  }, [init, service.listen, service.unlisten]);\n  fieldContextRef.current = fieldContext;\n  var Form = useMemo(function () {\n    return function (props) {\n      return /*#__PURE__*/React.createElement(FormContext.Provider, {\n        value: formContextRef.current\n      }, /*#__PURE__*/React.createElement(FieldContext.Provider, {\n        value: fieldContextRef.current\n      }, /*#__PURE__*/React.createElement(\"form\", _extends({}, props, {\n        onSubmit: fieldContextRef.current.submit\n      }))));\n    };\n  }, [formContextRef, fieldContextRef]);\n  var result = useMemo(function () {\n    return Object.assign({}, {\n      Form: Form\n    }, formContext);\n  }, [formContext, Form]);\n  return result;\n};\nexport var useField = function useField(name) {\n  var validators = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : [];\n  var options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n\n  var _useFieldContext = useFieldContext(),\n      init = _useFieldContext.init,\n      listen = _useFieldContext.listen,\n      unlisten = _useFieldContext.unlisten,\n      values = _useFieldContext.values;\n\n  var field = init(name, validators, options);\n\n  var _useState = useState(get(values, name, options.defaultValue === undefined ? '' : options.defaultValue)),\n      _useState2 = _slicedToArray(_useState, 2),\n      value = _useState2[0],\n      setValue = _useState2[1];\n\n  field.value = value;\n  useEffect(function () {\n    var listener = function listener() {\n      setValue(value);\n    };\n\n    listen(listener, [name]);\n    return function () {\n      unlisten(listener, [name]);\n    }; // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n  return field;\n};\n\nvar useRule = function useRule(rule) {\n  var _this3 = this;\n\n  var watchers = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : [];\n  useEffect(function () {\n    var listener = function listener() {\n      rule.apply(this, arguments);\n    };\n\n    _this3.service.listen(listener, watchers);\n\n    return function () {\n      _this3.service.unlisten(listener, watchers);\n    }; // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n};\n\nvar useBind = function useBind(rule) {\n  var _this4 = this;\n\n  var watchers = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : [];\n  // initial call\n  var initialValue = useMemo(function () {\n    var values = _this4.state.values;\n    return rule.apply(_this4, watchers.map(function (w) {\n      return get(values, w);\n    })); // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  var _useState3 = useState(initialValue),\n      _useState4 = _slicedToArray(_useState3, 2),\n      value = _useState4[0],\n      setValue = _useState4[1];\n\n  useEffect(function () {\n    var listener = function listener() {\n      var value = rule.apply(this, arguments);\n      setValue(value);\n    };\n\n    _this4.service.listen(listener, watchers);\n\n    return function () {\n      _this4.service.unlisten(listener, watchers);\n    }; // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n  return value;\n};\n//# sourceMappingURL=form.js.map","import _extends from \"@babel/runtime/helpers/extends\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport React from 'react';\nimport { useField, useFormContext } from '../form';\nimport { extractValidators } from '../utils/form';\nexport var Input = /*#__PURE__*/React.memo(function (props) {\n  console.log('render', props.name);\n\n  var _extractValidators = extractValidators(props),\n      _extractValidators2 = _slicedToArray(_extractValidators, 2),\n      validators = _extractValidators2[0],\n      extraProps = _extractValidators2[1]; //const field = useField(props.name, validators);\n\n\n  var context = useFormContext();\n  var firstname = context.useBind(function (firstname) {\n    return firstname;\n  }, ['firstName']);\n  console.log(firstname);\n  return /*#__PURE__*/React.createElement(\"input\", _extends({}, extraProps, context.field(props.name, validators)));\n});\n//# sourceMappingURL=input.js.map","import _toConsumableArray from \"@babel/runtime/helpers/toConsumableArray\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport _regeneratorRuntime from \"@babel/runtime/regenerator\";\n\nvar _this = this;\n\nimport React, { useCallback, useContext, useEffect, useMemo } from \"react\";\nimport { all, call } from \"redux-saga/effects\";\nimport { AppContext, useOnekiRouter, useSettings } from \"./context\";\nimport { notificationService } from \"./notification\";\nimport { latest } from \"./saga\";\nimport { useReduxService } from \"./service\";\nimport { useReduxSelector } from \"./store\";\nimport { append, get, isNull, set } from \"./utils/object\";\nimport { isFunction } from \"./utils/type\";\nimport { asyncGet } from \"./xhr\"; // export const url2locale = (pathname, contextPath, candidates) => {\n//   const length = contextPath.endsWith(\"/\")\n//     ? contextPath.length\n//     : contextPath.length + 1;\n//   const locale = pathname.substring(length).split(\"/\")[0];\n//   if (candidates.includes(locale)) return locale;\n//   return null;\n// };\n\nexport var flattenTranslations = function flattenTranslations(translations) {\n  /* Example:\n  Input:\n  {\n    \"product\": {\n      \"key\": \"value\" \n    },\n    \"common\": {\n      \"key1\": \"value1\"\n    }\n  }\n   Output:\n  { \n    \"product:key\": \"value\", \n    \"common:key1\": \"value1\" \n  }\n  */\n  var result = {};\n  Object.keys(translations).forEach(function (ns) {\n    Object.keys(translations[ns]).reduce(function (accumulator, key) {\n      accumulator[\"\".concat(ns, \":\").concat(key)] = translations[ns][key];\n      return accumulator;\n    }, result);\n  });\n  return result;\n};\nexport var useLocale = function useLocale() {\n  return get(useContext(AppContext), \"i18n.locale\");\n};\n\nvar getLocaleUrl = function getLocaleUrl(locale, ns, settings) {\n  if (isFunction(settings.i18n.url)) {\n    return settings.i18n.url(locale, ns);\n  }\n\n  return \"\".concat(settings.i18n.url, \"/\").concat(locale, \"/\").concat(ns, \".json\");\n};\n\nexport var i18nService = {\n  name: \"i18n\",\n  init: function init(_ref) {\n    var settings = _ref.settings;\n    this[\"modifiers\"] = {\n      locale: function locale(value, _locale) {\n        return value ? value.toLocaleString(_locale) : value;\n      }\n    };\n\n    if (settings.i18n && settings.i18n.modifiers) {\n      Object.assign(this[\"modifiers\"], settings.i18n.modifiers);\n    }\n  },\n  reducers: {\n    setLocale: function setLocale(state, locale) {\n      set(state, \"i18n.locale\", locale);\n    },\n    setTranslations: function setTranslations(state, _ref2) {\n      var translations = _ref2.translations,\n          locale = _ref2.locale;\n      set(state, \"i18n.translations.\".concat(locale), Object.assign(get(state, \"i18n.translations.\".concat(locale), {}), flattenTranslations(translations)));\n      Object.keys(translations).forEach(function (ns) {\n        return append(state, \"i18n.ns.\".concat(locale), ns);\n      });\n    },\n    setFetchingTranslations: function setFetchingTranslations(state, fetching) {\n      set(state, \"i18n.fetching\", fetching);\n    }\n  },\n  sagas: {\n    changeLocale: latest( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(locale, context) {\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.next = 2;\n              return call(this.setLocale, locale);\n\n            case 2:\n              _context.next = 4;\n              return call(context.settings.i18n.changeLocale, locale, context);\n\n            case 4:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee, this);\n    })),\n    fetchTranslations: latest( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2(_ref3, _ref4) {\n      var locale, namespaces, _ref3$options, options, settings, results, translations, onError;\n\n      return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              locale = _ref3.locale, namespaces = _ref3.namespaces, _ref3$options = _ref3.options, options = _ref3$options === void 0 ? {} : _ref3$options;\n              settings = _ref4.settings;\n              _context2.prev = 2;\n              _context2.next = 5;\n              return call(this.setFetchingTranslations, true);\n\n            case 5:\n              _context2.next = 7;\n              return all(namespaces.map(function (ns) {\n                return call(asyncGet, getLocaleUrl(locale, ns, settings), options);\n              }));\n\n            case 7:\n              results = _context2.sent;\n              translations = {};\n              namespaces.forEach(function (ns, i) {\n                return translations[ns] = results[i];\n              });\n              _context2.next = 12;\n              return call(this.setTranslations, {\n                translations: translations,\n                locale: locale\n              });\n\n            case 12:\n              _context2.next = 14;\n              return call(this.setFetchingTranslations, false);\n\n            case 14:\n              _context2.next = 28;\n              break;\n\n            case 16:\n              _context2.prev = 16;\n              _context2.t0 = _context2[\"catch\"](2);\n              _context2.next = 20;\n              return call(this.setFetchingTranslations, false);\n\n            case 20:\n              onError = options.onError;\n\n              if (!onError) {\n                _context2.next = 26;\n                break;\n              }\n\n              _context2.next = 24;\n              return call(onError, _context2.t0);\n\n            case 24:\n              _context2.next = 28;\n              break;\n\n            case 26:\n              _context2.next = 28;\n              return call(this.notificationService.error, _context2.t0);\n\n            case 28:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, _callee2, this, [[2, 16]]);\n    }))\n  },\n  inject: {\n    notificationService: notificationService\n  }\n};\nexport var useI18nService = function useI18nService() {\n  return useReduxService(i18nService);\n};\n\nvar stringifyJsx = function stringifyJsx(reactElement) {\n  var ctx = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  var idx = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 1;\n  var children = [].concat(reactElement.props.children);\n  var str = children.reduce(function (accumulator, child) {\n    if (typeof child === \"string\") return \"\".concat(accumulator).concat(child);\n\n    if ( /*#__PURE__*/React.isValidElement(child)) {\n      var _stringifyJsx = stringifyJsx(child, ctx, idx + 1),\n          _stringifyJsx2 = _slicedToArray(_stringifyJsx, 2),\n          childStr = _stringifyJsx2[0],\n          nextIdx = _stringifyJsx2[1];\n\n      var _str = \"\".concat(accumulator, \"<\").concat(idx, \">\").concat(childStr, \"</\").concat(idx, \">\");\n\n      ctx[\"el-\".concat(idx)] = child;\n      idx = nextIdx;\n      return _str;\n    } else {\n      set(ctx, \"vars.\".concat(Object.keys(child)[0]), Object.values(child)[0]);\n      return \"\".concat(accumulator, \"{{\").concat(Object.keys(child)[0], \"}}\");\n    }\n  }, \"\");\n  return [str, idx];\n};\n\nvar regexIndexOf = function regexIndexOf(str, regex) {\n  var startpos = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 0;\n  var indexOf = str.substring(startpos).search(regex);\n  return indexOf >= 0 ? indexOf + startpos : indexOf;\n};\n\nvar parseJsx = function parseJsx(str) {\n  var ctx = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  var startPos = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 0;\n  var result = [];\n  var count = 0;\n\n  do {\n    var _extractTag = extractTag(str, startPos),\n        _extractTag2 = _slicedToArray(_extractTag, 4),\n        content = _extractTag2[0],\n        idx = _extractTag2[1],\n        start = _extractTag2[2],\n        end = _extractTag2[3];\n\n    if (content === undefined) {\n      var element = str.substring(startPos);\n\n      if (element.length > 0) {\n        result.push(element);\n      }\n\n      break;\n    }\n\n    if (start > startPos) {\n      result.push(str.substring(startPos, start));\n    }\n\n    var childJsx = parseJsx(content, ctx);\n    var el = /*#__PURE__*/React.cloneElement(ctx[\"el-\".concat(idx)], {\n      key: \"el-\".concat(idx)\n    }, childJsx);\n    result.push(el);\n    startPos = end;\n    if (startPos >= str.length) break;\n    if (++count > 10) break;\n  } while (\n  /*eslint-disable-next-line*/\n  true);\n\n  return result;\n};\n\nvar extractTag = function extractTag(str, startPos) {\n  var openingStart = regexIndexOf(str, /<[1-9][0-9]*>/, startPos);\n\n  if (openingStart > -1) {\n    var openingEnd = str.indexOf(\">\", openingStart);\n    var idx = str.substring(openingStart + 1, openingEnd);\n    var closingStart = str.indexOf(\"</\".concat(idx, \">\"), openingEnd);\n    var content = str.substring(openingEnd + 1, closingStart);\n    return [content, idx, openingStart, closingStart + \"</\".concat(idx, \">\").length];\n  }\n\n  return [];\n};\n\nexport var useTranslation = function useTranslation(namespaces) {\n  var locale = useLocale();\n  var appContextTranslations = get(useContext(AppContext), \"i18n.translations\");\n  var reduxTranslations = useReduxSelector(\"i18n.translations.\".concat(locale));\n  var translations = useMemo(function () {\n    return Object.assign({}, appContextTranslations, reduxTranslations);\n  }, [appContextTranslations, reduxTranslations]);\n  var appContextNs = get(useContext(AppContext), \"i18n.ns\");\n  var reduxNs = useReduxSelector(\"i18n.ns.\".concat(locale));\n  var nsLoaded = useMemo(function () {\n    return _toConsumableArray(new Set([].concat(_toConsumableArray(appContextNs || []), _toConsumableArray(reduxNs || []))));\n  }, [appContextNs, reduxNs]);\n  var i18nService = useI18nService();\n  var nsRequired = useMemo(function () {\n    var nsRequired = namespaces || [];\n\n    if (typeof namespaces === \"string\") {\n      nsRequired = [namespaces];\n    }\n\n    if (!nsRequired.includes(\"common\")) {\n      nsRequired.push(\"common\");\n    }\n\n    return nsRequired;\n  }, []);\n  var nsNotLoaded = useMemo(function () {\n    return nsRequired.filter(function (ns) {\n      return !nsLoaded.includes(ns);\n    });\n  }, [nsRequired, nsLoaded]);\n  var fetching = useReduxSelector(\"i18.fetching\", false);\n  var t = useCallback(function (content, alias, count) {\n    if (fetching) return null;\n    var key = alias ? alias : content;\n    var ctx = {};\n    var jsx = null;\n    var candidateKeys = [];\n\n    if (typeof content !== \"string\") {\n      jsx = content;\n\n      var _stringifyJsx3 = stringifyJsx(content, ctx),\n          _stringifyJsx4 = _slicedToArray(_stringifyJsx3, 1),\n          jsxKey = _stringifyJsx4[0];\n\n      if (!alias) {\n        key = jsxKey;\n      }\n    }\n\n    if (count >= 1) {\n      var prefix = count > 1 ? \"plural\" : \"singular\";\n      candidateKeys.push(\"\".concat(prefix, \"::\").concat(key));\n      nsRequired.forEach(function (ns) {\n        return candidateKeys.push(\"\".concat(ns, \":\").concat(prefix, \"::\").concat(key));\n      });\n    }\n\n    candidateKeys.push(key);\n    nsRequired.forEach(function (ns) {\n      return candidateKeys.push(\"\".concat(ns, \":\").concat(key));\n    });\n\n    for (var _i = 0, _candidateKeys = candidateKeys; _i < _candidateKeys.length; _i++) {\n      var candidateKey = _candidateKeys[_i];\n      if (translations[candidateKey] !== undefined) return buildJsx(translations[candidateKey], ctx, jsx, i18nService, locale);\n    }\n\n    return null;\n  }, [fetching, translations, nsRequired, i18nService, locale]);\n  var T = useCallback(function (_ref5) {\n    var alias = _ref5.alias,\n        count = _ref5.count,\n        children = _ref5.children;\n    return t( /*#__PURE__*/React.createElement(React.Fragment, null, children), alias, count);\n  }, [t]);\n  useEffect(function () {\n    if (nsNotLoaded.length > 0 && !fetching) {\n      i18nService.fetchTranslations({\n        locale: locale,\n        namespaces: nsNotLoaded\n      });\n    }\n  }, [nsNotLoaded, i18nService, locale, fetching]);\n  return [T, t, locale, fetching || nsNotLoaded.length > 0];\n};\n\nvar buildJsx = function buildJsx(str, ctx, wrapperReactElement, i18nService, locale) {\n  var result = {\n    str: str\n  };\n\n  if (ctx.vars) {\n    Object.keys(ctx.vars).forEach(function (key) {\n      var regex = new RegExp(\"{{\\\\s*\".concat(key, \"[^}]*}}\"), \"g\");\n      var m;\n\n      while ((m = regex.exec(str)) !== null) {\n        if (m.index === regex.lastIndex) {\n          regex.lastIndex++;\n        }\n\n        m.forEach(function (match) {\n          result.str = result.str.replace(match, handlemodifiers(match.slice(0, -2), ctx.vars[key], locale, i18nService));\n        });\n      }\n    });\n  }\n\n  str = result.str;\n  if (isNull(wrapperReactElement)) return str;\n  var children = parseJsx(str, ctx);\n  return /*#__PURE__*/React.cloneElement(wrapperReactElement, {}, children);\n};\n\nvar handlemodifiers = function handlemodifiers(input, value, locale, i18nService) {\n  var modifiers = input.split(\"|\");\n  var args = [value, locale];\n\n  if (modifiers.length > 1) {\n    for (var i = 1; i < modifiers.length; i++) {\n      var filter = modifiers[i].trim();\n      var modifierNoArgs = filter;\n      var pos = filter.indexOf(\"(\");\n\n      if (pos > -1) {\n        modifierNoArgs = modifierNoArgs.substring(0, pos);\n      }\n\n      handleFilterArgs(filter, args);\n\n      if (i18nService.modifiers[modifierNoArgs]) {\n        return i18nService.modifiers[modifierNoArgs].apply(_this, args);\n      } else {\n        console.error(\"filter \" + modifierNoArgs + \" not found in settings\");\n      }\n    }\n  }\n\n  return value;\n};\n\nvar handleFilterArgs = function handleFilterArgs(filter, result) {\n  var regexArgs = /\\(.*\\)/gm;\n  var filterArgs;\n\n  while ((filterArgs = regexArgs.exec(filter)) !== null) {\n    if (filterArgs.index === regexArgs.lastIndex) {\n      regexArgs.lastIndex++;\n    }\n\n    filterArgs.forEach(function (filterArg) {\n      var args = filterArg.slice(1, -1).split(\",\");\n      args.forEach(function (arg) {\n        arg = arg.trim();\n        if (arg.indexOf(\"'\") === 0) arg = \"\\\"\".concat(arg.slice(1, -1), \"\\\"\");\n        result.push(JSON.parse(arg));\n      });\n    });\n  }\n};\n\nexport var useI18n = function useI18n() {\n  return useContext(AppContext).i18n;\n};\nexport var I18nLink = function I18nLink(props) {\n  // const { href, as } = props;\n  var settings = useSettings();\n  var i18n = useI18n();\n  var router = useOnekiRouter();\n  return router.i18nLink(props, i18n, settings);\n};\n//# sourceMappingURL=i18n.js.map","import React from 'react';\n/**\n * Inspired by this excellent article:\n * https://adamwathan.me/2019/10/17/persistent-layout-patterns-in-nextjs/\n * \n */\n\nexport var layout = function layout(Layout, ParentLayout) {\n  var getLayout = function getLayout(page) {\n    if (ParentLayout) {\n      return ParentLayout.getLayout( /*#__PURE__*/React.createElement(Layout, null, page));\n    } else {\n      return /*#__PURE__*/React.createElement(Layout, null, page);\n    }\n  };\n\n  Layout.getLayout = getLayout;\n  return Layout;\n};\nexport var withLayout = function withLayout(Page, Layout) {\n  if (Page && Layout) {\n    Page.getLayout = Layout.getLayout;\n  }\n\n  return Page;\n};\n//# sourceMappingURL=layout.js.map","import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nimport _regeneratorRuntime from \"@babel/runtime/regenerator\";\n\nvar _marked = /*#__PURE__*/_regeneratorRuntime.mark(login),\n    _marked2 = /*#__PURE__*/_regeneratorRuntime.mark(externalLogin),\n    _marked3 = /*#__PURE__*/_regeneratorRuntime.mark(externalLoginCallback),\n    _marked4 = /*#__PURE__*/_regeneratorRuntime.mark(formLogin),\n    _marked5 = /*#__PURE__*/_regeneratorRuntime.mark(successLogin),\n    _marked6 = /*#__PURE__*/_regeneratorRuntime.mark(logout),\n    _marked7 = /*#__PURE__*/_regeneratorRuntime.mark(successLogout);\n\nimport { useCallback, useEffect } from \"react\";\nimport { call } from \"redux-saga/effects\";\nimport { authService } from \"./auth\";\nimport { notificationService, useNotificationService, useNotifications } from \"./notification\";\nimport { latest } from \"./saga\";\nimport { useLocalService } from \"./service\";\nimport { generateCodeChallenge, generateCodeVerifier, generateNonce, generateState, getIdp, getIdpName, parseJwt } from \"./utils/auth\";\nimport { sha256 } from \"./utils/crypt\";\nimport { get } from \"./utils/object\";\nimport { absoluteUrl } from \"./utils/url\";\nimport { asyncHttp, asyncPost } from \"./xhr\";\nimport { SimpleError } from \"./error\";\n\nvar isOauth = function isOauth(idp) {\n  return idp.oauth2 === true || idp.oidc === true;\n};\n\nvar isExternal = function isExternal(idp) {\n  return idp.external === true;\n};\n/**\n * Parse the token from the location hash\n * \n * @param {object} hash : the location hash (anything after the # in the URL)\n */\n\n\nvar parseHashToken = function parseHashToken(hash) {\n  var token = {};\n  [\"access_token\", \"id_token\", \"refresh_token\", \"expires_in\", \"expires_at\", \"token_type\"].forEach(function (k) {\n    if (hash[k]) {\n      token[k] = hash[k];\n    }\n  });\n  return token;\n};\n\nvar storage = function storage(idp) {\n  if (idp.persist && idp.persist === 'sessionStorage') {\n    return sessionStorage;\n  }\n\n  return localStorage;\n};\n/**\n * Check if a login is necessary.\n *\n * @param action:\n *    - idpName: name of the IDP (as found in the settings)\n *    - onError: callback for catching possible errors\n * @param context:\n *    - router: an OnekiJS router\n *    - settings: the full settings object passed to the application\n */\n\n\nfunction login(_ref, context) {\n  var idpName, onError, onSuccess, router, settings, idp, token, securityContext;\n  return _regeneratorRuntime.wrap(function login$(_context) {\n    while (1) {\n      switch (_context.prev = _context.next) {\n        case 0:\n          idpName = _ref.idpName, onError = _ref.onError, onSuccess = _ref.onSuccess;\n          router = context.router, settings = context.settings;\n          _context.prev = 2;\n          router.saveOrigin(false); // build the IDP configuration from the settings and some default values\n\n          idp = getIdp(settings, idpName);\n\n          if (!isOauth(idp)) {\n            _context.next = 13;\n            break;\n          }\n\n          _context.next = 8;\n          return call(this.authService.loadToken);\n\n        case 8:\n          token = _context.sent;\n\n          if (!(token && parseInt(token.expires_at) >= Date.now())) {\n            _context.next = 13;\n            break;\n          }\n\n          _context.next = 12;\n          return call(this.successLogin, {\n            idpName: idpName,\n            token: token,\n            onError: onError,\n            onSuccess: onSuccess\n          });\n\n        case 12:\n          return _context.abrupt(\"return\", _context.sent);\n\n        case 13:\n          _context.prev = 13;\n          _context.next = 16;\n          return call(this.authService.fetchSecurityContext);\n\n        case 16:\n          securityContext = _context.sent;\n          _context.next = 19;\n          return call(this.successLogin, {\n            idpName: idpName,\n            securityContext: securityContext,\n            onError: onError,\n            onSuccess: onSuccess\n          });\n\n        case 19:\n          return _context.abrupt(\"return\", _context.sent);\n\n        case 22:\n          _context.prev = 22;\n          _context.t0 = _context[\"catch\"](13);\n\n          if (!(_context.t0.code >= 500)) {\n            _context.next = 26;\n            break;\n          }\n\n          throw _context.t0;\n\n        case 26:\n          if (!isExternal(idp)) {\n            _context.next = 29;\n            break;\n          }\n\n          _context.next = 29;\n          return call(this.externalLogin, {\n            idpName: idpName,\n            onError: onError,\n            onSuccess: onSuccess\n          });\n\n        case 29:\n          _context.next = 41;\n          break;\n\n        case 31:\n          _context.prev = 31;\n          _context.t1 = _context[\"catch\"](2);\n          _context.next = 35;\n          return call(this.onError, _context.t1);\n\n        case 35:\n          if (!onError) {\n            _context.next = 40;\n            break;\n          }\n\n          _context.next = 38;\n          return call(onError, _context.t1, context);\n\n        case 38:\n          _context.next = 41;\n          break;\n\n        case 40:\n          throw _context.t1;\n\n        case 41:\n        case \"end\":\n          return _context.stop();\n      }\n    }\n  }, _marked, this, [[2, 31], [13, 22]]);\n}\n/**\n * Redirect the user to an external login page\n *\n * @param action:\n *    - idpName: name of the IDP (as found in the settings)\n *    - onError: callback for catching possible errors\n * @param context:\n *    - store: the Redux store\n *    - router: an OnekiJS router\n *    - settings: the full settings object passed to the application\n */\n\n\nfunction externalLogin(_ref2, context) {\n  var idpName, onError, router, settings, idp, idpContext, redirectUri, params, nonce, hash, state, _hash, verifier, challenge, url, search, _url, _search;\n\n  return _regeneratorRuntime.wrap(function externalLogin$(_context2) {\n    while (1) {\n      switch (_context2.prev = _context2.next) {\n        case 0:\n          idpName = _ref2.idpName, onError = _ref2.onError;\n          router = context.router, settings = context.settings;\n          _context2.prev = 2;\n          // build the IDP configuration from the settings and some default values\n          idp = getIdp(settings, idpName);\n          idpContext = Object.assign({}, context, {\n            idp: idp\n          }); // get the loginCallback route the settings\n\n          redirectUri = absoluteUrl(idp.loginCallbackRoute || \"\".concat(router.pathname, \"/callback\"));\n\n          if (isExternal(idp)) {\n            _context2.next = 8;\n            break;\n          }\n\n          throw Error(\"IDP type \".concat(idp.type, \" is not valid for an external authentication\"));\n\n        case 8:\n          if (!isOauth(idp)) {\n            _context2.next = 53;\n            break;\n          }\n\n          params = _defineProperty({\n            client_id: idp.clientId,\n            response_type: idp.responseType\n          }, idp.postLoginRedirectKey, redirectUri);\n\n          if (idp.scope) {\n            params.scope = idp.scope;\n          }\n\n          if (!(idp.nonce || idp.responseType.includes(\"id_token\"))) {\n            _context2.next = 20;\n            break;\n          }\n\n          nonce = generateNonce();\n          storage(idp).setItem(\"onekijs.nonce\", nonce);\n          _context2.next = 16;\n          return call(sha256, nonce);\n\n        case 16:\n          hash = _context2.sent;\n          params.nonce = hash;\n          _context2.next = 21;\n          break;\n\n        case 20:\n          storage(idp).removeItem(\"onekijs.nonce\");\n\n        case 21:\n          if (!idp.state) {\n            _context2.next = 30;\n            break;\n          }\n\n          state = generateState();\n          storage(idp).setItem(\"onekijs.state\", state);\n          _context2.next = 26;\n          return call(sha256, state);\n\n        case 26:\n          _hash = _context2.sent;\n          params.state = _hash;\n          _context2.next = 31;\n          break;\n\n        case 30:\n          storage(idp).removeItem(\"onekijs.state\");\n\n        case 31:\n          if (!(idp.responseType === \"code\" && idp.pkce)) {\n            _context2.next = 41;\n            break;\n          }\n\n          verifier = generateCodeVerifier();\n          storage(idp).setItem(\"onekijs.verifier\", verifier);\n          _context2.next = 36;\n          return call(generateCodeChallenge, verifier);\n\n        case 36:\n          challenge = _context2.sent;\n          params.code_challenge = challenge;\n          params.code_challenge_method = idp.codeChallengeMethod;\n          _context2.next = 42;\n          break;\n\n        case 41:\n          storage(idp).removeItem(\"onekijs.verifier\");\n\n        case 42:\n          if (!(typeof idp.authorizeEndpoint === \"function\")) {\n            _context2.next = 49;\n            break;\n          }\n\n          _context2.next = 45;\n          return call(idp.authorizeEndpoint, params, idpContext);\n\n        case 45:\n          url = _context2.sent;\n          window.location.href = \"\".concat(absoluteUrl(url, get(settings, \"server.baseUrl\")));\n          _context2.next = 51;\n          break;\n\n        case 49:\n          // build the URL based on the spec\n          // https://openid.net/specs/openid-connect-core-1_0.html#AuthRequest\n          // const responseType = idp.responseType;\n          // const redirectKey = idp.postLoginRedirectKey;\n          // const scope = idp.scope;\n          search = Object.keys(params).reduce(function (accumulator, key) {\n            accumulator += accumulator.length > 1 ? '&' : '';\n            return \"\".concat(accumulator).concat(key, \"=\").concat(params[key]);\n          }, \"?\");\n          window.location.href = \"\".concat(absoluteUrl(idp.authorizeEndpoint, get(settings, \"server.baseUrl\"))).concat(search);\n\n        case 51:\n          _context2.next = 62;\n          break;\n\n        case 53:\n          if (!(typeof idp.externalLoginEndpoint === \"function\")) {\n            _context2.next = 60;\n            break;\n          }\n\n          _context2.next = 56;\n          return call(idp.externalLoginEndpoint, idpContext);\n\n        case 56:\n          _url = _context2.sent;\n          window.location.href = \"\".concat(absoluteUrl(_url, get(settings, \"server.baseUrl\")));\n          _context2.next = 62;\n          break;\n\n        case 60:\n          // we don't actually have a spec to follow. Just use the externalLoginEndpoint\n          // and add the callback URL       \n          _search = idp.postLoginRedirectKey ? \"?\".concat(idp.postLoginRedirectKey, \"=\").concat(redirectUri) : \"\";\n          window.location.href = \"\".concat(absoluteUrl(idp.externalLoginEndpoint, get(settings, \"server.baseUrl\"))).concat(_search);\n\n        case 62:\n          _context2.next = 74;\n          break;\n\n        case 64:\n          _context2.prev = 64;\n          _context2.t0 = _context2[\"catch\"](2);\n          _context2.next = 68;\n          return call(this.onError, _context2.t0);\n\n        case 68:\n          if (!onError) {\n            _context2.next = 73;\n            break;\n          }\n\n          _context2.next = 71;\n          return call(onError, _context2.t0, context);\n\n        case 71:\n          _context2.next = 74;\n          break;\n\n        case 73:\n          throw _context2.t0;\n\n        case 74:\n        case \"end\":\n          return _context2.stop();\n      }\n    }\n  }, _marked2, this, [[2, 64]]);\n}\n/**\n * Parse the token and the security context from the response of the \n * external login\n *\n * @param action:\n *    - idpName: name of the IDP (as found in the settings)\n *    - onError: callback for catching possible errors\n * @param context:\n *    - store: the Redux store\n *    - router: an OnekiJS router\n *    - settings: the full settings object passed to the application\n */\n\n\nfunction externalLoginCallback(_ref3, context) {\n  var idpName, onError, onSuccess, router, settings, idp, idpContext, response, callback, token, securityContext, responseType, params, state, hash, headers, body, _yield$call, _yield$call2, id_token, nonce, _hash2;\n\n  return _regeneratorRuntime.wrap(function externalLoginCallback$(_context3) {\n    while (1) {\n      switch (_context3.prev = _context3.next) {\n        case 0:\n          idpName = _ref3.idpName, onError = _ref3.onError, onSuccess = _ref3.onSuccess;\n          router = context.router, settings = context.settings;\n          _context3.prev = 2;\n          // build the IDP configuration from the settings and some default values\n          idp = getIdp(settings, idpName);\n          idpContext = Object.assign({}, context, {\n            idp: idp\n          }); // by default, the response is the current location containing all \n          // parameters found in the URL\n\n          response = router.location; // the callback found in the IDP configuration is a custom function\n          // for parsing the reponse of the exernal login\n\n          callback = idp.callback; // Will contain the token from the response (if found)\n\n          token = null; // Will contain the security context found in the response (if found)\n\n          securityContext = null;\n\n          if (!isOauth(idp)) {\n            _context3.next = 41;\n            break;\n          }\n\n          responseType = idp.responseType || \"code\";\n\n          if (!(responseType === \"code\")) {\n            _context3.next = 40;\n            break;\n          }\n\n          if (!(typeof idp.tokenEndpoint === \"function\")) {\n            _context3.next = 18;\n            break;\n          }\n\n          _context3.next = 15;\n          return call(idp.tokenEndpoint, \"authorization_code\", idpContext);\n\n        case 15:\n          token = _context3.sent;\n          _context3.next = 37;\n          break;\n\n        case 18:\n          // validating the authorizeEndpoint response based on spec\n          // https://openid.net/specs/openid-connect-core-1_0.html#AuthResponseValidation\n          params = router.query;\n          state = storage(idp).getItem(\"onekijs.state\");\n          storage(idp).removeItem(\"onekijs.state\");\n\n          if (!params.error) {\n            _context3.next = 23;\n            break;\n          }\n\n          throw new SimpleError(params.error_description, params.error);\n\n        case 23:\n          if (params.code) {\n            _context3.next = 25;\n            break;\n          }\n\n          throw new SimpleError(\"No authorization code received from Identity Provider\", \"missing_authorization_code\");\n\n        case 25:\n          _context3.next = 27;\n          return call(sha256, state);\n\n        case 27:\n          hash = _context3.sent;\n\n          if (!(idp.state && hash !== params.state)) {\n            _context3.next = 30;\n            break;\n          }\n\n          throw new SimpleError(\"Invalid oauth2 state\", \"invalid_state\");\n\n        case 30:\n          // build the token request based on spec\n          // https://openid.net/specs/openid-connect-core-1_0.html#TokenRequest\n          headers = {\n            \"Content-Type\": \"application/x-www-form-urlencoded\"\n          };\n          body = {\n            grant_type: \"authorization_code\",\n            client_id: idp.clientId,\n            redirect_uri: absoluteUrl(\"\".concat(router.pathname)),\n            code: params.code\n          };\n\n          if (idp.clientSecret) {\n            if (idp.clientAuth === \"body\") {\n              body.client_secret = idp.clientSecret;\n            } else {\n              headers.auth = {\n                basic: {\n                  user: idp.clientId,\n                  password: idp.clientSecret\n                }\n              };\n            }\n          }\n\n          if (idp.pkce) {\n            body.code_verifier = storage(idp).getItem(\"onekijs.verifier\");\n            storage(idp).removeItem(\"onekijs.verifier\");\n          } // get the token from the tokenEndpoint\n\n\n          _context3.next = 36;\n          return call(asyncPost, idp.tokenEndpoint, body, {\n            headers: headers\n          });\n\n        case 36:\n          token = _context3.sent;\n\n        case 37:\n          // use the token instead of the location as the response\n          response = token;\n          _context3.next = 41;\n          break;\n\n        case 40:\n          if (!callback || callback === \"token\") {\n            // create a default callback assuming that the response is a location\n            // and parsing the token from the URL hash\n            callback = function callback(location) {\n              return [parseHashToken(location.hash), null];\n            };\n          }\n\n        case 41:\n          if (!(typeof callback === \"function\")) {\n            _context3.next = 48;\n            break;\n          }\n\n          _context3.next = 44;\n          return call(callback, response, idpContext);\n\n        case 44:\n          _yield$call = _context3.sent;\n          _yield$call2 = _slicedToArray(_yield$call, 2);\n          token = _yield$call2[0];\n          securityContext = _yield$call2[1];\n\n        case 48:\n          if (!(isOauth(idp) && idp.nonce && get(token, \"id_token\"))) {\n            _context3.next = 57;\n            break;\n          }\n\n          // validates the nonce found in the id_token\n          // https://openid.net/specs/openid-connect-core-1_0.html#TokenResponseValidation\n          id_token = parseJwt(token.id_token);\n          nonce = storage(idp).getItem(\"onekijs.nonce\");\n          _context3.next = 53;\n          return call(sha256, nonce);\n\n        case 53:\n          _hash2 = _context3.sent;\n          storage(idp).removeItem(\"onekijs.nonce\");\n\n          if (!(_hash2 !== id_token.nonce)) {\n            _context3.next = 57;\n            break;\n          }\n\n          throw Error(\"Invalid oauth2 nonce\");\n\n        case 57:\n          this.successLogin({\n            token: token,\n            securityContext: securityContext,\n            idpName: idpName,\n            onError: onError,\n            onSuccess: onSuccess\n          });\n          _context3.next = 70;\n          break;\n\n        case 60:\n          _context3.prev = 60;\n          _context3.t0 = _context3[\"catch\"](2);\n          _context3.next = 64;\n          return call(this.onError, _context3.t0);\n\n        case 64:\n          if (!onError) {\n            _context3.next = 69;\n            break;\n          }\n\n          _context3.next = 67;\n          return call(onError, _context3.t0, context);\n\n        case 67:\n          _context3.next = 70;\n          break;\n\n        case 69:\n          throw _context3.t0;\n\n        case 70:\n        case \"end\":\n          return _context3.stop();\n      }\n    }\n  }, _marked3, this, [[2, 60]]);\n}\n/**\n * Submit the login form\n *\n * @param action:\n *    - username: the value from the username field\n *    - password: the value from the password field\n *    - rememberMe: the value from the rememberMe checkbox\n *    - idpName: name of the IDP (as found in the settings)\n *    - onError: callback for catching possible errors\n * @param context:\n *    - router: an OnekiJS router\n *    - settings: the full settings object passed to the application\n */\n\n\nfunction formLogin(_ref4, context) {\n  var idpName, onError, onSuccess, username, password, rememberMe, settings, idp, idpContext, response, method, usernameKey, passwordKey, rememberMeKey, contentType, url, body, _body, token, securityContext, _yield$call3, _yield$call4;\n\n  return _regeneratorRuntime.wrap(function formLogin$(_context4) {\n    while (1) {\n      switch (_context4.prev = _context4.next) {\n        case 0:\n          idpName = _ref4.idpName, onError = _ref4.onError, onSuccess = _ref4.onSuccess, username = _ref4.username, password = _ref4.password, rememberMe = _ref4.rememberMe;\n          settings = context.settings;\n          _context4.prev = 2;\n          _context4.next = 5;\n          return call(this.setLoading, true);\n\n        case 5:\n          // build the IDP configuration from the settings and some default values\n          idp = getIdp(settings, idpName);\n          idpContext = Object.assign({}, context, {\n            idp: idp\n          }); // will contain the result of the submit\n\n          if (!(typeof idp.loginEndpoint === \"function\")) {\n            _context4.next = 13;\n            break;\n          }\n\n          _context4.next = 10;\n          return call(idp.loginEndpoint, {\n            username: username,\n            password: password,\n            rememberMe: rememberMe\n          }, idpContext);\n\n        case 10:\n          response = _context4.sent;\n          _context4.next = 24;\n          break;\n\n        case 13:\n          // create the submit request \n          method = idp.loginMethod || \"POST\";\n          usernameKey = idp.usernameKey || \"username\";\n          passwordKey = idp.passwordKey || \"password\";\n          rememberMeKey = idp.rememberMeKey || \"rememberMe\";\n          contentType = idp.loginContentType || \"application/json\";\n          url = idp.loginEndpoint;\n          body = null;\n\n          if (method === \"GET\") {\n            url += \"?\".concat(usernameKey, \"=\").concat(username, \"&\").concat(passwordKey, \"=\").concat(password, \"&\").concat(rememberMeKey, \"=\").concat(rememberMe);\n          } else {\n            body = (_body = {}, _defineProperty(_body, usernameKey, username), _defineProperty(_body, passwordKey, password), _defineProperty(_body, rememberMeKey, rememberMe), _body);\n          }\n\n          _context4.next = 23;\n          return call(asyncHttp, absoluteUrl(url, get(settings, \"server.baseUrl\")), method, body, {\n            headers: {\n              \"Content-Type\": contentType\n            }\n          });\n\n        case 23:\n          response = _context4.sent;\n\n        case 24:\n          // try to parse the token and the security context from the response\n          token = null, securityContext = null;\n\n          if (!(typeof idp.callback === \"function\")) {\n            _context4.next = 34;\n            break;\n          }\n\n          _context4.next = 28;\n          return call(idp.callback, response, idpContext);\n\n        case 28:\n          _yield$call3 = _context4.sent;\n          _yield$call4 = _slicedToArray(_yield$call3, 2);\n          token = _yield$call4[0];\n          securityContext = _yield$call4[1];\n          _context4.next = 35;\n          break;\n\n        case 34:\n          if (idp.callback === \"token\") {\n            // when the callback is set to \"token\", the response is the token\n            token = response;\n          } else if (idp.callback === \"securityContext\") {\n            // when the callback is set to \"securityContext\", the response is the \n            // security context\n            securityContext = response;\n          }\n\n        case 35:\n          _context4.next = 37;\n          return call(this.successLogin, {\n            token: token,\n            securityContext: securityContext,\n            idpName: idpName,\n            onError: onError,\n            onSuccess: onSuccess\n          });\n\n        case 37:\n          _context4.next = 49;\n          break;\n\n        case 39:\n          _context4.prev = 39;\n          _context4.t0 = _context4[\"catch\"](2);\n          _context4.next = 43;\n          return call(this.onError, _context4.t0);\n\n        case 43:\n          if (!onError) {\n            _context4.next = 48;\n            break;\n          }\n\n          _context4.next = 46;\n          return call(onError, _context4.t0, context);\n\n        case 46:\n          _context4.next = 49;\n          break;\n\n        case 48:\n          throw _context4.t0;\n\n        case 49:\n        case \"end\":\n          return _context4.stop();\n      }\n    }\n  }, _marked4, this, [[2, 39]]);\n}\n/**\n * Save the token and the security context\n *\n * @param action:\n *    - idpName: name of the IDP (as found in the settings)\n *    - onError: callback for catching possible errors\n * @param context:\n *    - router: an OnekiJS router\n *    - settings: the full settings object passed to the application\n */\n\n\nfunction successLogin(_ref5, context) {\n  var token, securityContext, idpName, onError, onSuccess, settings, router, idp, _router$getOrigin, from, fromRoute;\n\n  return _regeneratorRuntime.wrap(function successLogin$(_context5) {\n    while (1) {\n      switch (_context5.prev = _context5.next) {\n        case 0:\n          token = _ref5.token, securityContext = _ref5.securityContext, idpName = _ref5.idpName, onError = _ref5.onError, onSuccess = _ref5.onSuccess;\n          settings = context.settings, router = context.router;\n          _context5.prev = 2;\n          // build the IDP configuration from the settings and some default values\n          idp = getIdp(settings, idpName);\n\n          if (!token) {\n            _context5.next = 9;\n            break;\n          }\n\n          _context5.next = 7;\n          return call(this.authService.saveToken, {\n            token: token,\n            idp: idp\n          });\n\n        case 7:\n          _context5.next = 11;\n          break;\n\n        case 9:\n          _context5.next = 11;\n          return call(this.authService.setIdp, idp);\n\n        case 11:\n          if (!securityContext) {\n            _context5.next = 16;\n            break;\n          }\n\n          _context5.next = 14;\n          return call(this.authService.setSecurityContext, securityContext);\n\n        case 14:\n          _context5.next = 18;\n          break;\n\n        case 16:\n          _context5.next = 18;\n          return call(this.authService.fetchSecurityContext);\n\n        case 18:\n          _context5.next = 20;\n          return call(this.onSuccess);\n\n        case 20:\n          _context5.next = 22;\n          return call(this.notificationService.clearTopic, 'login-error');\n\n        case 22:\n          // get the original route\n          _router$getOrigin = router.getOrigin(), from = _router$getOrigin.from, fromRoute = _router$getOrigin.fromRoute;\n          router.deleteOrigin();\n\n          if (!onSuccess) {\n            _context5.next = 29;\n            break;\n          }\n\n          _context5.next = 27;\n          return call(onSuccess, [token, securityContext], Object.assign({}, context, {\n            from: from\n          }));\n\n        case 27:\n          _context5.next = 31;\n          break;\n\n        case 29:\n          _context5.next = 31;\n          return call([router, router.push], from, fromRoute);\n\n        case 31:\n          _context5.next = 43;\n          break;\n\n        case 33:\n          _context5.prev = 33;\n          _context5.t0 = _context5[\"catch\"](2);\n          _context5.next = 37;\n          return call(this.onError, _context5.t0);\n\n        case 37:\n          if (!onError) {\n            _context5.next = 42;\n            break;\n          }\n\n          _context5.next = 40;\n          return call(onError, _context5.t0, context);\n\n        case 40:\n          _context5.next = 43;\n          break;\n\n        case 42:\n          throw _context5.t0;\n\n        case 43:\n        case \"end\":\n          return _context5.stop();\n      }\n    }\n  }, _marked5, this, [[2, 33]]);\n}\n/**\n * Logout the user or redirect to an external logout page\n *\n * @param action:\n *    - idpName: name of the IDP (as found in the settings)\n *    - onError: callback for catching possible errors\n * @param context:\n *    - router: an OnekiJS router\n *    - settings: the full settings object passed to the application\n */\n\n\nfunction logout(_ref6, context) {\n  var onError, onSuccess, router, settings, store, idpName, idp, idpContext, url, redirectUri, search, redirectKey, method;\n  return _regeneratorRuntime.wrap(function logout$(_context6) {\n    while (1) {\n      switch (_context6.prev = _context6.next) {\n        case 0:\n          onError = _ref6.onError, onSuccess = _ref6.onSuccess;\n          router = context.router, settings = context.settings, store = context.store;\n          _context6.prev = 2;\n          idpName = getIdpName(store.getState());\n\n          if (idpName) {\n            _context6.next = 8;\n            break;\n          }\n\n          _context6.next = 7;\n          return call(this.successLogout, {\n            onError: onError,\n            onSuccess: onSuccess\n          });\n\n        case 7:\n          return _context6.abrupt(\"return\", _context6.sent);\n\n        case 8:\n          _context6.next = 10;\n          return this.setLoading(true);\n\n        case 10:\n          // build the IDP configuration from the settings and some default values\n          idp = getIdp(settings, idpName);\n          idpContext = Object.assign({}, context, {\n            idp: idp\n          });\n\n          if (!isExternal(idp)) {\n            _context6.next = 31;\n            break;\n          }\n\n          if (!(typeof idp.externalLogoutEndpoint === \"function\")) {\n            _context6.next = 20;\n            break;\n          }\n\n          _context6.next = 16;\n          return call(idp.externalLogoutEndpoint, idpContext);\n\n        case 16:\n          url = _context6.sent;\n          window.location.href = \"\".concat(absoluteUrl(url, get(settings, \"server.baseUrl\")));\n          _context6.next = 29;\n          break;\n\n        case 20:\n          if (!idp.externalLogoutEndpoint) {\n            _context6.next = 27;\n            break;\n          }\n\n          // Build the logout URL\n          redirectUri = absoluteUrl(idp.logoutCallbackRoute || \"\".concat(router.pathname, \"/callback\"));\n          search = \"\";\n\n          if (isOauth(idp)) {\n            // Build the logout URL based on specs\n            // https://openid.net/specs/openid-connect-frontchannel-1_0.html\n            redirectKey = idp.postLogoutRedirectKey || \"post_logout_redirect_uri\";\n            search = \"?\".concat(redirectKey, \"=\").concat(redirectUri, \"&client_id=\").concat(idp.clientId);\n          } else if (idp.postLogoutRedirectKey) {\n            search = \"?\".concat(idp.postLogoutRedirectKey, \"=\").concat(redirectUri);\n          }\n\n          window.location.href = \"\".concat(absoluteUrl(idp.externalLogoutEndpoint, get(settings, \"server.baseUrl\"))).concat(search);\n          _context6.next = 29;\n          break;\n\n        case 27:\n          _context6.next = 29;\n          return call(this.successLogout, {\n            idpName: idpName,\n            onError: onError,\n            onSuccess: onSuccess\n          });\n\n        case 29:\n          _context6.next = 42;\n          break;\n\n        case 31:\n          if (!(typeof idp.logoutEndpoint === \"function\")) {\n            _context6.next = 36;\n            break;\n          }\n\n          _context6.next = 34;\n          return call(idp.logoutEndpoint, idpContext);\n\n        case 34:\n          _context6.next = 40;\n          break;\n\n        case 36:\n          if (!idp.logoutEndpoint) {\n            _context6.next = 40;\n            break;\n          }\n\n          // call the server\n          method = idp.logoutMethod || \"GET\";\n          _context6.next = 40;\n          return call(asyncHttp, absoluteUrl(idp.logoutEndpoint, get(settings, \"server.baseUrl\")), method, null, {\n            auth: store.getState().auth\n          });\n\n        case 40:\n          _context6.next = 42;\n          return call(this.successLogout, {\n            onError: onError,\n            onSuccess: onSuccess\n          });\n\n        case 42:\n          _context6.next = 54;\n          break;\n\n        case 44:\n          _context6.prev = 44;\n          _context6.t0 = _context6[\"catch\"](2);\n          _context6.next = 48;\n          return call(this.onError, _context6.t0);\n\n        case 48:\n          if (!onError) {\n            _context6.next = 53;\n            break;\n          }\n\n          _context6.next = 51;\n          return call(onError, _context6.t0, context);\n\n        case 51:\n          _context6.next = 54;\n          break;\n\n        case 53:\n          throw _context6.t0;\n\n        case 54:\n        case \"end\":\n          return _context6.stop();\n      }\n    }\n  }, _marked6, this, [[2, 44]]);\n}\n\nfunction successLogout(_ref7, context) {\n  var onError, onSuccess, router, settings;\n  return _regeneratorRuntime.wrap(function successLogout$(_context7) {\n    while (1) {\n      switch (_context7.prev = _context7.next) {\n        case 0:\n          onError = _ref7.onError, onSuccess = _ref7.onSuccess;\n          router = context.router, settings = context.settings;\n          _context7.prev = 2;\n          _context7.next = 5;\n          return call(this.authService.clear);\n\n        case 5:\n          _context7.next = 7;\n          return call(this.onSuccess);\n\n        case 7:\n          _context7.next = 9;\n          return call(this.notificationService.clearTopic, 'logout-error');\n\n        case 9:\n          if (!onSuccess) {\n            _context7.next = 14;\n            break;\n          }\n\n          _context7.next = 12;\n          return call(onSuccess);\n\n        case 12:\n          _context7.next = 16;\n          break;\n\n        case 14:\n          _context7.next = 16;\n          return call([router, router.push], get(settings, \"routes.home\", \"/\"));\n\n        case 16:\n          _context7.next = 28;\n          break;\n\n        case 18:\n          _context7.prev = 18;\n          _context7.t0 = _context7[\"catch\"](2);\n          _context7.next = 22;\n          return call(this.onError, _context7.t0);\n\n        case 22:\n          if (!onError) {\n            _context7.next = 27;\n            break;\n          }\n\n          _context7.next = 25;\n          return call(onError, _context7.t0, context);\n\n        case 25:\n          _context7.next = 28;\n          break;\n\n        case 27:\n          throw _context7.t0;\n\n        case 28:\n        case \"end\":\n          return _context7.stop();\n      }\n    }\n  }, _marked7, this, [[2, 18]]);\n}\n\nexport var loginService = {\n  name: \"login\",\n  reducers: {\n    /**\n     * Inform the user if there is a loading task\n     * \n     * @param {object} state: the redux state \n     * @param {boolean} loading\n     */\n    setLoading: function setLoading(state, loading) {\n      state.loading = loading;\n    },\n\n    /**\n     * Inform the user if there is an error\n     * \n     * @param {object} state: the redux state \n     * @param {object} error \n     */\n    onError: function onError(state, error) {\n      state.error = error;\n      state.loading = false;\n    },\n\n    /**\n     * Reset the loading and error message after a successful operation\n     * \n     * @param {object} state: the redux state \n     */\n    onSuccess: function onSuccess(state) {\n      state.loading = false;\n      state.error = null;\n    }\n  },\n  sagas: {\n    formLogin: latest(formLogin),\n    userLogout: latest(logout),\n    externalLogin: latest(externalLogin),\n    externalLoginCallback: latest(externalLoginCallback),\n    successLogin: latest(successLogin),\n    login: latest(login)\n  },\n  inject: {\n    notificationService: notificationService,\n    authService: authService\n  }\n};\nexport var logoutService = {\n  name: \"logout\",\n  reducers: {\n    /**\n     * Inform the user if there is a loading task\n     * \n     * @param {object} state: the redux state \n     * @param {boolean} loading\n     */\n    setLoading: function setLoading(state, loading) {\n      state.loading = loading;\n    },\n\n    /**\n     * Inform the user if there is an error\n     * \n     * @param {object} state: the redux state \n     * @param {object} error \n     */\n    onError: function onError(state, error) {\n      state.error = error;\n      state.loading = false;\n    },\n\n    /**\n     * Reset the loading and error message after a successful operation\n     * \n     * @param {object} state: the redux state \n     */\n    onSuccess: function onSuccess(state) {\n      state.loading = false;\n      state.error = null;\n    }\n  },\n  sagas: {\n    logout: latest(logout),\n    successLogout: latest(successLogout)\n  },\n  inject: {\n    authService: authService,\n    notificationService: notificationService\n  }\n}; // manage the login\n\nexport var useLoginService = function useLoginService(idpName) {\n  var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n  // create the local login service\n  var _useLocalService = useLocalService(loginService, {\n    loading: false,\n    error: null\n  }),\n      _useLocalService2 = _slicedToArray(_useLocalService, 2),\n      state = _useLocalService2[0],\n      service = _useLocalService2[1]; // inject the global notificationService\n\n\n  var notificationService = useNotificationService(); // we send errors to the notification service\n\n  var defaultOnError = useCallback(function (error) {\n    notificationService.send({\n      topic: 'login-error',\n      payload: error\n    });\n  }, [notificationService]);\n  var onError = options.onError || defaultOnError;\n  var onSuccess = options.onSuccess;\n  var callback = options.callback; // build the submit method in case of a form login\n\n  var submit = useCallback(function (action) {\n    return service.formLogin(Object.assign({\n      idpName: idpName,\n      onError: onError,\n      onSuccess: onSuccess\n    }, action));\n  }, [service, idpName, onError, onSuccess]);\n  useEffect(function () {\n    if (callback) {\n      // call the external login callback saga\n      service.externalLoginCallback({\n        idpName: idpName,\n        onError: onError,\n        onSuccess: onSuccess\n      });\n    } else {\n      // call the login saga\n      service.login({\n        idpName: idpName,\n        onError: onError,\n        onSuccess: onSuccess\n      });\n    }\n  }, [service, idpName, onError, onSuccess, callback]);\n  return [state.error, state.loading, submit];\n}; // manage the result of a external login\n\nexport var useLoginCallbackService = function useLoginCallbackService(name) {\n  var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  options.callback = true;\n\n  var _useLoginService = useLoginService(name, options),\n      _useLoginService2 = _slicedToArray(_useLoginService, 2),\n      error = _useLoginService2[0],\n      loading = _useLoginService2[1];\n\n  return [error, loading];\n};\nexport var useLoginError = function useLoginError() {\n  var errors = useNotifications('login-error');\n  return errors[0];\n};\nexport var useLogoutService = function useLogoutService() {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  var _useLocalService3 = useLocalService(logoutService, {\n    loading: true\n  }),\n      _useLocalService4 = _slicedToArray(_useLocalService3, 2),\n      state = _useLocalService4[0],\n      service = _useLocalService4[1];\n\n  var notificationService = useNotificationService(); // we send errors to the notification service\n\n  var defaultOnError = useCallback(function (error) {\n    notificationService.send({\n      topic: 'logout-error',\n      payload: error\n    });\n  }, [notificationService]);\n  var onError = options.onError || defaultOnError;\n  var onSuccess = options.onSuccess;\n  var callback = options.callback;\n  useEffect(function () {\n    if (callback) {\n      service.successLogout({\n        onError: onError,\n        onSuccess: onSuccess\n      });\n    } else {\n      service.logout({\n        onError: onError,\n        onSuccess: onSuccess\n      });\n    }\n  }, [service, onError, onSuccess, callback]);\n  return state;\n};\nexport var useLogoutCallbackService = function useLogoutCallbackService() {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  options.callback = true;\n  return useLogoutService(options);\n};\nexport var useLogoutError = function useLogoutError() {\n  var errors = useNotifications('logout-error');\n  return errors[0];\n};\n//# sourceMappingURL=login.js.map","import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport { call, delay } from \"redux-saga/effects\";\nimport { useReduxService } from \"./service\";\nimport { useReduxSelector } from \"./store\";\nimport { append, get, isNull, set } from \"./utils/object\";\nvar nextId = 1;\n\nvar formatNotification = function formatNotification(notification, settings, notificationService) {\n  if (typeof notification === \"string\") {\n    notification = {\n      payload: notification\n    };\n  }\n\n  if (notification.constructor === Object) {\n    notification = Object.assign({}, notification);\n  }\n\n  if (isNull(notification.id)) {\n    notification.id = \"oneki-id-\".concat(++nextId);\n  }\n\n  if (isNull(notification.topic)) {\n    notification.topic = \"default\";\n  }\n\n  if (isNull(notification.timestamp)) {\n    var date = new Date();\n    notification.timestamp = date.getTime();\n  }\n\n  if (isNull(notification.persist)) {\n    var persist = get(settings, \"notification.\".concat(notification.topic, \".persist\"), get(settings, \"notification.default.persist\", true));\n    notification.persist = persist;\n  }\n\n  notification.remove = function () {\n    notificationService.remove(notification.id);\n  };\n\n  return notification;\n};\n\nvar formatLevelNotification = function formatLevelNotification(level, notification) {\n  if (typeof notification === \"string\") {\n    notification = {\n      topic: level,\n      payload: {\n        message: notification\n      }\n    };\n  } else {\n    notification = {\n      topic: level,\n      payload: notification\n    };\n  }\n\n  return notification;\n};\n\nexport var notificationService = {\n  name: \"notification\",\n  init: function init(_ref) {\n    var router = _ref.router;\n    router.listen(this.onRouteChange);\n  },\n  reducers: {\n    add: function add(state, notification, _ref2) {\n      var settings = _ref2.settings;\n      var max = get(settings, \"notification.\".concat(notification.topic, \".max\"), get(settings, \"notification.default.max\", 0));\n      append(state, \"notifications.\".concat(notification.topic), notification);\n\n      if (max > 0 && state.notifications[notification.topic].length > max) {\n        state.notifications[notification.topic].unshift();\n      }\n    },\n    clearTopic: function clearTopic(state, topic) {\n      set(state, \"notifications.\".concat(topic), []);\n    },\n    remove: function remove(state, notificationId) {\n      Object.keys(state.notifications || {}).forEach(function (topic) {\n        for (var i = 0; i < state.notifications[topic].length; i++) {\n          if (state.notifications[topic][i].id === notificationId) {\n            state.notifications[topic].splice(i, 1);\n            break;\n          }\n        }\n      });\n    },\n    onRouteChange: function onRouteChange(state) {\n      Object.keys(state.notifications || {}).forEach(function (topic) {\n        for (var i = state.notifications[topic].length - 1; i >= 0; i--) {\n          if (!state.notifications[topic][i].persist) {\n            state.notifications[topic].splice(i, 1);\n          }\n        }\n      });\n    }\n  },\n  sagas: {\n    send: /*#__PURE__*/_regeneratorRuntime.mark(function send(notification, _ref3) {\n      var store, settings, topic, notifications;\n      return _regeneratorRuntime.wrap(function send$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              store = _ref3.store, settings = _ref3.settings;\n              _context.prev = 1;\n\n              if (isNull(notification.id)) {\n                _context.next = 7;\n                break;\n              }\n\n              // check if this notification is already present\n              topic = notification.topic || \"default\";\n              notifications = get(store.getState(), \"notifications.\".concat(topic), []);\n\n              if (!notifications.find(function (n) {\n                return n.id === notification.id;\n              })) {\n                _context.next = 7;\n                break;\n              }\n\n              return _context.abrupt(\"return\");\n\n            case 7:\n              notification = formatNotification(notification, settings, this);\n\n              if (notification.ttl === undefined) {\n                notification.ttl = get(settings, \"notification.\".concat(notification.topic, \".ttl\"), get(settings, \"notification.default.ttl\"));\n              }\n\n              _context.next = 11;\n              return call(this.add, notification);\n\n            case 11:\n              if (!notification.ttl) {\n                _context.next = 16;\n                break;\n              }\n\n              _context.next = 14;\n              return delay(notification.ttl);\n\n            case 14:\n              _context.next = 16;\n              return this.remove(notification.id);\n\n            case 16:\n              _context.next = 21;\n              break;\n\n            case 18:\n              _context.prev = 18;\n              _context.t0 = _context[\"catch\"](1);\n              throw _context.t0;\n\n            case 21:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, send, this, [[1, 18]]);\n    }),\n    error: /*#__PURE__*/_regeneratorRuntime.mark(function error(_error) {\n      return _regeneratorRuntime.wrap(function error$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              console.error(_error);\n              _context2.next = 3;\n              return call(this.send, formatLevelNotification(\"error\", _error));\n\n            case 3:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, error, this);\n    }),\n    success: /*#__PURE__*/_regeneratorRuntime.mark(function success(_success) {\n      return _regeneratorRuntime.wrap(function success$(_context3) {\n        while (1) {\n          switch (_context3.prev = _context3.next) {\n            case 0:\n              _context3.next = 2;\n              return call(this.send, formatLevelNotification(\"success\", _success));\n\n            case 2:\n            case \"end\":\n              return _context3.stop();\n          }\n        }\n      }, success, this);\n    }),\n    info: /*#__PURE__*/_regeneratorRuntime.mark(function info(_info) {\n      return _regeneratorRuntime.wrap(function info$(_context4) {\n        while (1) {\n          switch (_context4.prev = _context4.next) {\n            case 0:\n              _context4.next = 2;\n              return call(this.send, formatLevelNotification(\"info\", _info));\n\n            case 2:\n            case \"end\":\n              return _context4.stop();\n          }\n        }\n      }, info, this);\n    }),\n    warning: /*#__PURE__*/_regeneratorRuntime.mark(function warning(_warning) {\n      return _regeneratorRuntime.wrap(function warning$(_context5) {\n        while (1) {\n          switch (_context5.prev = _context5.next) {\n            case 0:\n              _context5.next = 2;\n              return call(this.send, formatLevelNotification(\"warning\", _warning));\n\n            case 2:\n            case \"end\":\n              return _context5.stop();\n          }\n        }\n      }, warning, this);\n    })\n  }\n};\nexport var useNotificationService = function useNotificationService() {\n  return useReduxService(notificationService);\n};\nexport var useNotifications = function useNotifications(topic) {\n  var defaultValue;\n\n  if (topic) {\n    topic = \"notifications.\".concat(topic);\n    defaultValue = [];\n  } else {\n    topic = \"notifications\";\n    defaultValue = {};\n  }\n\n  return useReduxSelector(topic, defaultValue);\n};\n//# sourceMappingURL=notification.js.map","import _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nimport { get } from \"../utils/object\";\n\nvar BaseRouter = /*#__PURE__*/function () {\n  function BaseRouter() {\n    _classCallCheck(this, BaseRouter);\n\n    this.history = [];\n  }\n\n  _createClass(BaseRouter, [{\n    key: \"deleteOrigin\",\n    value: function deleteOrigin() {\n      localStorage.removeItem(\"onekijs.from\");\n    }\n  }, {\n    key: \"getOrigin\",\n    value: function getOrigin() {\n      var from = localStorage.getItem(\"onekijs.from\") || get(this.settings, \"routes.home\", \"/\");\n      return {\n        from: from\n      };\n    }\n    /**\n     * url can be a string or a location.\n     * If location, the format is the following\n     * {\n     *   url: string, // example: /users/1?test=1&test2#h=3&h2\n     *   route: string, // example: /users/[id]\n     *   pathname: string, // example: /users/1\n     *   query: obj, // example: {test:1,test2:null}\n     *   hash: obj // example: {h:3, h2:null}\n     *   state: obj // example: {key1: 'value1'}\n     * }\n     */\n    // eslint-disable-next-line\n\n  }, {\n    key: \"push\",\n    value: function push(url_or_location) {\n      throw Error(\"method push of class \".concat(this.constructor.name, \"  must be redefined\"));\n    } // eslint-disable-next-line\n\n  }, {\n    key: \"replace\",\n    value: function replace(url_or_location) {\n      throw Error(\"method replace of class \".concat(this.constructor.name, \"  must be redefined\"));\n    }\n  }, {\n    key: \"saveOrigin\",\n    value: function saveOrigin() {\n      var force = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : true;\n      var currentValue = localStorage.getItem(\"onekijs.from\");\n      if (!force && currentValue) return;\n      var from = get(this.settings, \"routes.home\", \"/\");\n      var previous = this.previousLocation;\n\n      if (previous) {\n        from = previous.relativeurl;\n      }\n\n      localStorage.setItem(\"onekijs.from\", from);\n    }\n    /**\n     * callback(url) where url is:\n     * {\n     *   url: string, // example: /users/1?test=1&test2#h=3&h2\n     *   route: string, // example: /users/[id]\n     *   pathname: string, // example: /users/1\n     *   query: obj, // example: {test:1,test2:null}\n     *   hash: obj // example: {h:3, h2:null}\n     *   state: obj // example: {key1: 'value1'}\n     * }\n     */\n    // eslint-disable-next-line\n\n  }, {\n    key: \"listen\",\n    value: function listen(callback) {\n      throw Error(\"method listen of class \".concat(this.constructor.name, \"  must be redefined\"));\n    } // eslint-disable-next-line\n\n  }, {\n    key: \"unlisten\",\n    value: function unlisten(handler) {\n      throw Error(\"method unlisten of class \".concat(this.constructor.name, \"  must be redefined\"));\n    }\n  }, {\n    key: \"location\",\n    get: function get() {\n      return this.history[0];\n    }\n  }, {\n    key: \"previousLocation\",\n    get: function get() {\n      return this.history[1];\n    }\n  }, {\n    key: \"hash\",\n    get: function get() {\n      return this.location ? this.location.hash : null;\n    }\n  }, {\n    key: \"query\",\n    get: function get() {\n      return this.location ? this.location.query : null;\n    }\n  }, {\n    key: \"href\",\n    get: function get() {\n      return this.location ? this.location.href : null;\n    }\n  }, {\n    key: \"pathname\",\n    get: function get() {\n      return this.location ? this.location.pathname : null;\n    }\n  }, {\n    key: \"state\",\n    get: function get() {\n      return this.location ? this.location.state : null;\n    }\n  }]);\n\n  return BaseRouter;\n}();\n\nexport { BaseRouter as default };\n//# sourceMappingURL=base.js.map","import _regeneratorRuntime from \"@babel/runtime/regenerator\";\n\nvar _marked = /*#__PURE__*/_regeneratorRuntime.mark(delayLoading);\n\nimport { delay, call, takeEvery, takeLatest, takeLeading, debounce as debounceSaga, throttle as throttleSaga } from \"redux-saga/effects\";\nexport var every = function every(saga) {\n  return {\n    effect: takeEvery,\n    saga: saga\n  };\n};\nexport var latest = function latest(saga) {\n  return {\n    effect: takeLatest,\n    saga: saga\n  };\n};\nexport var leading = function leading(saga) {\n  return {\n    effect: takeLeading,\n    saga: saga\n  };\n};\nexport var debounce = function debounce(delay, saga) {\n  return {\n    effect: debounceSaga,\n    saga: saga,\n    delay: delay\n  };\n};\nexport var throttle = function throttle(delay, saga) {\n  return {\n    effect: throttleSaga,\n    saga: saga,\n    delay: delay\n  };\n};\nexport function delayLoading(delay_ms, reducer) {\n  return _regeneratorRuntime.wrap(function delayLoading$(_context) {\n    while (1) {\n      switch (_context.prev = _context.next) {\n        case 0:\n          _context.next = 2;\n          return delay(delay_ms);\n\n        case 2:\n          _context.next = 4;\n          return call(reducer, true);\n\n        case 4:\n        case \"end\":\n          return _context.stop();\n      }\n    }\n  }, _marked);\n}\n//# sourceMappingURL=saga.js.map","import _extends from \"@babel/runtime/helpers/extends\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/objectWithoutProperties\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport React, { useCallback, useEffect, useState } from \"react\";\nimport { Redirect, Route } from \"react-router-dom\";\nimport { useAuthService } from \"./auth\";\nimport { useOnekiRouter, useSetting } from \"./context\";\nimport HTTPError from \"./error\";\nimport { useReduxSelector } from \"./store\";\nimport PropTypes from 'prop-types';\n\nvar DefaultErrorComponent = function DefaultErrorComponent(_ref) {\n  var error = _ref.error;\n  var router = useOnekiRouter();\n  var loginRoute = useSetting('routes.login', '/login');\n  useEffect(function () {\n    if (error.code === 401) {\n      router.push(loginRoute);\n    }\n  }, [error.code, router, loginRoute]);\n\n  if (error.code === 401) {\n    return null;\n  }\n\n  return /*#__PURE__*/React.createElement(\"div\", null, \"ERROR COMPONENT HERE \", error.code);\n};\n\nDefaultErrorComponent.propTypes = {\n  error: PropTypes.object\n};\nexport var secure = function secure(Component, validator) {\n  var options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n  var SecureComponent = /*#__PURE__*/React.memo(function (props) {\n    var authService = useAuthService();\n    var securityContext = useReduxSelector(\"auth.securityContext\", null);\n    var token = useReduxSelector(\"auth.token\", null);\n\n    var _useState = useState(false),\n        _useState2 = _slicedToArray(_useState, 2),\n        loading = _useState2[0],\n        setLoading = _useState2[1];\n\n    var _useState3 = useState(null),\n        _useState4 = _slicedToArray(_useState3, 2),\n        error = _useState4[0],\n        setError = _useState4[1];\n\n    var ErrorComponent = options.ErrorComponent || DefaultErrorComponent;\n    var onError = useCallback(function (e) {\n      setError(e);\n      setLoading(false);\n    }, [setLoading, setError]);\n    useEffect(function () {\n      if (!loading && !securityContext && !error) {\n        setLoading(true);\n        authService.fetchSecurityContext().then(function () {\n          setLoading(false);\n        })[\"catch\"](function (e) {\n          onError(e);\n        });\n      }\n    }, [authService, onError, error, loading, securityContext]);\n\n    if (!loading && !error) {\n      if (token && token.expires_at && parseInt(token.expires_at) < Date.now()) {\n        onError(new HTTPError(401));\n      } else if (securityContext) {\n        if (validator && !validator(securityContext)) {\n          // Example: user doesn't have the required role\n          onError(new HTTPError(403));\n        } else {\n          return /*#__PURE__*/React.createElement(Component, props);\n        }\n      } else {\n        return null;\n      }\n    } else if (loading) {\n      return /*#__PURE__*/React.createElement(\"div\", null, \"Loading...\");\n    } else if (error) {\n      return /*#__PURE__*/React.createElement(ErrorComponent, {\n        error: error\n      });\n    }\n  });\n  SecureComponent.displayName = \"SecureComponent\";\n  SecureComponent.getLayout = Component.getLayout;\n  return SecureComponent;\n};\nexport var SecureRoute = function SecureRoute(_ref2) {\n  var Component = _ref2.component,\n      args = _objectWithoutProperties(_ref2, [\"component\"]);\n\n  var token = useReduxSelector(\"auth.token\", null);\n  var securityContext = useReduxSelector(\"auth.securityContext\", null);\n  var loginRoute = useSetting(\"routes.login\", \"/login\");\n  return /*#__PURE__*/React.createElement(Route, _extends({}, args, {\n    render: function render(props) {\n      return !securityContext || token && token.expires_at <= Date.now() ? /*#__PURE__*/React.createElement(Redirect, {\n        to: {\n          pathname: loginRoute,\n          // eslint-disable-next-line\n          state: {\n            from: props.location\n          }\n        }\n      }) : /*#__PURE__*/React.createElement(Component, props);\n    }\n  }));\n};\nSecureRoute.propTypes = {\n  component: PropTypes.elementType\n};\n//# sourceMappingURL=secure.js.map","import _assertThisInitialized from \"@babel/runtime/helpers/assertThisInitialized\";\nimport _inherits from \"@babel/runtime/helpers/inherits\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/getPrototypeOf\";\nimport _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\n\nfunction _createForOfIteratorHelper(o, allowArrayLike) { var it; if (typeof Symbol === \"undefined\" || o[Symbol.iterator] == null) { if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") { if (it) o = it; var i = 0; var F = function F() {}; return { s: F, n: function n() { if (i >= o.length) return { done: true }; return { done: false, value: o[i++] }; }, e: function e(_e) { throw _e; }, f: F }; } throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); } var normalCompletion = true, didErr = false, err; return { s: function s() { it = o[Symbol.iterator](); }, n: function n() { var step = it.next(); normalCompletion = step.done; return step; }, e: function e(_e2) { didErr = true; err = _e2; }, f: function f() { try { if (!normalCompletion && it[\"return\"] != null) it[\"return\"](); } finally { if (didErr) throw err; } } }; }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nimport { runSaga, stdChannel } from \"@redux-saga/core\";\nimport { EventEmitter } from 'events';\nimport produce from \"immer\";\nimport { useCallback, useContext, useEffect, useMemo, useReducer, useRef } from \"react\";\nimport { ReactReduxContext, useStore } from \"react-redux\";\nimport { call, take } from \"redux-saga/effects\";\nimport { AppContext } from \"./context\";\nimport { every } from \"./saga\";\nimport { set, useShallowEqual } from \"./utils/object\";\nvar services = {};\n\nvar ReduxService = /*#__PURE__*/function () {\n  function ReduxService(schema, context) {\n    var _this = this;\n\n    _classCallCheck(this, ReduxService);\n\n    this._reducers = {};\n    this._sagas = {};\n    this._name = schema.name;\n    this._context = context;\n    Object.keys(schema.inject || {}).forEach(function (serviceName) {\n      _this._injectService(serviceName, schema.inject[serviceName]);\n    });\n    Object.keys(schema.reducers || {}).forEach(function (type) {\n      _this._createReducer(type, schema.reducers[type], context.store.dispatch);\n    });\n    Object.keys(schema.sagas || {}).forEach(function (type) {\n      var effect = typeof schema.sagas[type] === 'function' ? null : schema.sagas[type][\"effect\"];\n      var fn = typeof schema.sagas[type] === 'function' ? schema.sagas[type] : schema.sagas[type][\"saga\"];\n\n      _this._createSaga(type, effect, fn, schema.sagas.delay);\n    });\n\n    if (schema.init) {\n      schema.init.call(this, this._context);\n    }\n  }\n\n  _createClass(ReduxService, [{\n    key: \"_createReducer\",\n    value: function _createReducer(type, reducer) {\n      var _this2 = this;\n\n      var _type$split = type.split(\" as \"),\n          _type$split2 = _slicedToArray(_type$split, 2),\n          actionType = _type$split2[0],\n          alias = _type$split2[1];\n\n      alias = alias ? alias : actionType;\n      actionType = actionType.includes(\".\") || !this._name ? actionType : \"\".concat(this._name, \".\").concat(actionType);\n\n      if (reducer) {\n        this._reducers[actionType] = reducer;\n      }\n\n      this[alias] = function (payload) {\n        _this2._dispatch({\n          type: actionType,\n          payload: payload\n        });\n      };\n    }\n  }, {\n    key: \"_createSaga\",\n    value: function _createSaga(type, effect, saga, delay) {\n      var _this3 = this;\n\n      var self = this;\n      var context = this._context;\n\n      var _type$split3 = type.split(\" as \"),\n          _type$split4 = _slicedToArray(_type$split3, 2),\n          actionType = _type$split4[0],\n          alias = _type$split4[1];\n\n      alias = alias ? alias : actionType;\n      actionType = actionType.includes(\".\") || !this._name ? actionType : \"\".concat(this._name, \".\").concat(actionType);\n\n      var wrapper = /*#__PURE__*/_regeneratorRuntime.mark(function wrapper(action) {\n        var payload, result;\n        return _regeneratorRuntime.wrap(function wrapper$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _context.prev = 0;\n                payload = action.payload === undefined ? {} : action.payload;\n                _context.next = 4;\n                return call([self, saga], payload, context);\n\n              case 4:\n                result = _context.sent;\n\n                if (action.resolve) {\n                  action.resolve(result);\n                }\n\n                return _context.abrupt(\"return\", result);\n\n              case 9:\n                _context.prev = 9;\n                _context.t0 = _context[\"catch\"](0);\n\n                if (!action.reject) {\n                  _context.next = 15;\n                  break;\n                }\n\n                action.reject(_context.t0);\n                _context.next = 16;\n                break;\n\n              case 15:\n                throw _context.t0;\n\n              case 16:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, wrapper, null, [[0, 9]]);\n      });\n\n      if (effect) {\n        if (delay) {\n          this._sagas[actionType] = /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n            return _regeneratorRuntime.wrap(function _callee$(_context2) {\n              while (1) {\n                switch (_context2.prev = _context2.next) {\n                  case 0:\n                    _context2.next = 2;\n                    return effect(delay, actionType, wrapper);\n\n                  case 2:\n                  case \"end\":\n                    return _context2.stop();\n                }\n              }\n            }, _callee);\n          });\n        } else {\n          this._sagas[actionType] = /*#__PURE__*/_regeneratorRuntime.mark(function _callee2() {\n            return _regeneratorRuntime.wrap(function _callee2$(_context3) {\n              while (1) {\n                switch (_context3.prev = _context3.next) {\n                  case 0:\n                    _context3.next = 2;\n                    return effect(actionType, wrapper);\n\n                  case 2:\n                  case \"end\":\n                    return _context3.stop();\n                }\n              }\n            }, _callee2);\n          });\n        }\n      } else {\n        this._sagas[actionType] = /*#__PURE__*/_regeneratorRuntime.mark(function _callee3() {\n          var action;\n          return _regeneratorRuntime.wrap(function _callee3$(_context4) {\n            while (1) {\n              switch (_context4.prev = _context4.next) {\n                case 0:\n                  if (!true) {\n                    _context4.next = 8;\n                    break;\n                  }\n\n                  _context4.next = 3;\n                  return take(actionType, wrapper);\n\n                case 3:\n                  action = _context4.sent;\n                  _context4.next = 6;\n                  return call(wrapper, action);\n\n                case 6:\n                  _context4.next = 0;\n                  break;\n\n                case 8:\n                case \"end\":\n                  return _context4.stop();\n              }\n            }\n          }, _callee3);\n        });\n      }\n\n      this[alias] = function (payload) {\n        return new Promise(function (resolve, reject) {\n          _this3._dispatch({\n            type: actionType,\n            payload: payload,\n            resolve: resolve,\n            reject: reject\n          });\n        });\n      };\n    }\n  }, {\n    key: \"_injectService\",\n    value: function _injectService(name, defaultSchema) {\n      var _this4 = this;\n\n      // create service with the default schema if not already present in the context\n      var store = this._context.store;\n      createReduxService(defaultSchema, this._context);\n      this[name] = {};\n      Object.keys(defaultSchema.reducers || {}).forEach(function (type) {\n        _this4[name][type] = function (payload) {\n          return store.dispatch({\n            type: \"\".concat(defaultSchema.name, \".\").concat(type),\n            payload: payload\n          });\n        };\n      });\n      Object.keys(defaultSchema.sagas || {}).forEach(function (type) {\n        _this4[name][type] = function (payload) {\n          return new Promise(function (resolve, reject) {\n            store.dispatch({\n              type: \"\".concat(defaultSchema.name, \".\").concat(type),\n              payload: payload,\n              resolve: resolve,\n              reject: reject\n            });\n          });\n        };\n      });\n    }\n  }, {\n    key: \"_run\",\n    value: function _run() {\n      var _this5 = this;\n\n      var store = this._context.store;\n      this._dispatch = store.dispatch;\n      store.injectReducers(this, this._name, this._reducers, this._context);\n      Object.keys(this._sagas).forEach(function (type) {\n        store.runSaga(_this5._name, _this5._sagas[type], type);\n      });\n    }\n  }, {\n    key: \"_stop\",\n    value: function _stop() {\n      var _this6 = this;\n\n      var store = this._context.store;\n      this._dispatch = null;\n      store.removeReducers(this._name, this._reducers);\n      Object.keys(this._sagas).forEach(function (type) {\n        store.cancelSaga(_this6._name, type);\n      });\n    }\n  }]);\n\n  return ReduxService;\n}();\n\nvar Service = /*#__PURE__*/function (_ReduxService) {\n  _inherits(Service, _ReduxService);\n\n  var _super = _createSuper(Service);\n\n  function Service(schema, context) {\n    var _this7;\n\n    _classCallCheck(this, Service);\n\n    _this7 = _super.call(this, schema, context);\n\n    _this7._reducer = function (state, action) {\n      var nextState = produce(state, function (draftState) {\n        if (_this7._reducers[action.type]) {\n          var payload = action.payload === undefined ? {} : action.payload;\n\n          _this7._reducers[action.type].call(_assertThisInitialized(_this7), draftState, payload, _this7._context);\n        }\n      });\n      console.log('nextState', action.type, nextState);\n      _this7._state = nextState;\n      return nextState;\n    };\n\n    return _this7;\n  }\n\n  _createClass(Service, [{\n    key: \"_run\",\n    value: function _run() {}\n  }, {\n    key: \"_stop\",\n    value: function _stop() {}\n  }]);\n\n  return Service;\n}(ReduxService); // singleton\n\n\nexport var createReduxService = function createReduxService(schema, context) {\n  if (!services[schema.name]) {\n    var service = new ReduxService(schema, context);\n\n    service._run();\n\n    services[schema.name] = service;\n  }\n\n  return services[schema.name];\n};\nexport var useGlobalService = function useGlobalService(schema) {\n  // definition and store should be immutable.\n  var store = useStore();\n  var appContext = useContext(AppContext);\n  var context = useMemo(function () {\n    return {};\n  }, []);\n  Object.assign(context, appContext, {\n    store: store\n  });\n  var service = useMemo(function () {\n    return createReduxService(schema, context); // eslint-disable-next-line\n  }, [store]);\n  return service;\n};\nexport var useReduxService = useGlobalService; // alias\n\nexport var useLocalService = function useLocalService(schema) {\n  var initialState = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  var reduxContext = useContext(ReactReduxContext) || {};\n  var appContext = useContext(AppContext);\n  var context = useMemo(function () {\n    return {};\n  }, []);\n  Object.assign(context, appContext, {\n    store: reduxContext.store\n  });\n  var service = useMemo(function () {\n    return new Service(schema, context);\n  }, [schema, context]);\n\n  var _useReducer = useReducer(service._reducer, initialState),\n      _useReducer2 = _slicedToArray(_useReducer, 2),\n      state = _useReducer2[0],\n      reactDispatch = _useReducer2[1];\n\n  var env = useRef(state);\n  env.current = state;\n  var channel = useMemo(function () {\n    return stdChannel();\n  }, []);\n  var emitter = useMemo(function () {\n    var emitter = new EventEmitter();\n    emitter.on(\"action\", channel.put);\n    return emitter;\n  }, [channel.put]);\n  var dispatch = useCallback(function (a) {\n    //setTimeout(channel.put, 0, a);\n    emitter.emit(\"action\", a);\n    reactDispatch(a);\n  }, [emitter]);\n  service._dispatch = dispatch;\n  var getState = useCallback(function () {\n    return env.current;\n  }, []);\n  useEffect(function () {\n    var tasks = [];\n    Object.keys(service._sagas).forEach(function (type) {\n      tasks.push(runSaga({\n        channel: channel,\n        dispatch: dispatch,\n        getState: getState\n      }, service._sagas[type]));\n    });\n    return function () {\n      var _iterator = _createForOfIteratorHelper(tasks),\n          _step;\n\n      try {\n        for (_iterator.s(); !(_step = _iterator.n()).done;) {\n          var task = _step.value;\n          task.cancel();\n        }\n      } catch (err) {\n        _iterator.e(err);\n      } finally {\n        _iterator.f();\n      }\n    };\n  }, [channel, service._sagas, dispatch, getState]);\n  return [state, service];\n};\nexport var genericService = {\n  name: \"generic\",\n  reducers: {\n    executeReducer: function executeReducer(state, _ref) {\n      var reducer = _ref.reducer,\n          key = _ref.key,\n          payload = _ref.payload,\n          context = _ref.context;\n\n      if (reducer) {\n        reducer(state, context);\n      } else {\n        set(state, key, payload);\n      }\n    }\n  },\n  sagas: {\n    executeSaga: every( /*#__PURE__*/_regeneratorRuntime.mark(function _callee4(_ref2, context) {\n      var saga;\n      return _regeneratorRuntime.wrap(function _callee4$(_context5) {\n        while (1) {\n          switch (_context5.prev = _context5.next) {\n            case 0:\n              saga = _ref2.saga;\n              _context5.next = 3;\n              return call(saga, context);\n\n            case 3:\n            case \"end\":\n              return _context5.stop();\n          }\n        }\n      }, _callee4);\n    }))\n  }\n};\nexport var useGenericReducer = function useGenericReducer(reducer, payload) {\n  var service = useReduxService(genericService);\n  payload = useShallowEqual(payload);\n  useEffect(function () {\n    if (typeof reducer === 'string') {\n      service.executeReducer({\n        key: reducer,\n        payload: payload\n      });\n    } else {\n      service.executeReducer({\n        reducer: reducer\n      });\n    }\n  }, [reducer, payload, service]);\n};\nexport var useGenericSaga = function useGenericSaga() {};\n//# sourceMappingURL=service.js.map","import { toRelativeUrl } from \"./utils/url\";\nexport var defaultSettings = {\n  contextPath: \"/\",\n  i18n: {\n    locales: [],\n    defaultLocale: null,\n    url: \"/locales\",\n    slug: '[lang]',\n    localeFromLocation: function localeFromLocation(location, settings) {\n      var contextPath = settings.contextPath,\n          i18n = settings.i18n;\n      var length = contextPath.endsWith(\"/\") ? contextPath.length : contextPath.length + 1;\n      var locale = location.pathname.substring(length).split(\"/\")[0];\n      if (i18n.locales.includes(locale)) return locale;\n      return null;\n    },\n    addLocaleToLocation: function addLocaleToLocation(locale, location, settings) {\n      var pathname = location.pathname;\n      var relativeUrl = toRelativeUrl(location);\n      var hasLocale = settings.i18n.locales.find(function (l) {\n        return pathname.startsWith(\"/\".concat(l));\n      });\n\n      if (!hasLocale) {\n        location.pathname = \"/\".concat(locale).concat(pathname);\n        if (location.pathname.endsWith('/')) location.pathname = location.pathname.slice(0, -1);\n      }\n\n      if (Object.keys(location).includes('route')) {\n        var route = location.route || relativeUrl;\n\n        if (!route.startsWith(\"/\".concat(settings.i18n.slug))) {\n          location.route = \"/\".concat(settings.i18n.slug).concat(route);\n          if (location.route.endsWith('/')) location.route = location.route.slice(0, -1);\n        }\n      }\n\n      return location;\n    },\n    changeLocale: function changeLocale(locale, _ref) {\n      var router = _ref.router,\n          settings = _ref.settings,\n          i18n = _ref.i18n;\n      var contextPath = settings.contextPath;\n      var length = contextPath.endsWith(\"/\") ? contextPath.length : contextPath.length + 1;\n      var currentLocale = i18n.locale;\n      var pathTokens = router.pathname.substring(length).split(\"/\");\n\n      if (pathTokens[0] === currentLocale) {\n        pathTokens[0] = locale;\n        router.push(Object.assign({}, router.location, {\n          pathname: \"\".concat(router.pathname.substring(0, length)).concat(pathTokens.join('/'))\n        }));\n      }\n    }\n  },\n  idp: {},\n  notification: {\n    \"default\": {\n      ttl: 5000,\n      max: 5\n    },\n    error: {\n      ttl: 0,\n      max: 0\n    },\n    \"login-error\": {\n      ttl: 0,\n      max: 1\n    },\n    \"logout-error\": {\n      ttl: 0,\n      max: 1\n    }\n  },\n  router: {\n    type: 'browser'\n  },\n  routes: {\n    login: '/login',\n    loginCallback: '/login/callback',\n    logout: '/logout',\n    logoutCallback: '/logout/callback',\n    home: '/'\n  }\n};\nexport var defaultIdpSettings = {\n  external: {\n    callback: null,\n    external: true,\n    oauth2: false,\n    oidc: false,\n    postLoginRedirectKey: 'redirect_uri',\n    postLogoutRedirectKey: 'redirect_uri'\n  },\n  form: {\n    callback: null,\n    external: false,\n    loginContentType: 'application/json',\n    loginMethod: 'POST',\n    logoutMethod: 'GET',\n    oauth2: false,\n    oidc: false,\n    passwordKey: 'password',\n    rememberMeKey: 'rememberMe',\n    usernameKey: 'username'\n  },\n  oauth2_browser: {\n    callback: null,\n    clientAuth: 'basic',\n    clockSkew: 60,\n    codeChallengeMethod: 'S256',\n    cookieTTL: null,\n    external: true,\n    oauth2: true,\n    oidc: false,\n    pkce: true,\n    nonce: false,\n    persist: 'localStorage',\n    postLoginRedirectKey: 'redirect_uri',\n    postLogoutRedirectKey: 'post_logout_redirect_uri',\n    pubKeyAlgorithm: 'RS256',\n    responseType: 'code',\n    scope: null,\n    state: true,\n    validate: true\n  },\n  oauth2_server: {\n    callback: null,\n    codeChallengeMethod: 'S256',\n    external: true,\n    oauth2: true,\n    oidc: false,\n    pkce: true,\n    nonce: false,\n    postLoginRedirectKey: 'redirect_uri',\n    postLogoutRedirectKey: 'post_logout_redirect_uri',\n    responseType: 'code',\n    scope: null,\n    state: true,\n    validate: false\n  },\n  oidc_browser: {\n    callback: null,\n    clientAuth: 'basic',\n    clockSkew: 60,\n    codeChallengeMethod: 'S256',\n    cookieTTL: null,\n    external: true,\n    oauth2: true,\n    oidc: true,\n    pkce: true,\n    nonce: true,\n    persist: 'localStorage',\n    postLoginRedirectKey: 'redirect_uri',\n    postLogoutRedirectKey: 'post_logout_redirect_uri',\n    pubKeyAlgorithm: 'RS256',\n    responseType: 'code',\n    scope: 'openid',\n    state: true,\n    validate: true\n  },\n  oidc_server: {\n    callback: null,\n    codeChallengeMethod: 'S256',\n    external: true,\n    oauth2: true,\n    oidc: true,\n    pkce: true,\n    nonce: false,\n    postLoginRedirectKey: 'redirect_uri',\n    postLogoutRedirectKey: 'post_logout_redirect_uri',\n    responseType: 'code',\n    scope: 'openid',\n    state: true,\n    validate: false\n  }\n};\n//# sourceMappingURL=settings.js.map","import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport { useCallback } from \"react\";\nimport { useSelector } from \"react-redux\";\nimport { useReduxService, useLocalService } from \"./service\";\nimport { set, get } from \"./utils/object\";\nvar globalService = {\n  name: \"state\",\n  reducers: {\n    setState: function setState(state, payload) {\n      set(state, payload.key, payload.value);\n    }\n  }\n};\n\nvar defaultSelector = function defaultSelector(state) {\n  return state;\n};\n\nexport var useGlobalState = function useGlobalState(selector, defaultValue) {\n  var state = useSelector(selector || defaultSelector);\n  state = state === undefined ? defaultValue : state;\n  var service = useReduxService(globalService);\n  var setState = useCallback(function (key, value) {\n    service.setState({\n      key: key,\n      value: value\n    });\n  }, [service]);\n  return [state, setState];\n};\nexport var useGlobalStateModifier = function useGlobalStateModifier() {\n  var service = useReduxService(globalService);\n  var setState = useCallback(function (key, value) {\n    service.setState({\n      key: key,\n      value: value\n    });\n  }, [service]);\n  return setState;\n};\nexport var useGlobalProp = function useGlobalProp(key, defaultValue) {\n  var value = useSelector(function (state) {\n    return get(state, key);\n  });\n  value = value === undefined ? defaultValue : value;\n  var service = useReduxService(globalService);\n  var setValue = useCallback(function (value) {\n    service.setState({\n      key: key,\n      value: value\n    });\n  }, [service, key]);\n  return [value, setValue];\n};\nvar localService = {\n  reducers: {\n    setState: function setState(state, payload) {\n      set(state, payload.key, payload.value);\n    }\n  }\n};\nexport var useLocalState = function useLocalState(initialState) {\n  var _useLocalService = useLocalService(localService, initialState),\n      _useLocalService2 = _slicedToArray(_useLocalService, 2),\n      state = _useLocalService2[0],\n      service = _useLocalService2[1];\n\n  var setState = useCallback(function (key, value) {\n    service.setState({\n      key: key,\n      value: value\n    });\n  }, [service]);\n  return [state, setState];\n};\n//# sourceMappingURL=state.js.map","import _toConsumableArray from \"@babel/runtime/helpers/toConsumableArray\";\nimport { createStore, applyMiddleware } from \"redux\";\nimport createSagaMiddleware from \"redux-saga\";\nimport produce from \"immer\";\nimport { get } from \"./utils/object\";\nimport { useSelector } from \"react-redux\";\nimport { useCallback } from \"react\";\nexport var createReduxStore = function createReduxStore() {\n  var initialState = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  var middlewares = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : [];\n  var sagaMiddleware = middlewares.find(function (middleware) {\n    return middleware.name === \"sagaMiddleware\";\n  });\n\n  if (!sagaMiddleware) {\n    sagaMiddleware = createSagaMiddleware();\n    middlewares.push(sagaMiddleware);\n  }\n\n  var store = createStore(function () {\n    return initialState;\n  }, applyMiddleware.apply(void 0, _toConsumableArray(middlewares)));\n\n  var buildReducer = function buildReducer(store) {\n    return function () {\n      var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : store.getState();\n      var action = arguments.length > 1 ? arguments[1] : undefined;\n      var reducers = store._reducers[action.type];\n\n      if (reducers) {\n        var nextState = produce(state, function (draftState) {\n          Object.keys(reducers).forEach(function (k) {\n            var payload = action.payload === undefined ? {} : action.payload;\n            reducers[k].func.call(reducers[k].bind, draftState, payload, reducers[k].context);\n          });\n        });\n        return nextState;\n      }\n\n      return state;\n    };\n  };\n\n  store._reducers = {};\n  store._sagas = {};\n\n  store.runSaga = function (namespace, saga) {\n    var name = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : \"root\";\n    store._sagas[\"\".concat(namespace, \".\").concat(name)] = sagaMiddleware.run(saga);\n  };\n\n  store.cancelSaga = function (namespace) {\n    var name = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : \"root\";\n\n    var task = store._sagas[\"\".concat(namespace, \".\").concat(name)];\n\n    if (task) {\n      task.cancel();\n    }\n  };\n\n  store.injectReducers = function (bind, namespace, reducers, context) {\n    Object.keys(reducers).forEach(function (actionType) {\n      store._reducers[actionType] = store._reducers[actionType] || {};\n      store._reducers[actionType][\"\".concat(namespace, \".\").concat(actionType)] = {\n        func: reducers[actionType],\n        bind: bind,\n        context: context\n      };\n    });\n    store.replaceReducer(buildReducer(store));\n  };\n\n  store.removeReducers = function (namespace) {\n    var reducers = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    Object.keys(reducers).forEach(function (actionType) {\n      store._reducers[actionType] = store._reducers[actionType] || {};\n      delete store._reducers[actionType][\"\".concat(namespace, \".\").concat(actionType)];\n    });\n    store.replaceReducer(buildReducer(store));\n  };\n\n  return store;\n};\nexport var useReduxSelector = function useReduxSelector(selector, defaultValue) {\n  var selectorFunction = useCallback(function () {\n    return typeof selector === \"string\" ? function (state) {\n      return get(state, selector);\n    } : selector;\n  }, [selector]);\n  var value = useSelector(selectorFunction());\n  return value === undefined ? defaultValue : value;\n};\n//# sourceMappingURL=store.js.map","import React from 'react';\nimport { simpleMergeDeep } from \"./object\";\nimport { defaultSettings } from \"../settings\";\nexport var formatSettings = function formatSettings(settings) {\n  var result = settings;\n\n  if (Array.isArray(settings)) {\n    result = Object.assign({}, settings[0]);\n\n    for (var i = 1; i < settings.length; i++) {\n      result = simpleMergeDeep(result, settings[i]);\n    }\n  }\n\n  return simpleMergeDeep(defaultSettings, result);\n};\nexport var DefaultLoadingComponent = function DefaultLoadingComponent() {\n  return /*#__PURE__*/React.createElement(\"div\", null, \"LOADING ...\");\n};\n//# sourceMappingURL=app.js.map","import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/asyncToGenerator\";\nimport { asyncGet } from \"../xhr\";\nimport { sha256, verify } from \"./crypt\";\nimport { generateRandomString, hex2b64 } from \"./string\";\nimport { get } from \"./object\";\nimport { defaultIdpSettings } from \"../settings\";\nexport var oauth2Keys = [\"access_token\", \"id_token\", \"refresh_token\", \"expires_in\", \"expires_at\", \"token_type\"];\nexport function generateCodeChallenge(_x) {\n  return _generateCodeChallenge.apply(this, arguments);\n}\n\nfunction _generateCodeChallenge() {\n  _generateCodeChallenge = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(codeVerifier) {\n    return _regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            _context.t0 = hex2b64;\n            _context.next = 3;\n            return sha256(codeVerifier);\n\n          case 3:\n            _context.t1 = _context.sent;\n            return _context.abrupt(\"return\", (0, _context.t0)(_context.t1).replace(/=/g, \"\").replace(/\\+/g, \"-\").replace(/\\//g, \"_\"));\n\n          case 5:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee);\n  }));\n  return _generateCodeChallenge.apply(this, arguments);\n}\n\nexport function generateCodeVerifier() {\n  var characters = \"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~\";\n  var length = Math.floor(Math.random() * (128 - 43 + 1)) + 43;\n  return generateRandomString(length, characters);\n}\nexport function generateNonce() {\n  var length = Math.floor(Math.random() * (32 - 16 + 1)) + 16;\n  return generateRandomString(length);\n}\nexport function generateState() {\n  var length = Math.floor(Math.random() * (32 - 16 + 1)) + 16;\n  return generateRandomString(length);\n}\nexport function getIdp(settings, name) {\n  var idps = settings.idp;\n  name = name || \"default\";\n  var idp = idps[name];\n\n  if (!idp) {\n    return null;\n  }\n\n  return Object.assign({\n    name: name\n  }, defaultIdpSettings[idp.type], idp);\n}\nexport function getIdpName(state) {\n  return get(state, \"auth.idpName\") || sessionStorage.getItem(\"onekijs.idpName\") || localStorage.getItem(\"onekijs.idpName\");\n}\nexport function parseJwt(token) {\n  var section = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : \"payload\";\n  var index = section === \"header\" ? 0 : 1;\n  var base64Url = token.split(\".\")[index];\n  var base64 = base64Url.replace(/-/g, \"+\").replace(/_/g, \"/\");\n  var jsonPayload = decodeURIComponent(atob(base64).split(\"\").map(function (c) {\n    return \"%\" + (\"00\" + c.charCodeAt(0).toString(16)).slice(-2);\n  }).join(\"\"));\n  return JSON.parse(jsonPayload);\n}\nexport function validateToken(_x2, _x3, _x4, _x5) {\n  return _validateToken.apply(this, arguments);\n}\n\nfunction _validateToken() {\n  _validateToken = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2(token, jwksEndpoint, idp, context) {\n    var pubKey, header, jwks, result;\n    return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n      while (1) {\n        switch (_context2.prev = _context2.next) {\n          case 0:\n            pubKey = null;\n            header = parseJwt(token, \"header\");\n\n            if (!(typeof jwksEndpoint === \"function\")) {\n              _context2.next = 8;\n              break;\n            }\n\n            _context2.next = 5;\n            return jwksEndpoint(token, idp, context);\n\n          case 5:\n            pubKey = _context2.sent;\n            _context2.next = 12;\n            break;\n\n          case 8:\n            _context2.next = 10;\n            return asyncGet(jwksEndpoint);\n\n          case 10:\n            jwks = _context2.sent;\n            pubKey = jwks.keys.find(function (key) {\n              return key.kid === header.kid;\n            });\n\n          case 12:\n            if (pubKey) {\n              _context2.next = 14;\n              break;\n            }\n\n            throw Error(\"Could not find a valid public key for token validation\");\n\n          case 14:\n            _context2.next = 16;\n            return verify(token, pubKey, header.alg || idp.jwksAlgorithm);\n\n          case 16:\n            result = _context2.sent;\n            return _context2.abrupt(\"return\", result);\n\n          case 18:\n          case \"end\":\n            return _context2.stop();\n        }\n      }\n    }, _callee2);\n  }));\n  return _validateToken.apply(this, arguments);\n}\n//# sourceMappingURL=auth.js.map","export function isMobile() {\n  return navigator.userAgent.match(/Android/i) || navigator.userAgent.match(/webOS/i) || navigator.userAgent.match(/iPhone/i) || navigator.userAgent.match(/iPad/i) || navigator.userAgent.match(/iPod/i) || navigator.userAgent.match(/BlackBerry/i) || navigator.userAgent.match(/Windows Phone/i);\n}\nexport function isBrowser() {\n  return typeof window !== 'undefined';\n}\n//# sourceMappingURL=browser.js.map","import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/asyncToGenerator\";\nimport { base64url } from \"rfc4648\";\nimport { isNull } from \"./object\";\nimport { generateRandomString } from \"./string\";\nimport { TextEncoder, TextDecoder } from 'text-encoding-shim'; // https://medium.com/@fsjohnny/fun-times-with-webcrypto-part-2-encrypting-decrypting-dfb9fadba5bc\n\nvar hash = \"SHA-256\";\nvar salt = \"salt@onekijs\";\nvar iterations = 1000;\nvar keyLength = 48;\nvar password = null;\n\nfunction getDerivation(_x, _x2, _x3, _x4, _x5) {\n  return _getDerivation.apply(this, arguments);\n}\n\nfunction _getDerivation() {\n  _getDerivation = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(hash, salt, password, iterations, keyLength) {\n    var textEncoder, passwordBuffer, importedKey, saltBuffer, params, derivation;\n    return _regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            textEncoder = new TextEncoder(\"utf-8\");\n            passwordBuffer = textEncoder.encode(password);\n            _context.next = 4;\n            return crypto.subtle.importKey(\"raw\", passwordBuffer, \"PBKDF2\", false, [\"deriveBits\"]);\n\n          case 4:\n            importedKey = _context.sent;\n            saltBuffer = textEncoder.encode(salt);\n            params = {\n              name: \"PBKDF2\",\n              hash: hash,\n              salt: saltBuffer,\n              iterations: iterations\n            };\n            _context.next = 9;\n            return crypto.subtle.deriveBits(params, importedKey, keyLength * 8);\n\n          case 9:\n            derivation = _context.sent;\n            return _context.abrupt(\"return\", derivation);\n\n          case 11:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee);\n  }));\n  return _getDerivation.apply(this, arguments);\n}\n\nfunction getKey(_x6) {\n  return _getKey.apply(this, arguments);\n}\n\nfunction _getKey() {\n  _getKey = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2(derivation) {\n    var keylen, derivedKey, iv, importedEncryptionKey;\n    return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n      while (1) {\n        switch (_context2.prev = _context2.next) {\n          case 0:\n            keylen = 32;\n            derivedKey = derivation.slice(0, keylen);\n            iv = derivation.slice(keylen);\n            _context2.next = 5;\n            return crypto.subtle.importKey(\"raw\", derivedKey, {\n              name: \"AES-CBC\"\n            }, false, [\"encrypt\", \"decrypt\"]);\n\n          case 5:\n            importedEncryptionKey = _context2.sent;\n            return _context2.abrupt(\"return\", {\n              key: importedEncryptionKey,\n              iv: iv\n            });\n\n          case 7:\n          case \"end\":\n            return _context2.stop();\n        }\n      }\n    }, _callee2);\n  }));\n  return _getKey.apply(this, arguments);\n}\n\nfunction encryptText(_x7, _x8) {\n  return _encryptText.apply(this, arguments);\n}\n\nfunction _encryptText() {\n  _encryptText = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee3(text, keyObject) {\n    var textEncoder, textBuffer, encryptedText;\n    return _regeneratorRuntime.wrap(function _callee3$(_context3) {\n      while (1) {\n        switch (_context3.prev = _context3.next) {\n          case 0:\n            textEncoder = new TextEncoder(\"utf-8\");\n            textBuffer = textEncoder.encode(text);\n            _context3.next = 4;\n            return crypto.subtle.encrypt({\n              name: \"AES-CBC\",\n              iv: keyObject.iv\n            }, keyObject.key, textBuffer);\n\n          case 4:\n            encryptedText = _context3.sent;\n            return _context3.abrupt(\"return\", encryptedText);\n\n          case 6:\n          case \"end\":\n            return _context3.stop();\n        }\n      }\n    }, _callee3);\n  }));\n  return _encryptText.apply(this, arguments);\n}\n\nfunction decryptText(_x9, _x10) {\n  return _decryptText.apply(this, arguments);\n}\n\nfunction _decryptText() {\n  _decryptText = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee4(encryptedText, keyObject) {\n    var textDecoder, decryptedText;\n    return _regeneratorRuntime.wrap(function _callee4$(_context4) {\n      while (1) {\n        switch (_context4.prev = _context4.next) {\n          case 0:\n            textDecoder = new TextDecoder(\"utf-8\");\n            _context4.next = 3;\n            return crypto.subtle.decrypt({\n              name: \"AES-CBC\",\n              iv: keyObject.iv\n            }, keyObject.key, encryptedText);\n\n          case 3:\n            decryptedText = _context4.sent;\n            return _context4.abrupt(\"return\", textDecoder.decode(decryptedText));\n\n          case 5:\n          case \"end\":\n            return _context4.stop();\n        }\n      }\n    }, _callee4);\n  }));\n  return _decryptText.apply(this, arguments);\n}\n\nexport function encrypt(_x11, _x12) {\n  return _encrypt.apply(this, arguments);\n}\n\nfunction _encrypt() {\n  _encrypt = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee5(text, pwd) {\n    var derivation, keyObject, encryptedObject, encryptedByteArray, encryptedString;\n    return _regeneratorRuntime.wrap(function _callee5$(_context5) {\n      while (1) {\n        switch (_context5.prev = _context5.next) {\n          case 0:\n            if (!isNull(text)) {\n              _context5.next = 2;\n              break;\n            }\n\n            return _context5.abrupt(\"return\", null);\n\n          case 2:\n            if (!pwd) {\n              pwd = password || localStorage.getItem(\"onekijs.crypter\");\n            }\n\n            if (!pwd) {\n              password = generateRandomString(32);\n              localStorage.setItem(\"onekijs.crypter\", password);\n              pwd = password;\n            }\n\n            _context5.next = 6;\n            return getDerivation(hash, salt, pwd, iterations, keyLength);\n\n          case 6:\n            derivation = _context5.sent;\n            _context5.next = 9;\n            return getKey(derivation);\n\n          case 9:\n            keyObject = _context5.sent;\n            _context5.next = 12;\n            return encryptText(JSON.stringify(text), keyObject);\n\n          case 12:\n            encryptedObject = _context5.sent;\n            encryptedByteArray = Array.from(new Uint8Array(encryptedObject));\n            encryptedString = encryptedByteArray.map(function (_byte) {\n              return String.fromCharCode(_byte);\n            }).join(\"\");\n            return _context5.abrupt(\"return\", btoa(encryptedString));\n\n          case 16:\n          case \"end\":\n            return _context5.stop();\n        }\n      }\n    }, _callee5);\n  }));\n  return _encrypt.apply(this, arguments);\n}\n\nexport function decrypt(_x13, _x14) {\n  return _decrypt.apply(this, arguments);\n} // https://developer.mozilla.org/en-US/docs/Web/API/SubtleCrypto/digest\n\nfunction _decrypt() {\n  _decrypt = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee6(encryptedB64, pwd) {\n    var encryptedString, encryptedByteArray, derivation, keyObject, decryptedText;\n    return _regeneratorRuntime.wrap(function _callee6$(_context6) {\n      while (1) {\n        switch (_context6.prev = _context6.next) {\n          case 0:\n            if (!isNull(encryptedB64)) {\n              _context6.next = 2;\n              break;\n            }\n\n            return _context6.abrupt(\"return\", null);\n\n          case 2:\n            if (!pwd) {\n              pwd = password || localStorage.getItem(\"onekijs.crypter\");\n            }\n\n            encryptedString = atob(encryptedB64);\n            encryptedByteArray = new Uint8Array(encryptedString.match(/[\\s\\S]/g).map(function (ch) {\n              return ch.charCodeAt(0);\n            }));\n            _context6.next = 7;\n            return getDerivation(hash, salt, pwd, iterations, keyLength);\n\n          case 7:\n            derivation = _context6.sent;\n            _context6.next = 10;\n            return getKey(derivation);\n\n          case 10:\n            keyObject = _context6.sent;\n            _context6.next = 13;\n            return decryptText(encryptedByteArray, keyObject);\n\n          case 13:\n            decryptedText = _context6.sent;\n            return _context6.abrupt(\"return\", JSON.parse(decryptedText));\n\n          case 15:\n          case \"end\":\n            return _context6.stop();\n        }\n      }\n    }, _callee6);\n  }));\n  return _decrypt.apply(this, arguments);\n}\n\nexport function sha256(_x15) {\n  return _sha.apply(this, arguments);\n}\n\nfunction _sha() {\n  _sha = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee7(message) {\n    var msgUint8, hashBuffer, hashArray, hashHex;\n    return _regeneratorRuntime.wrap(function _callee7$(_context7) {\n      while (1) {\n        switch (_context7.prev = _context7.next) {\n          case 0:\n            msgUint8 = new TextEncoder().encode(message); // encode as (utf-8) Uint8Array\n\n            _context7.next = 3;\n            return window.crypto.subtle.digest(\"SHA-256\", msgUint8);\n\n          case 3:\n            hashBuffer = _context7.sent;\n            // hash the message\n            hashArray = Array.from(new Uint8Array(hashBuffer)); // convert buffer to byte array\n\n            hashHex = hashArray.map(function (b) {\n              return b.toString(16).padStart(2, \"0\");\n            }).join(\"\"); // convert bytes to hex string\n\n            return _context7.abrupt(\"return\", hashHex);\n\n          case 7:\n          case \"end\":\n            return _context7.stop();\n        }\n      }\n    }, _callee7);\n  }));\n  return _sha.apply(this, arguments);\n}\n\nexport function verify(_x16, _x17, _x18) {\n  return _verify.apply(this, arguments);\n}\n\nfunction _verify() {\n  _verify = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee8(token, jwKey, alg) {\n    var jwsSigningInput, jwsSignature, key;\n    return _regeneratorRuntime.wrap(function _callee8$(_context8) {\n      while (1) {\n        switch (_context8.prev = _context8.next) {\n          case 0:\n            _context8.prev = 0;\n            _context8.t0 = alg;\n            _context8.next = _context8.t0 === \"HS256\" ? 4 : _context8.t0 === \"HS384\" ? 6 : _context8.t0 === \"HS512\" ? 8 : _context8.t0 === \"RS384\" ? 10 : _context8.t0 === \"RS512\" ? 12 : _context8.t0 === \"PS256\" ? 14 : _context8.t0 === \"PS384\" ? 16 : _context8.t0 === \"PS512\" ? 18 : _context8.t0 === \"ES256\" ? 20 : _context8.t0 === \"ES384\" ? 22 : _context8.t0 === \"ES512\" ? 24 : _context8.t0 === \"A256CMAC\" ? 26 : _context8.t0 === \"A384CMAC\" ? 28 : _context8.t0 === \"A512CMAC\" ? 30 : 32;\n            break;\n\n          case 4:\n            alg = {\n              name: \"HMAC\",\n              hash: {\n                name: \"SHA-256\"\n              }\n            };\n            return _context8.abrupt(\"break\", 34);\n\n          case 6:\n            alg = {\n              name: \"HMAC\",\n              hash: {\n                name: \"SHA-384\"\n              }\n            };\n            return _context8.abrupt(\"break\", 34);\n\n          case 8:\n            alg = {\n              name: \"HMAC\",\n              hash: {\n                name: \"SHA-384\"\n              }\n            };\n            return _context8.abrupt(\"break\", 34);\n\n          case 10:\n            alg = {\n              name: \"RSASSA-PKCS1-v1_5\",\n              hash: {\n                name: \"SHA-384\"\n              }\n            };\n            return _context8.abrupt(\"break\", 34);\n\n          case 12:\n            alg = {\n              name: \"RSASSA-PKCS1-v1_5\",\n              hash: {\n                name: \"SHA-512\"\n              }\n            };\n            return _context8.abrupt(\"break\", 34);\n\n          case 14:\n            alg = {\n              name: \"RSA-PSS\",\n              hash: {\n                name: \"SHA-256\"\n              }\n            };\n            return _context8.abrupt(\"break\", 34);\n\n          case 16:\n            alg = {\n              name: \"RSA-PSS\",\n              hash: {\n                name: \"SHA-384\"\n              }\n            };\n            return _context8.abrupt(\"break\", 34);\n\n          case 18:\n            alg = {\n              name: \"RSA-PSS\",\n              hash: {\n                name: \"SHA-512\"\n              }\n            };\n            return _context8.abrupt(\"break\", 34);\n\n          case 20:\n            alg = {\n              name: \"ECDSA\",\n              hash: {\n                name: \"SHA-256\"\n              },\n              namedCurve: \"P-256\"\n            };\n            return _context8.abrupt(\"break\", 34);\n\n          case 22:\n            alg = {\n              name: \"ECDSA\",\n              hash: {\n                name: \"SHA-384\"\n              },\n              namedCurve: \"P-384\"\n            };\n            return _context8.abrupt(\"break\", 34);\n\n          case 24:\n            alg = {\n              name: \"ECDSA\",\n              hash: {\n                name: \"SHA-512\"\n              },\n              namedCurve: \"P-512\"\n            };\n            return _context8.abrupt(\"break\", 34);\n\n          case 26:\n            alg = {\n              name: \"AES-CMAC\",\n              length: 256\n            };\n            return _context8.abrupt(\"break\", 34);\n\n          case 28:\n            alg = {\n              name: \"AES-CMAC\",\n              length: 384\n            };\n            return _context8.abrupt(\"break\", 34);\n\n          case 30:\n            alg = {\n              name: \"AES-CMAC\",\n              length: 512\n            };\n            return _context8.abrupt(\"break\", 34);\n\n          case 32:\n            alg = {\n              name: \"RSASSA-PKCS1-v1_5\",\n              hash: {\n                name: \"SHA-256\"\n              }\n            };\n            return _context8.abrupt(\"break\", 34);\n\n          case 34:\n            jwsSigningInput = token.split(\".\").slice(0, 2).join(\".\");\n            jwsSignature = token.split(\".\")[2];\n            _context8.next = 38;\n            return window.crypto.subtle.importKey(\"jwk\", jwKey, alg, false, [\"verify\"]);\n\n          case 38:\n            key = _context8.sent;\n            _context8.next = 41;\n            return window.crypto.subtle.verify(alg, key, base64url.parse(jwsSignature, {\n              loose: true\n            }), new TextEncoder().encode(jwsSigningInput));\n\n          case 41:\n            return _context8.abrupt(\"return\", _context8.sent);\n\n          case 44:\n            _context8.prev = 44;\n            _context8.t1 = _context8[\"catch\"](0);\n            throw _context8.t1;\n\n          case 47:\n          case \"end\":\n            return _context8.stop();\n        }\n      }\n    }, _callee8, null, [[0, 44]]);\n  }));\n  return _verify.apply(this, arguments);\n}\n//# sourceMappingURL=crypt.js.map","import _objectWithoutProperties from \"@babel/runtime/helpers/objectWithoutProperties\";\nimport { regex, required } from \"../validation\";\nimport { isFalse } from \"./type\"; // extract validators from props\n\nexport var extractValidators = function extractValidators(props) {\n  var validators = [];\n\n  var requiredValidator = props.required,\n      requiredMessage = props.requiredMessage,\n      regexValidator = props.regex,\n      regexMessage = props.regexMessage,\n      extraValidators = props.validators,\n      extraProps = _objectWithoutProperties(props, [\"required\", \"requiredMessage\", \"regex\", \"regexMessage\", \"validators\"]);\n\n  if (requiredValidator && !isFalse(requiredValidator)) {\n    validators.push(required(requiredMessage));\n  }\n\n  if (regexValidator) {\n    validators.push(regex(regexValidator, regexMessage));\n  }\n\n  if (extraValidators) {\n    validators = validators.concat(extraValidators);\n  }\n\n  return [validators, extraProps];\n};\n//# sourceMappingURL=form.js.map","import { get } from \"./object\";\nimport { isBrowser } from \"./browser\";\nimport { toLocation } from \"./url\";\nexport function detectLocale(location, reduxLocale, settings, initialLocale) {\n  var locale = initialLocale;\n\n  if (!locale && location) {\n    locale = settings.i18n.localeFromLocation(location, settings);\n  }\n\n  if (!locale) {\n    locale = reduxLocale;\n  }\n\n  if (!locale && isBrowser()) {\n    locale = localStorage.getItem('onekijs.locale');\n\n    if (!locale) {\n      var languages = navigator.languages;\n\n      if (languages && languages.length > 0) {\n        locale = languages.find(function (language) {\n          return settings.i18n.locales.includes(language.slice(0, 2));\n        });\n        if (locale) return locale.slice(0, 2);\n      } else if (navigator.language) locale = navigator.language.slice(0, 2);else if (navigator.userLanguage) locale = navigator.userLanguage.slice(0, 2);\n    }\n  }\n\n  if (locale && settings.i18n.locales.includes(locale)) {\n    return locale;\n  }\n\n  return get(settings, 'i18n.defaultLocale');\n}\nexport var toI18nLocation = function toI18nLocation(urlOrLocation, _ref, route) {\n  var i18n = _ref.i18n,\n      settings = _ref.settings;\n  var location = urlOrLocation;\n\n  if (typeof urlOrLocation === \"string\") {\n    location = toLocation(urlOrLocation);\n    location.route = route;\n  }\n\n  if (settings && i18n.locale) {\n    location = settings.i18n.addLocaleToLocation(i18n.locale, location, settings);\n  }\n\n  return location;\n};\n//# sourceMappingURL=i18n.js.map","import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nimport _typeof from \"@babel/runtime/helpers/typeof\";\n\nfunction _createForOfIteratorHelper(o, allowArrayLike) { var it; if (typeof Symbol === \"undefined\" || o[Symbol.iterator] == null) { if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") { if (it) o = it; var i = 0; var F = function F() {}; return { s: F, n: function n() { if (i >= o.length) return { done: true }; return { done: false, value: o[i++] }; }, e: function e(_e) { throw _e; }, f: F }; } throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); } var normalCompletion = true, didErr = false, err; return { s: function s() { it = o[Symbol.iterator](); }, n: function n() { var step = it.next(); normalCompletion = step.done; return step; }, e: function e(_e2) { didErr = true; err = _e2; }, f: function f() { try { if (!normalCompletion && it[\"return\"] != null) it[\"return\"](); } finally { if (didErr) throw err; } } }; }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nimport { useRef } from \"react\";\nexport function isNull(value) {\n  return value === undefined || value === null;\n}\nexport function isNullOrEmpty(value) {\n  return value === undefined || value === null || value === \"\";\n}\nexport function or(value, defaultValue) {\n  return isNull(value) ? defaultValue : value;\n} // https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/freeze\n\nexport function deepFreeze(object) {\n  // Retrieve the property names defined on object\n  var propNames = Object.getOwnPropertyNames(object); // Freeze properties before freezing self\n\n  var _iterator = _createForOfIteratorHelper(propNames),\n      _step;\n\n  try {\n    for (_iterator.s(); !(_step = _iterator.n()).done;) {\n      var name = _step.value;\n      var value = object[name];\n      object[name] = value && _typeof(value) === \"object\" ? deepFreeze(value) : value;\n    }\n  } catch (err) {\n    _iterator.e(err);\n  } finally {\n    _iterator.f();\n  }\n\n  return Object.freeze(object);\n} // https://gist.github.com/Salakar/1d7137de9cb8b704e48a\n\nexport function isObject(item) {\n  return item && _typeof(item) === \"object\" && !Array.isArray(item) && item !== null;\n} // https://gist.github.com/Salakar/1d7137de9cb8b704e48a\n\nexport function simpleMergeDeep(target, source) {\n  if (isObject(target) && isObject(source)) {\n    Object.keys(source).forEach(function (key) {\n      if (isObject(source[key])) {\n        if (!target[key] || !isObject(target[key])) {\n          target[key] = source[key];\n        }\n\n        simpleMergeDeep(target[key], source[key]);\n      } else {\n        Object.assign(target, _defineProperty({}, key, source[key]));\n      }\n    });\n  }\n\n  return target;\n}\nexport function del(content, property) {\n  var _find = find(content, property),\n      _find2 = _slicedToArray(_find, 2),\n      subContent = _find2[0],\n      index = _find2[1];\n\n  if (!isNull(subContent)) {\n    if (Array.isArray(subContent)) {\n      subContent.splice(index, 1);\n    } else {\n      delete subContent[index];\n    }\n  }\n\n  return content;\n}\nexport function find(content, property) {\n  var populate = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n\n  if (typeof property !== \"string\") {\n    property = \"\".concat(property);\n  }\n\n  if (isNull(content)) {\n    return [undefined, undefined];\n  }\n\n  if (property === \"\") {\n    return [content, undefined];\n  }\n\n  var parts = property.split(\".\");\n\n  for (var i = 0; i < parts.length - 1; i++) {\n    var part = parts[i];\n\n    var _index = !isNaN(part) ? parseInt(part) : part;\n\n    try {\n      if (!(_index in content)) {\n        if (populate) {\n          if (!isNaN(parts[i + 1])) {\n            content[_index] = [];\n          } else {\n            content[_index] = {};\n          }\n        } else {\n          return [undefined, undefined];\n        }\n      }\n    } catch (e) {\n      return [undefined, undefined];\n    }\n\n    content = content[_index];\n\n    if (isNull(content)) {\n      return [undefined, undefined];\n    }\n  }\n\n  var index = !isNaN(parts[parts.length - 1]) ? parseInt(parts[parts.length - 1]) : parts[parts.length - 1];\n  return [content, index];\n}\nexport function get(content, property, defaultValue) {\n  if (isNull(property) || property === \"\") {\n    return content;\n  }\n\n  var _find3 = find(content, property),\n      _find4 = _slicedToArray(_find3, 2),\n      subContent = _find4[0],\n      index = _find4[1];\n\n  try {\n    if (isNull(subContent) || !(index in subContent)) {\n      return defaultValue;\n    }\n\n    return subContent[index];\n  } catch (e) {\n    return defaultValue;\n  }\n}\nexport function append(content, property, value) {\n  return update(content, property, function (arr) {\n    if (isNull(arr)) {\n      return [value];\n    }\n\n    if (!arr.includes(value)) {\n      arr.push(value);\n    }\n\n    return arr;\n  });\n}\nexport function set(content, property, value) {\n  if (property === \"\") {\n    return value;\n  }\n\n  var _find5 = find(content, property, true),\n      _find6 = _slicedToArray(_find5, 2),\n      subContent = _find6[0],\n      index = _find6[1];\n\n  subContent[index] = value;\n  return content;\n}\nexport function update(content, property, fn) {\n  var _find7 = find(content, property, true),\n      _find8 = _slicedToArray(_find7, 2),\n      subContent = _find8[0],\n      index = _find8[1];\n\n  var value = fn(subContent[index]);\n  subContent[index] = value;\n  return content;\n}\n/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * inlined Object.is polyfill to avoid requiring consumers ship their own\n * https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/is\n */\n\nfunction is(x, y) {\n  // SameValue algorithm\n  if (x === y) {\n    // Steps 1-5, 7-10\n    // Steps 6.b-6.e: +0 != -0\n    // Added the nonzero y check to make Flow happy, but it is redundant\n    return x !== 0 || y !== 0 || 1 / x === 1 / y;\n  } else {\n    // Step 6.a: NaN == NaN\n    // eslint-disable-next-line no-self-compare\n    return x !== x && y !== y;\n  }\n}\n/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * Performs equality by iterating through keys on an object and returning false\n * when any key has values which are not strictly equal between the arguments.\n * Returns true when the values of all keys are strictly equal.\n */\n\n\nexport function shallowEqual(objA, objB) {\n  if (is(objA, objB)) {\n    return true;\n  }\n\n  if (_typeof(objA) !== \"object\" || objA === null || _typeof(objB) !== \"object\" || objB === null) {\n    return false;\n  }\n\n  var keysA = Object.keys(objA);\n  var keysB = Object.keys(objB);\n\n  if (keysA.length !== keysB.length) {\n    return false;\n  } // Test for A's keys different from B.\n\n\n  for (var i = 0; i < keysA.length; i++) {\n    if (!Object.prototype.hasOwnProperty.call(objB, keysA[i]) || !is(objA[keysA[i]], objB[keysA[i]])) {\n      return false;\n    }\n  }\n\n  return true;\n}\nexport var useShallowEqual = function useShallowEqual(obj) {\n  var ref = useRef(obj);\n\n  if (shallowEqual(ref.current, obj)) {\n    obj = ref.current;\n  } else {\n    ref.current = obj;\n  }\n\n  return obj;\n};\n//# sourceMappingURL=object.js.map","import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/asyncToGenerator\";\nimport { isNull } from \"./object\";\nimport { decrypt, encrypt } from \"./crypt\";\n/**\n * Add a browser cookie (created on the browser side)\n * \n * @param {string} name : name of the cookie\n * @param {string} value : value of the cookie\n * @param {boolean} secure : encrypt the cookie (not usable by the server)\n * @param {integer} ttl : time to live of the cookie (in seconds)\n * @param {string} path : scope of the cookie\n */\n\nfunction addCookie(_x, _x2) {\n  return _addCookie.apply(this, arguments);\n}\n/**\n * Get a cookie by name. Decrypt it if necessary\n * check https://stackoverflow.com/questions/10730362/get-cookie-by-name\n * \n * @param {string} name : name of the cookie\n * @param {boolean} secure : decrypt the cookie\n */\n\n\nfunction _addCookie() {\n  _addCookie = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(name, value) {\n    var secure,\n        ttl,\n        path,\n        cookie,\n        _args = arguments;\n    return _regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            secure = _args.length > 2 && _args[2] !== undefined ? _args[2] : true;\n            ttl = _args.length > 3 && _args[3] !== undefined ? _args[3] : null;\n            path = _args.length > 4 && _args[4] !== undefined ? _args[4] : \"/\";\n\n            if (!secure) {\n              _context.next = 7;\n              break;\n            }\n\n            _context.next = 6;\n            return encrypt(value);\n\n          case 6:\n            value = _context.sent;\n\n          case 7:\n            cookie = \"onekijs.\".concat(name, \"=\").concat(value, \";path=\").concat(path, \";SameSite=Strict;Secure;\");\n\n            if (ttl) {\n              cookie += \"expires=\".concat(getCookieExpireTime(ttl), \";\");\n            }\n\n            document.cookie = cookie;\n\n          case 10:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee);\n  }));\n  return _addCookie.apply(this, arguments);\n}\n\nfunction getCookie(_x3) {\n  return _getCookie.apply(this, arguments);\n}\n/**\n * convert a TTL (time to live) to an expire date\n * \n * @param {int} ttl : time to live in seconds\n */\n\n\nfunction _getCookie() {\n  _getCookie = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2(name) {\n    var secure,\n        escape,\n        match,\n        result,\n        _args2 = arguments;\n    return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n      while (1) {\n        switch (_context2.prev = _context2.next) {\n          case 0:\n            escape = function _escape(s) {\n              // eslint-disable-next-line\n              return s.replace(/([.*+?\\^${}()|\\[\\]\\/\\\\])/g, \"\\\\$1\");\n            };\n\n            secure = _args2.length > 1 && _args2[1] !== undefined ? _args2[1] : true;\n            name = \"onekijs.\".concat(name);\n            match = document.cookie.match(RegExp(\"(?:^|;\\\\s*)\" + escape(name) + \"=([^;]*)\"));\n            result = match ? match[1] : null;\n\n            if (!secure) {\n              _context2.next = 11;\n              break;\n            }\n\n            _context2.next = 8;\n            return decrypt(result);\n\n          case 8:\n            _context2.t0 = _context2.sent;\n            _context2.next = 12;\n            break;\n\n          case 11:\n            _context2.t0 = result;\n\n          case 12:\n            return _context2.abrupt(\"return\", _context2.t0);\n\n          case 13:\n          case \"end\":\n            return _context2.stop();\n        }\n      }\n    }, _callee2);\n  }));\n  return _getCookie.apply(this, arguments);\n}\n\nvar getCookieExpireTime = function getCookieExpireTime(ttl) {\n  var date = new Date();\n  var time = date.getTime();\n  var expireTime = time + 1000 * parseInt(ttl);\n  date.setTime(expireTime);\n  return date.toGMTString();\n};\n/**\n * get a value of a key from the specified storage\n * if the storage is set to any, try all storage\n * \n * @param {string} key : name of the key to get the value from\n * @param {string} storage : localStorage, sessionStorage, cookie, any (defaults to any)\n * @param {boolean} secure : decrypt the cookie (defaults to true)\n */\n\n\nexport function getItem(_x4) {\n  return _getItem.apply(this, arguments);\n}\n/**\n * Listen to a change in the localstorage\n * \n * @param {string} key : key of the local storage entry\n * @param {function} listener : a function receiving the old value an the new value\n */\n\nfunction _getItem() {\n  _getItem = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee3(key) {\n    var storage,\n        secure,\n        _args3 = arguments;\n    return _regeneratorRuntime.wrap(function _callee3$(_context3) {\n      while (1) {\n        switch (_context3.prev = _context3.next) {\n          case 0:\n            storage = _args3.length > 1 && _args3[1] !== undefined ? _args3[1] : 'any';\n            secure = _args3.length > 2 && _args3[2] !== undefined ? _args3[2] : true;\n            if (!storage) storage = 'any';\n\n            if (!['localStorage', 'any'].includes(storage)) {\n              _context3.next = 5;\n              break;\n            }\n\n            return _context3.abrupt(\"return\", localStorage.getItem(key));\n\n          case 5:\n            if (!['sessionStorage', 'any'].includes(storage)) {\n              _context3.next = 7;\n              break;\n            }\n\n            return _context3.abrupt(\"return\", sessionStorage.getItem(key));\n\n          case 7:\n            if (!['cookie', 'any'].includes(storage)) {\n              _context3.next = 15;\n              break;\n            }\n\n            if (isNull(sessionStorage.getItem(key))) {\n              _context3.next = 12;\n              break;\n            }\n\n            return _context3.abrupt(\"return\", sessionStorage.getItem(key));\n\n          case 12:\n            _context3.next = 14;\n            return getCookie(key, secure);\n\n          case 14:\n            return _context3.abrupt(\"return\", _context3.sent);\n\n          case 15:\n          case \"end\":\n            return _context3.stop();\n        }\n      }\n    }, _callee3);\n  }));\n  return _getItem.apply(this, arguments);\n}\n\nexport function onStorageChange(key, listener) {\n  var wrapper = function wrapper(event) {\n    if (!event) {\n      event = window.event;\n    } // ie\n\n\n    if (event.key === key) {\n      listener(event.newValue, event.oldValue);\n    }\n  };\n\n  if (window.addEventListener) {\n    window.addEventListener(\"storage\", wrapper, false);\n  } else {\n    window.attachEvent(\"onstorage\", wrapper);\n  }\n}\n/**\n * Remove a browser cookie (created on the browser side)\n * \n * @param {string} name : name of the cookie \n * @param {string} path : scope of the cookie\n */\n\nvar removeCookie = function removeCookie(name) {\n  var path = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : \"/\";\n  document.cookie = \"onekijs.\".concat(name, \"= ;expires=Thu, 01 Jan 1970 00:00:00 GMT;path=\").concat(path, \";\");\n};\n/**\n * remove a key from the specified storage\n * if the storage is set to 'any', try all storage\n * \n * @param {string} key : name of the key to get the value from\n * @param {string} storage : localStorage, sessionStorage, cookie, any (defaults to any) \n */\n\n\nexport function removeItem(key) {\n  var storage = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 'any';\n  if (!storage) storage = 'any';\n\n  if (['localStorage', 'any'].includes(storage)) {\n    localStorage.removeItem(key);\n  }\n\n  if (['sessionStorage', 'any'].includes(storage)) {\n    sessionStorage.removeItem(key);\n  }\n\n  if (['cookie', 'any'].includes(storage)) {\n    sessionStorage.removeItem(key);\n    removeCookie(key);\n  }\n}\n/**\n * Add a key/value in the specified storage\n * \n * @param {*} key : key of the item\n * @param {*} value : value of the item\n * @param {*} storage : localStorage, sessionStorage or cookie\n * @param {*} secure : encrypt the value (only if cookie). Defaults to true\n * @param {*} ttl : time to live of the cookie (in seconds). If null, the cookie is removed when the browser is closed\n * @param {*} path : scope of the cookie. Defaults to /\n */\n\nexport function setItem(_x5, _x6, _x7) {\n  return _setItem.apply(this, arguments);\n}\n\nfunction _setItem() {\n  _setItem = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee4(key, value, storage) {\n    var secure,\n        ttl,\n        path,\n        _args4 = arguments;\n    return _regeneratorRuntime.wrap(function _callee4$(_context4) {\n      while (1) {\n        switch (_context4.prev = _context4.next) {\n          case 0:\n            secure = _args4.length > 3 && _args4[3] !== undefined ? _args4[3] : true;\n            ttl = _args4.length > 4 && _args4[4] !== undefined ? _args4[4] : null;\n            path = _args4.length > 5 && _args4[5] !== undefined ? _args4[5] : \"/\";\n\n            if (!(storage === \"localStorage\")) {\n              _context4.next = 7;\n              break;\n            }\n\n            localStorage.setItem(key, value);\n            _context4.next = 14;\n            break;\n\n          case 7:\n            if (!(storage === \"sessionStorage\")) {\n              _context4.next = 11;\n              break;\n            }\n\n            sessionStorage.setItem(key, value);\n            _context4.next = 14;\n            break;\n\n          case 11:\n            if (!(storage === \"cookie\")) {\n              _context4.next = 14;\n              break;\n            }\n\n            _context4.next = 14;\n            return addCookie(key, value, secure, ttl, path);\n\n          case 14:\n          case \"end\":\n            return _context4.stop();\n        }\n      }\n    }, _callee4);\n  }));\n  return _setItem.apply(this, arguments);\n}\n//# sourceMappingURL=storage.js.map","var b64map = \"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\";\nvar b64pad = \"=\"; // Copyright (c) 2010-2018 Kenji Urushima - jsrsasign\n\nexport function hex2b64(h) {\n  var i;\n  var c;\n  var ret = \"\";\n\n  for (i = 0; i + 3 <= h.length; i += 3) {\n    c = parseInt(h.substring(i, i + 3), 16);\n    ret += b64map.charAt(c >> 6) + b64map.charAt(c & 63);\n  }\n\n  if (i + 1 === h.length) {\n    c = parseInt(h.substring(i, i + 1), 16);\n    ret += b64map.charAt(c << 2);\n  } else if (i + 2 === h.length) {\n    c = parseInt(h.substring(i, i + 2), 16);\n    ret += b64map.charAt(c >> 2) + b64map.charAt((c & 3) << 4);\n  }\n\n  while ((ret.length & 3) > 0) {\n    ret += b64pad;\n  }\n\n  return ret;\n}\nexport function generateRandomString(length) {\n  var characters = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : \"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789_\";\n  var result = [];\n  var charactersLength = characters.length;\n\n  for (var i = 0; i < length; i++) {\n    result.push(characters.charAt(Math.floor(Math.random() * charactersLength)));\n  }\n\n  return result.join(\"\");\n}\nexport function trimStart(string, charToRemove) {\n  while (string.charAt(0) === charToRemove) {\n    string = string.substring(1);\n  }\n\n  return string;\n}\nexport function trimEnd(string, charToRemove) {\n  while (string.charAt(string.length - 1) === charToRemove) {\n    string = string.substring(0, string.length - 1);\n  }\n\n  return string;\n}\nexport function trim(string, charToRemove) {\n  string = trimStart(string, charToRemove);\n  return trimEnd(string, charToRemove);\n}\n//# sourceMappingURL=string.js.map","export function isTrue(value) {\n  return value === \"true\" || value === true;\n}\nexport function isFalse(value) {\n  return value === \"false\" || value === false;\n}\nexport function isFunction(value) {\n  return typeof value === \"function\";\n}\nexport function isPromise(value) {\n  if (!value) return false;\n  return typeof value.then == 'function';\n}\nexport function isAsyncFunction(value) {\n  if (!value || !value.constructor) return false;\n  return value.constructor.name === \"AsyncFunction\";\n}\nexport function isFunctionOrPromise(value) {\n  return isFunction(value) || isPromise(value);\n}\nexport function isAsyncOrPromise(value) {\n  return isAsyncFunction(value) || isPromise(value);\n}\n//# sourceMappingURL=type.js.map","import { trimEnd, trimStart } from \"./string\";\nimport qs from \"query-string\";\nimport { isNull } from \"./object\";\nexport function urlBuilder(path) {\n  var params = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  var query = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n  var esc = encodeURIComponent;\n  Object.keys(params).sort(function (a, b) {\n    return b.length - a.length;\n  }).forEach(function (k) {\n    path = path.replace(\":\".concat(k), params[k]);\n  });\n  var queryKeys = Object.keys(query);\n  var separator = queryKeys.length > 0 ? \"?\" : \"\";\n  query = queryKeys.map(function (k) {\n    return esc(k) + \"=\" + esc(params[k]);\n  }).join(\"&\");\n  return \"\".concat(path).concat(separator).concat(query);\n}\nexport function isAbsoluteUrl(url) {\n  var pattern = new RegExp(\"^(?:[a-z]+:)?//\", \"i\");\n  return pattern.test(url);\n}\nexport function absoluteUrl(url, baseUrl) {\n  if (isAbsoluteUrl(url)) {\n    return url;\n  }\n\n  if (!baseUrl) {\n    baseUrl = \"\".concat(window.location.protocol, \"//\").concat(window.location.host);\n  }\n\n  return [trimEnd(baseUrl, \"/\"), trimStart(url, \"/\")].join(\"/\");\n}\nexport var URL_STATE = '__STATE__'; // export function toLocation(url) {\n//   const parser = document.createElement('a');\n//   parser.href = url;\n//   const location = {\n//     protocol: parser.protocol ? parser.protocol.slice(0,-1) : null,\n//     hostname: parser.hostname,\n//     port: parser.port,\n//     pathname: parser.pathname,\n//     query: qs.parse(parser.search),\n//     hash: qs.parse(parser.hash),\n//     host: parser.host, \n//     href: parser.href,\n//     relativeurl: `${parser.pathname}${parser.search}${parser.hash}`,\n//     baseurl: `${parser.protocol}//${parser.host}`\n//   }\n//   if(location.query && location.query[URL_STATE]) {\n//     location.state = JSON.parse(atob(location.query[URL_STATE]));\n//     delete location.query[URL_STATE];\n//   }\n//   return location;\n// }\n\nexport function toLocation(url) {\n  var base = typeof window !== 'undefined' ? window.origin : 'http://localhost';\n  var parser = new URL(url, base);\n  var location = {\n    protocol: parser.protocol ? parser.protocol.slice(0, -1) : null,\n    hostname: parser.hostname,\n    port: parser.port,\n    pathname: parser.pathname,\n    query: qs.parse(parser.search),\n    hash: qs.parse(parser.hash),\n    host: parser.host,\n    href: parser.href,\n    relativeurl: \"\".concat(parser.pathname).concat(parser.search).concat(parser.hash),\n    baseurl: \"\".concat(parser.protocol, \"//\").concat(parser.host)\n  };\n\n  if (location.query && location.query[URL_STATE]) {\n    location.state = JSON.parse(atob(location.query[URL_STATE]));\n    delete location.query[URL_STATE];\n  }\n\n  return location;\n}\nexport function toUrl(location) {\n  var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  if (!location) return null;\n  if (typeof location === 'string') return location;\n  var url = \"\";\n\n  if (location.baseurl) {\n    url += location.baseurl;\n  } else if (location.protocol) {\n    if (location.hostname) {\n      url += \"\".concat(location.protocol, \"://\").concat(location.hostname);\n      if (location.port) url += \":\".concat(location.port);\n    } else if (location.host) {\n      url += \"\".concat(location.protocol, \"://\").concat(location.host);\n    } else {\n      throw new Error(\"URL protocol is defined but no host/hostname\");\n    }\n  }\n\n  url += toRelativeUrl(location, options);\n  return url;\n}\nexport function toRelativeUrl(location) {\n  var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  if (!location) return null;\n  if (typeof location === 'string') return location;\n  var url = \"\";\n\n  if (location.pathname) {\n    url += location.pathname;\n  }\n\n  var query = location.query || {};\n\n  if (location.state) {\n    query[URL_STATE] = atob(JSON.stringify(location.state));\n  }\n\n  if (query && Object.keys(query).length > 0 && options.query !== false) {\n    url += \"?\".concat(qs.stringify(location.query));\n  }\n\n  if (!isNull(location.hash) && Object.keys(location.hash).length > 0 && options.hash !== false) {\n    url += \"#\".concat(qs.stringify(location.hash));\n  }\n\n  return url;\n}\nexport function extractState(query) {\n  if (!query || !query[URL_STATE]) return null;\n  return atob(JSON.stringify(query[URL_STATE]));\n}\n//# sourceMappingURL=url.js.map","import { isNull, isObject } from \"./utils/object\";\nimport { isTrue, isFalse } from './utils/type';\nexport var LOADING = 0;\nexport var ERROR = 1;\nexport var WARNING = 2;\nexport var OK = 3;\nexport var required = function required(message) {\n  return function (value) {\n    var valid;\n\n    if (message === false) {\n      valid = true;\n    } else if (isNull(value)) {\n      valid = false;\n    } else if (Array.isArray(value)) {\n      valid = value.length > 0;\n    } else if (isObject(value)) {\n      valid = Object.keys(value).length > 0;\n    } else if (typeof value === 'string') {\n      valid = value.trim().length > 0;\n    } else {\n      valid = value !== '';\n    }\n\n    if (!message || isTrue(message) || isFalse(message)) {\n      message = 'This field is required';\n    }\n\n    return {\n      valid: valid,\n      message: message\n    };\n  };\n};\nexport var regex = function regex(_regex, message) {\n  return function (value) {\n    if (typeof _regex === 'string') {\n      _regex = new RegExp(_regex);\n    }\n\n    if (!message) {\n      message = \"Invalid value. Should match the regular expression \".concat(_regex);\n    }\n\n    return {\n      valid: _regex.test(value),\n      message: message\n    };\n  };\n};\nexport var email = function email(message) {\n  // eslint-disable-next-line\n  return regex(new RegExp(/^(([^<>()\\[\\]\\\\.,;:\\s@\"]+(\\.[^<>()\\[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/, 'i'), message);\n};\n//# sourceMappingURL=validation.js.map","import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/asyncToGenerator\";\nimport HTTPError from \"./error\";\nimport { urlBuilder } from \"./utils/url\";\nimport produce from \"immer\";\nimport { get } from \"./utils/object\";\n\nvar encodeFormData = function encodeFormData(data) {\n  return Object.keys(data).map(function (key) {\n    return encodeURIComponent(key) + \"=\" + encodeURIComponent(data[key]);\n  }).join(\"&\");\n};\n\nexport function xhr(_x, _x2) {\n  return _xhr.apply(this, arguments);\n}\n\nfunction _xhr() {\n  _xhr = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(url, method) {\n    var body,\n        options,\n        _args = arguments;\n    return _regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            body = _args.length > 2 && _args[2] !== undefined ? _args[2] : null;\n            options = _args.length > 3 && _args[3] !== undefined ? _args[3] : {};\n            url = urlBuilder(url, options.params || {}, options.query || {});\n            options = produce(options, function (o) {\n              o.headers = o.headers || {};\n              o.headers[\"Accept\"] = o.headers[\"Accept\"] || \"application/json\";\n              o.method = method;\n\n              if ([\"POST\", \"PUT\", \"PATCH\"].includes(method)) {\n                o.headers[\"Content-Type\"] = o.headers[\"Content-Type\"] || \"application/json\";\n\n                if (body) {\n                  if (o.headers[\"Content-Type\"] === \"application/json\") {\n                    o.body = JSON.stringify(body);\n                  } else if (o.headers[\"Content-Type\"] === \"application/x-www-form-urlencoded\") {\n                    o.body = encodeFormData(body);\n                  } else {\n                    throw Error(\"Unsupported content-type \".concat(o.headers[\"Content-Type\"]));\n                  }\n                }\n              }\n\n              if (o.auth) {\n                if (get(o, \"auth.token.access_token\")) {\n                  o.headers.Authorization = \"Bearer \".concat(o.auth.token.access_token);\n                } else if (get(o, \"auth.token\")) {\n                  o.headers.Authorization = \"Bearer \".concat(o.auth.token);\n                } else if (o.auth.basic) {\n                  o.headers.Authorization = \"Basic \".concat(btoa(o.auth.basic.user + \":\" + o.auth.basic.password));\n                }\n              } // sanitize options\n\n\n              var validOptions = [\"method\", \"headers\", \"body\", \"mode\", \"credentials\", \"cache\", \"redirect\", \"referrer\", \"referrerPolicy\", \"integrity\", \"keepalive\", \"signal\"];\n              Object.keys(o).forEach(function (k) {\n                if (!validOptions.includes(k)) {\n                  delete o[k];\n                }\n              });\n            });\n            _context.next = 6;\n            return fetch(url, options);\n\n          case 6:\n            return _context.abrupt(\"return\", _context.sent);\n\n          case 7:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee);\n  }));\n  return _xhr.apply(this, arguments);\n}\n\nexport function formatAsyncResponse(_x3) {\n  return _formatAsyncResponse.apply(this, arguments);\n}\n\nfunction _formatAsyncResponse() {\n  _formatAsyncResponse = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2(response) {\n    var clone, result;\n    return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n      while (1) {\n        switch (_context2.prev = _context2.next) {\n          case 0:\n            clone = response.clone();\n\n            if (!response.ok) {\n              _context2.next = 11;\n              break;\n            }\n\n            _context2.prev = 2;\n            _context2.next = 5;\n            return response.json();\n\n          case 5:\n            return _context2.abrupt(\"return\", _context2.sent);\n\n          case 8:\n            _context2.prev = 8;\n            _context2.t0 = _context2[\"catch\"](2);\n            return _context2.abrupt(\"return\", clone.text());\n\n          case 11:\n            _context2.prev = 11;\n            _context2.next = 14;\n            return response.json();\n\n          case 14:\n            result = _context2.sent;\n            _context2.next = 20;\n            break;\n\n          case 17:\n            _context2.prev = 17;\n            _context2.t1 = _context2[\"catch\"](11);\n            throw new HTTPError(response.status, null, _context2.t1);\n\n          case 20:\n            throw new HTTPError(response.status, result.message, result);\n\n          case 21:\n          case \"end\":\n            return _context2.stop();\n        }\n      }\n    }, _callee2, null, [[2, 8], [11, 17]]);\n  }));\n  return _formatAsyncResponse.apply(this, arguments);\n}\n\nexport function asyncHttp(_x4, _x5) {\n  return _asyncHttp.apply(this, arguments);\n}\n\nfunction _asyncHttp() {\n  _asyncHttp = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee3(url, method) {\n    var body,\n        options,\n        _args3 = arguments;\n    return _regeneratorRuntime.wrap(function _callee3$(_context3) {\n      while (1) {\n        switch (_context3.prev = _context3.next) {\n          case 0:\n            body = _args3.length > 2 && _args3[2] !== undefined ? _args3[2] : null;\n            options = _args3.length > 3 && _args3[3] !== undefined ? _args3[3] : {};\n            _context3.t0 = formatAsyncResponse;\n            _context3.next = 5;\n            return xhr(url, method, body, options);\n\n          case 5:\n            _context3.t1 = _context3.sent;\n            return _context3.abrupt(\"return\", (0, _context3.t0)(_context3.t1));\n\n          case 7:\n          case \"end\":\n            return _context3.stop();\n        }\n      }\n    }, _callee3);\n  }));\n  return _asyncHttp.apply(this, arguments);\n}\n\nexport function asyncGet(_x6) {\n  return _asyncGet.apply(this, arguments);\n}\n\nfunction _asyncGet() {\n  _asyncGet = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee4(url) {\n    var options,\n        _args4 = arguments;\n    return _regeneratorRuntime.wrap(function _callee4$(_context4) {\n      while (1) {\n        switch (_context4.prev = _context4.next) {\n          case 0:\n            options = _args4.length > 1 && _args4[1] !== undefined ? _args4[1] : {};\n            _context4.next = 3;\n            return asyncHttp(url, \"GET\", null, options);\n\n          case 3:\n            return _context4.abrupt(\"return\", _context4.sent);\n\n          case 4:\n          case \"end\":\n            return _context4.stop();\n        }\n      }\n    }, _callee4);\n  }));\n  return _asyncGet.apply(this, arguments);\n}\n\nexport function asyncDelete(_x7) {\n  return _asyncDelete.apply(this, arguments);\n}\n\nfunction _asyncDelete() {\n  _asyncDelete = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee5(url) {\n    var options,\n        _args5 = arguments;\n    return _regeneratorRuntime.wrap(function _callee5$(_context5) {\n      while (1) {\n        switch (_context5.prev = _context5.next) {\n          case 0:\n            options = _args5.length > 1 && _args5[1] !== undefined ? _args5[1] : {};\n            _context5.next = 3;\n            return asyncHttp(url, \"DELETE\", null, options);\n\n          case 3:\n            return _context5.abrupt(\"return\", _context5.sent);\n\n          case 4:\n          case \"end\":\n            return _context5.stop();\n        }\n      }\n    }, _callee5);\n  }));\n  return _asyncDelete.apply(this, arguments);\n}\n\nexport function asyncPost(_x8, _x9) {\n  return _asyncPost.apply(this, arguments);\n}\n\nfunction _asyncPost() {\n  _asyncPost = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee6(url, body) {\n    var options,\n        _args6 = arguments;\n    return _regeneratorRuntime.wrap(function _callee6$(_context6) {\n      while (1) {\n        switch (_context6.prev = _context6.next) {\n          case 0:\n            options = _args6.length > 2 && _args6[2] !== undefined ? _args6[2] : {};\n            _context6.next = 3;\n            return asyncHttp(url, \"POST\", body, options);\n\n          case 3:\n            return _context6.abrupt(\"return\", _context6.sent);\n\n          case 4:\n          case \"end\":\n            return _context6.stop();\n        }\n      }\n    }, _callee6);\n  }));\n  return _asyncPost.apply(this, arguments);\n}\n\nexport function asyncPut(_x10, _x11) {\n  return _asyncPut.apply(this, arguments);\n}\n\nfunction _asyncPut() {\n  _asyncPut = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee7(url, body) {\n    var options,\n        _args7 = arguments;\n    return _regeneratorRuntime.wrap(function _callee7$(_context7) {\n      while (1) {\n        switch (_context7.prev = _context7.next) {\n          case 0:\n            options = _args7.length > 2 && _args7[2] !== undefined ? _args7[2] : {};\n            _context7.next = 3;\n            return asyncHttp(url, \"PUT\", body, options);\n\n          case 3:\n            return _context7.abrupt(\"return\", _context7.sent);\n\n          case 4:\n          case \"end\":\n            return _context7.stop();\n        }\n      }\n    }, _callee7);\n  }));\n  return _asyncPut.apply(this, arguments);\n}\n\nexport function asyncPatch(_x12, _x13) {\n  return _asyncPatch.apply(this, arguments);\n}\n\nfunction _asyncPatch() {\n  _asyncPatch = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee8(url, body) {\n    var options,\n        _args8 = arguments;\n    return _regeneratorRuntime.wrap(function _callee8$(_context8) {\n      while (1) {\n        switch (_context8.prev = _context8.next) {\n          case 0:\n            options = _args8.length > 2 && _args8[2] !== undefined ? _args8[2] : {};\n            _context8.next = 3;\n            return asyncHttp(url, \"PATCH\", body, options);\n\n          case 3:\n            return _context8.abrupt(\"return\", _context8.sent);\n\n          case 4:\n          case \"end\":\n            return _context8.stop();\n        }\n      }\n    }, _callee8);\n  }));\n  return _asyncPatch.apply(this, arguments);\n}\n//# sourceMappingURL=xhr.js.map","// export {\n//   asyncDelete,\n//   asyncGet,\n//   asyncHttp,\n//   asyncPatch,\n//   asyncPost,\n//   asyncPut,\n//   xhr,\n//   SimpleError, HTTPError,\n//   notificationService,\n//   useNotificationService,\n//   useNotifications,\n//   append,\n//   del,\n//   find,\n//   get,\n//   isNull,\n//   isNullOrEmpty,\n//   set,\n//   shallowEqual,\n//   useShallowEqual,\n//   update,\n//   generateCodeChallenge,\n//   generateCodeVerifier,\n//   generateNonce,\n//   generateState,\n//   getIdp,\n//   parseJwt,\n//   validateToken,\n//   generateRandomString,\n//   encrypt,\n//   decrypt,\n//   sha256,\n//   verify,\n//   urlBuilder, isAbsoluteUrl, absoluteUrl, toUrl, toRelativeUrl, toLocation,\n//   crudService,\n//   useDelete,\n//   useGet,\n//   usePatch,\n//   usePost,\n//   usePostPutPatch,\n//   usePut,\n//   useSecureDelete,\n//   useSecureGet,\n//   useSecurePatch,\n//   useSecurePost,\n//   useSecurePostPutPatch,\n//   useSecurePut,\n//   every, latest, leading, debounce, throttle,\n//   secure, SecureRoute,\n//   useLocalService, createReduxService, useReduxService, useGlobalService, useGenericReducer, genericService,\n//   useReduxSelector, createReduxStore,\n//   loginService,\n//   useLoginService,\n//   useLoginCallbackService,\n//   useLoginError,\n//   logoutService,\n//   useLogoutService,\n//   useLogoutCallbackService,\n//   useLogoutError,\n//   authService, useAuthService, useSecurityContext,\n//   useOnekiRouter, useLocation, useHistory, useParams, useSetting, useSettings, AppContext,\n//   layout, withLayout,\n//   useI18nService, i18nService, useTranslation, useLocale, useI18n, I18nLink,\n//   useGlobalState, useGlobalProp, useLocalState, useGlobalStateModifier,\n//   formService, useForm, FormContext, useFormContext, useField,\n//   Input,\n//   required, regex, email,\n//   extractValidators,\n//   BaseRouter\n// } from \"onekijs-core\";\nexport * from \"onekijs-core\";\nexport { App } from './lib/app';\nexport { default as NextRouter } from './lib/router';\nexport { get404StaticProps } from './lib/404';\nexport { getI18nStaticProps, getI18nTranslations, withI18nPaths } from './lib/i18n';\n//# sourceMappingURL=index.js.map","import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/asyncToGenerator\";\n\nfunction _createForOfIteratorHelper(o, allowArrayLike) { var it; if (typeof Symbol === \"undefined\" || o[Symbol.iterator] == null) { if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") { if (it) o = it; var i = 0; var F = function F() {}; return { s: F, n: function n() { if (i >= o.length) return { done: true }; return { done: false, value: o[i++] }; }, e: function e(_e) { throw _e; }, f: F }; } throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); } var normalCompletion = true, didErr = false, err; return { s: function s() { it = o[Symbol.iterator](); }, n: function n() { var step = it.next(); normalCompletion = step.done; return step; }, e: function e(_e2) { didErr = true; err = _e2; }, f: function f() { try { if (!normalCompletion && it[\"return\"] != null) it[\"return\"](); } finally { if (didErr) throw err; } } }; }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nexport function getAllFiles(_x, _x2, _x3, _x4) {\n  return _getAllFiles.apply(this, arguments);\n}\n\nfunction _getAllFiles() {\n  _getAllFiles = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(fs, path, basePath, relativePath) {\n    var arrayOfFiles,\n        dirPath,\n        files,\n        _iterator,\n        _step,\n        file,\n        data,\n        _args = arguments;\n\n    return _regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            arrayOfFiles = _args.length > 4 && _args[4] !== undefined ? _args[4] : [];\n            dirPath = path.join(basePath, relativePath);\n            files = fs.readdirSync(dirPath);\n            _iterator = _createForOfIteratorHelper(files);\n\n            try {\n              for (_iterator.s(); !(_step = _iterator.n()).done;) {\n                file = _step.value;\n\n                if (fs.statSync(dirPath + \"/\" + file).isDirectory()) {\n                  arrayOfFiles = getAllFiles(fs, path, basePath, relativePath + \"/\" + file, arrayOfFiles);\n                } else {\n                  if (file !== '_app.js' && file !== '_document.js' && file !== '404.js' && file !== '_error.js') {\n                    data = fs.readFileSync(dirPath + \"/\" + file, 'utf8');\n\n                    if (!data.includes(\"getStaticProps\")) {\n                      file = file.slice(0, -3);\n\n                      if (file === 'index') {\n                        arrayOfFiles.push(relativePath);\n                        arrayOfFiles.push(relativePath + \"/\");\n                      } else {\n                        arrayOfFiles.push(relativePath + \"/\" + file);\n                      }\n                    }\n                  }\n                }\n              }\n            } catch (err) {\n              _iterator.e(err);\n            } finally {\n              _iterator.f();\n            }\n\n            return _context.abrupt(\"return\", arrayOfFiles);\n\n          case 6:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee);\n  }));\n  return _getAllFiles.apply(this, arguments);\n}\n\nexport function get404StaticProps(_x5, _x6) {\n  return _get404StaticProps.apply(this, arguments);\n}\n\nfunction _get404StaticProps() {\n  _get404StaticProps = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2(fs, path) {\n    var routes;\n    return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n      while (1) {\n        switch (_context2.prev = _context2.next) {\n          case 0:\n            _context2.next = 2;\n            return getAllFiles(fs, path, path.join(process.cwd(), '/src/pages'), '');\n\n          case 2:\n            routes = _context2.sent;\n            return _context2.abrupt(\"return\", {\n              props: {\n                routes: routes\n              }\n            });\n\n          case 4:\n          case \"end\":\n            return _context2.stop();\n        }\n      }\n    }, _callee2);\n  }));\n  return _get404StaticProps.apply(this, arguments);\n}\n//# sourceMappingURL=404.js.map","import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport { getRouteMatcher } from \"next/dist/next-server/lib/router/utils/route-matcher\";\nimport { getRouteRegex } from \"next/dist/next-server/lib/router/utils/route-regex\";\nimport Error from \"next/error\";\nimport Router, { useRouter } from \"next/router\";\nimport { AppProvider, createReduxStore, DefaultLoadingComponent, flattenTranslations, formatSettings, isPromise, toRelativeUrl } from \"onekijs-core\";\nimport PropTypes from \"prop-types\";\nimport React, { useEffect, useMemo, useState } from \"react\";\nimport { Provider } from \"react-redux\";\nimport NextRouter from \"./router\";\n\nvar useNextRouter = useRouter || function () {\n  return null;\n};\n\nvar useRouterSync = function useRouterSync(onekiRouter) {\n  var nextRouter = useNextRouter();\n\n  if (typeof window !== \"undefined\") {\n    onekiRouter.sync(nextRouter);\n  }\n\n  useEffect(function () {\n    onekiRouter.onLocationChange();\n  }, [nextRouter, onekiRouter]);\n};\n\nvar init = false;\nexport var App = /*#__PURE__*/React.memo(function (_ref) {\n  var _ref$settings = _ref.settings,\n      settings = _ref$settings === void 0 ? {} : _ref$settings,\n      store = _ref.store,\n      _ref$initialState = _ref.initialState,\n      initialState = _ref$initialState === void 0 ? {} : _ref$initialState,\n      _ref$services = _ref.services,\n      services = _ref$services === void 0 ? [] : _ref$services,\n      _ref$LoadingComponent = _ref.LoadingComponent,\n      LoadingComponent = _ref$LoadingComponent === void 0 ? DefaultLoadingComponent : _ref$LoadingComponent,\n      Component = _ref.Component,\n      pageProps = _ref.pageProps,\n      nextRouter = _ref.router,\n      initialLocale = _ref.initialLocale,\n      translations = _ref.translations,\n      i18nNs = _ref.i18nNs;\n  var router = useMemo(function () {\n    return new NextRouter();\n  }, []);\n  useRouterSync(router);\n\n  var _useState = useState(isPromise(initialState) || isPromise(settings)),\n      _useState2 = _slicedToArray(_useState, 2),\n      loading = _useState2[0],\n      setLoading = _useState2[1];\n\n  var _useState3 = useState(isPromise(settings) ? null : settings),\n      _useState4 = _slicedToArray(_useState3, 2),\n      appSettings = _useState4[0],\n      setAppSettings = _useState4[1];\n\n  var _useState5 = useState(isPromise(initialState) ? null : initialState),\n      _useState6 = _slicedToArray(_useState5, 2),\n      appInitialState = _useState6[0],\n      setAppInitialState = _useState6[1];\n\n  var appStore = useMemo(function () {\n    if (!loading) {\n      return store ? store : createReduxStore(appInitialState);\n    }\n  }, [loading, store, appInitialState]);\n  var formattedSettings = useMemo(function () {\n    return formatSettings(appSettings);\n  }, [appSettings]);\n  router.settings = formattedSettings;\n  var route = useMemo(function () {\n    if (pageProps.routes && nextRouter.route === \"/404\") {\n      return pageProps.routes.find(function (route) {\n        var routeRegex = getRouteRegex(route);\n        return getRouteMatcher(routeRegex)(nextRouter.asPath);\n      });\n    }\n  }, [pageProps.routes, nextRouter.route, nextRouter.asPath]);\n  useEffect(function () {\n    if (!init) {\n      init = true; // TODO call initialState and/or settings\n\n      var promises = [{\n        set: setAppSettings,\n        promise: settings\n      }, {\n        set: setAppInitialState,\n        promise: initialState\n      }].filter(function (entry) {\n        return isPromise(entry.promise);\n      });\n\n      if (promises.length > 0) {\n        Promise.all(promises.map(function (entry) {\n          return entry.promise;\n        })).then(function (values) {\n          values.forEach(function (v, i) {\n            return promises[i].set(v);\n          });\n          setLoading(false);\n        });\n      }\n    }\n  }, [settings, initialState]);\n  useEffect(function () {\n    if (route) {\n      Router.replace(route, toRelativeUrl(router.location, {\n        hash: false\n      }), {\n        shallow: true\n      });\n    }\n  }, [router, route]);\n  translations = useMemo(function () {\n    var result = flattenTranslations(pageProps.translations || {});\n    if (translations) Object.assign(result, flattenTranslations(translations));\n    return result;\n  }, [pageProps.translations, translations]);\n  i18nNs = useMemo(function () {\n    var ns = Object.keys(pageProps.translations || {});\n    if (i18nNs) ns.push(i18nNs);\n    return ns;\n  }, [pageProps.translations, i18nNs]);\n  initialLocale = useMemo(function () {\n    if (pageProps.locale) return pageProps.locale;\n    return initialLocale;\n  }, [pageProps.locale, initialLocale]);\n\n  if (loading) {\n    return /*#__PURE__*/React.createElement(LoadingComponent, null);\n  }\n\n  if (nextRouter.route === \"/404\") {\n    if (route || !router.location) return null;\n    return /*#__PURE__*/React.createElement(Error, {\n      code: 404\n    });\n  }\n\n  init = true;\n\n  var getLayout = Component && Component.getLayout || function (page) {\n    return page;\n  };\n\n  return /*#__PURE__*/React.createElement(Provider, {\n    store: appStore\n  }, /*#__PURE__*/React.createElement(AppProvider, {\n    router: router,\n    settings: formattedSettings,\n    initialLocale: initialLocale,\n    translations: translations,\n    i18nNs: i18nNs,\n    services: services\n  }, getLayout( /*#__PURE__*/React.createElement(Component, pageProps))));\n});\nApp.displayName = \"App\";\nApp.propTypes = {\n  settings: PropTypes.object,\n  store: PropTypes.object,\n  initialState: PropTypes.object,\n  services: PropTypes.arrayOf(PropTypes.object),\n  theme: PropTypes.object,\n  LoadingComponent: PropTypes.elementType,\n  history: PropTypes.object,\n  children: PropTypes.element,\n  initialLocale: PropTypes.string,\n  translations: PropTypes.object,\n  i18nNs: PropTypes.arrayOf(PropTypes.string),\n  Component: PropTypes.elementType,\n  pageProps: PropTypes.object,\n  router: PropTypes.object\n};\n//# sourceMappingURL=app.js.map","import _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nexport function getI18nStaticProps(fs, path, lang) {\n  var namespaces = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : [];\n  return {\n    props: {\n      translations: getI18nTranslations(fs, path, lang, namespaces),\n      locale: lang\n    }\n  };\n}\nexport function getI18nTranslations(fs, path, lang) {\n  var namespaces = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : [];\n  if (!namespaces.includes(\"common\")) namespaces.push(\"common\"); // eslint-disable-next-line\n\n  var localeDirectory = path.join(process.cwd(), \"public/locales/\".concat(lang));\n  var translations = {};\n  namespaces.forEach(function (ns) {\n    var filePath = path.join(localeDirectory, \"\".concat(ns, \".json\"));\n    translations[ns] = JSON.parse(fs.readFileSync(filePath, 'utf8'));\n  });\n  return translations;\n}\nexport function withI18nPaths(fs, path) {\n  var paths = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : [];\n  var attribute = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : \"lang\";\n  // eslint-disable-next-line\n  var localeDirectory = path.join(process.cwd(), 'public/locales');\n  var files = fs.readdirSync(localeDirectory);\n  var locales = [];\n  files.forEach(function (file) {\n    if (fs.statSync(localeDirectory + \"/\" + file).isDirectory()) {\n      locales.push(file);\n    }\n  });\n\n  if (paths.length === 0) {\n    return locales.map(function (locale) {\n      return {\n        params: _defineProperty({}, attribute, locale)\n      };\n    });\n  }\n\n  var nextPaths = [];\n  paths.forEach(function (p) {\n    locales.forEach(function (locale) {\n      nextPaths.push({\n        params: Object.assign({}, p.params, {\n          lang: locale\n        })\n      });\n    });\n  });\n  return nextPaths;\n}\n//# sourceMappingURL=i18n.js.map","import _extends from \"@babel/runtime/helpers/extends\";\nimport _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nimport _inherits from \"@babel/runtime/helpers/inherits\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/getPrototypeOf\";\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nimport produce from \"immer\";\nimport Link from 'next/link';\nimport Router from \"next/router\";\nimport { BaseRouter, get, toI18nLocation, toLocation, toRelativeUrl } from \"onekijs-core\";\nimport React from 'react';\n\nvar NextRouter = /*#__PURE__*/function (_BaseRouter) {\n  _inherits(NextRouter, _BaseRouter);\n\n  var _super = _createSuper(NextRouter);\n\n  function NextRouter() {\n    var _this;\n\n    _classCallCheck(this, NextRouter);\n\n    _this = _super.call(this);\n    _this._listeners = [];\n    return _this;\n  }\n\n  _createClass(NextRouter, [{\n    key: \"deleteOrigin\",\n    value: function deleteOrigin() {\n      localStorage.removeItem(\"onekijs.from\");\n      localStorage.removeItem(\"onekijs.from_route\");\n    }\n  }, {\n    key: \"getOrigin\",\n    value: function getOrigin() {\n      var from = localStorage.getItem(\"onekijs.from\") || get(this.settings, \"routes.home\", \"/\");\n      var fromRoute = localStorage.getItem(\"onekijs.from_route\") || get(this.settings, \"routes.home_route\", from);\n      return {\n        from: from,\n        fromRoute: fromRoute\n      };\n    }\n    /**\n     * url can be a string or an object.\n     * If object, the format is the following\n     * {\n     *   url: string, // example: /users/1?test=1&test2#h=3&h2\n     *   route: string, // example: /users/[id]\n     *   pathname: string, // example: /users/1\n     *   query: obj, // example: {test:1,test2:null}\n     *   hash: obj // example: {h:3, h2:null}\n     *   state: obj // example: {key1: 'value1'}\n     * }\n     */\n\n  }, {\n    key: \"push\",\n    value: function push(urlOrLocation, route, options) {\n      return this._goto(\"push\", urlOrLocation, route, options);\n    }\n  }, {\n    key: \"replace\",\n    value: function replace(urlOrLocation, route, options) {\n      return this._goto(\"replace\", urlOrLocation, route, options);\n    }\n    /**\n     * callback(url) where url is:\n     * {\n     *   url: string, // example: /users/1?test=1&test2#h=3&h2\n     *   route: string, // example: /users/[id]\n     *   pathname: string, // example: /users/1\n     *   query: obj, // example: {test:1,test2:null}\n     *   hash: obj // example: {h:3, h2:null}\n     *   state: obj // example: {key1: 'value1'}\n     * }\n     */\n    // listen(callback) {\n    //   const handler = (url) => {\n    //     callback(this._toLocation(url));\n    //   };\n    //   Router.events.on('routeChangeComplete', handler);\n    //   Router.events.on('hashChangeComplete', handler);\n    //   return handler;\n    // }\n\n  }, {\n    key: \"listen\",\n    value: function listen(callback) {\n      this._listeners.push(callback);\n    }\n  }, {\n    key: \"onLocationChange\",\n    value: function onLocationChange() {\n      var _this2 = this;\n\n      this._listeners.forEach(function (listener) {\n        listener(_this2.location);\n      });\n    }\n  }, {\n    key: \"saveOrigin\",\n    value: function saveOrigin() {\n      var force = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : true;\n      var currentValue = localStorage.getItem(\"onekijs.from\");\n      if (!force && currentValue) return;\n      var from = get(this.settings, \"routes.home\", \"/\");\n      var fromRoute = get(this.settings, \"routes.home_route\", from);\n      var previous = this.previousLocation;\n\n      if (previous) {\n        from = previous.relativeurl;\n        fromRoute = previous.route || from;\n      }\n\n      localStorage.setItem(\"onekijs.from\", from);\n      localStorage.setItem(\"onekijs.from_route\", fromRoute);\n    }\n  }, {\n    key: \"sync\",\n    value: function sync(nextRouter) {\n      var pathname = nextRouter.pathname;\n      var asPath = nextRouter.asPath;\n\n      if (!pathname.includes(\"[\") || pathname !== asPath) {\n        var location = toLocation(asPath);\n        location.route = Router.router.route;\n        location.params = Router.router.query;\n\n        this._pushLocation(location);\n      }\n    }\n  }, {\n    key: \"unlisten\",\n    value: function unlisten(callback) {\n      this._listeners.splice(this._listeners.indexOf(callback), 1);\n    }\n  }, {\n    key: \"i18nLink\",\n    value: function i18nLink(props, i18n, settings) {\n      var href = props.href,\n          as = props.as;\n      var location;\n\n      if (as) {\n        location = toI18nLocation(as, {\n          i18n: i18n,\n          settings: settings\n        }, href);\n      } else {\n        location = toI18nLocation(href, {\n          i18n: i18n,\n          settings: settings\n        });\n      }\n\n      var i18nAs = toRelativeUrl(location);\n      var i18nHref = location.route || toRelativeUrl(location);\n      return /*#__PURE__*/React.createElement(Link, _extends({}, props, {\n        as: i18nAs,\n        href: i18nHref\n      }));\n    }\n  }, {\n    key: \"_goto\",\n    value: function _goto(type, urlOrLocation, route, options) {\n      if (!urlOrLocation) throw new Error(\"URL is undefined in router.push\");\n      var location = toI18nLocation(urlOrLocation, {\n        settings: this.settings,\n        i18n: this.i18n\n      }, route);\n      var relativeUrl = toRelativeUrl(location);\n\n      if (location.route) {\n        return Router.router[type](location.route, relativeUrl, options);\n      } else {\n        return Router.router[type](relativeUrl, relativeUrl, options);\n      }\n    }\n  }, {\n    key: \"_toLocation\",\n    value: function _toLocation(url) {\n      var location = toLocation(url);\n      location.route = Router.router.route;\n      location.params = Router.router.query;\n      return location;\n    }\n  }, {\n    key: \"_pushLocation\",\n    value: function _pushLocation(location) {\n      this._location = location;\n      this.history = produce(this.history, function (draft) {\n        draft.unshift(location); // keep max 20 items\n\n        draft.splice(20, draft.length);\n      });\n    }\n  }, {\n    key: \"native\",\n    get: function get() {\n      return Router.router;\n    }\n  }]);\n\n  return NextRouter;\n}(BaseRouter);\n\nexport { NextRouter as default };\n//# sourceMappingURL=router.js.map","module.exports = require(\"next/dist/next-server/lib/head.js\");","module.exports = require(\"next/dist/next-server/lib/router-context.js\");","module.exports = require(\"next/dist/next-server/lib/utils.js\");","import { I18nLink, layout, useI18nService, useLocale, useSetting } from \"onekijs-next\";\nimport PropTypes from 'prop-types';\nimport React from \"react\";\n\nconst SiteLayout = ({ children }) => {\n  const style = { padding: \"0 5px\" };\n  const i18nService = useI18nService();\n  const locales = useSetting(\"i18n.locales\");\n  const locale = useLocale();\n  return (\n    <>\n      <div\n        style={{\n          backgroundColor: \"#EEE\",\n          padding: \"10px\",\n          marginBottom: \"10px\"\n        }}\n      >\n        <h1>Hello world App</h1>\n        <h3>\n          <I18nLink href=\"/\">\n            <a style={style}>Index</a>\n          </I18nLink>\n          |\n          <I18nLink href=\"/about\">\n            <a style={style}>About</a>\n          </I18nLink>\n        </h3>\n        <h4>Change locale via buttons: <button onClick={() => i18nService.changeLocale('en')}>en</button> | <button onClick={() => i18nService.changeLocale('fr')}>fr</button></h4>\n        <h4>\n          Change locale via dropdown: \n          <select value={locale} onChange={(e) => i18nService.changeLocale(e.target.value)}>\n            {locales.map(l => <option key={l} value={l}>{l}</option>)}\n          </select> \n        </h4>\n      </div>\n      <div>{children}</div>\n    </>\n  );\n};\n\nSiteLayout.propTypes = {\n  children: PropTypes.element,\n}\n\nexport default layout(SiteLayout);\n","export { default } from './SiteLayout';","import { useLocale, useOnekiRouter, withLayout } from 'onekijs-next';\nimport { useEffect } from 'react';\nimport SiteLayout from '../layout/siteLayout';\n\nconst IndexPage = () => {\n  const locale = useLocale();\n  const router = useOnekiRouter();\n\n  useEffect(() => {\n    router.push(\"/\");\n  }, [locale])\n\n  return null;\n}\n\nexport default withLayout(IndexPage, SiteLayout);\n","module.exports = require(\"@redux-saga/core\");","module.exports = require(\"events\");","module.exports = require(\"immer\");","module.exports = require(\"next/dist/next-server/lib/router/utils/route-matcher\");","module.exports = require(\"next/dist/next-server/lib/router/utils/route-regex\");","module.exports = require(\"next/router\");","module.exports = require(\"prop-types\");","module.exports = require(\"prop-types-exact\");","module.exports = require(\"query-string\");","module.exports = require(\"react\");","module.exports = require(\"react-redux\");","module.exports = require(\"react-router-dom\");","module.exports = require(\"redux\");","module.exports = require(\"redux-saga\");","module.exports = require(\"redux-saga/effects\");","module.exports = require(\"regenerator-runtime\");","module.exports = require(\"rfc4648\");","module.exports = require(\"text-encoding-shim\");","module.exports = require(\"url\");"],"mappings":";;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;ACxFA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;ACVA;AACA;AACA;AACA;AACA;;;;;;;;;;;ACJA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;ACNA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;ACRA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;ACpCA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;ACNA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;ACrBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;AChBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;ACfA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;AClBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;ACPA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;ACjBA;AACA;AACA;AACA;AACA;;;;;;;;;;;ACJA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;ACbA;AACA;AACA;AACA;AACA;;;;;;;;;;;ACJA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;AC3BA;AACA;AACA;AACA;AACA;;;;;;;;;;;ACJA;AACA;AACA;AACA;AACA;;;;;;;;;;;ACJA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;ACrBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;ACfA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;ACZA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;ACTA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;ACZA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;ACZA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;AChBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;ACXA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;AC1CA;;;;;;;;;;;;;ACAA;AACA;AADA;AACA;AADA;AACA;AADA;AAAA;AACA;AADA;AACA;AADA;AACA;AADA;AACA;AADA;AACA;AADA;AACA;AADA;AAAA;AAAA;AAAA;AAAA;AACA;AADA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AADA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AADA;AAAA;AAAA;AACA;AADA;AAAA;AAAA;AAAA;AACA;AADA;AAAA;AACA;AAAA;AAAA;AACA;AACA;AADA;AAAA;AAAA;AACA;AADA;AAAA;AAAA;AAAA;AAAA;AACA;AADA;AACA;AADA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AADA;AAAA;AACA;AADA;AAAA;AAAA;AACA;AADA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AADA;AAAA;AAAA;AACA;AADA;AAAA;AAAA;AAAA;AACA;AADA;AACA;AADA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AADA;AAAA;AAAA;AAAA;AAAA;AACA;AADA;AAAA;AACA;AAAA;AACA;AADA;AAAA;AAAA;AAAA;AACA;AADA;AAAA;AACA;AAAA;AACA;AADA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AACA;AADA;AAAA;AAAA;AACA;AACA;AADA;AAAA;AAAA;AAAA;AACA;AADA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AADA;AAAA;AAAA;AAAA;AAAA;AACA;AADA;AAAA;AACA;AADA;AAAA;AAAA;AACA;AADA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AADA;AAAA;AAAA;AAAA;AACA;AACA;AADA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AADA;AAAA;AACA;AAAA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AADA;AACA;AAAA;AACA;AADA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AACA;AACA;AADA;AACA;AADA;AAAA;AAAA;AACA;AADA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AADA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AADA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AADA,+CAAA;AACA;AADA;AAAA;AACA;AApBA;AACA;AAkBA;AAAA;AACA;AAAA;AACA;AADA;AACA;AACA;AADA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AADA;AAAA;AAAA;AACA;AADA;AAAA;AAAA;AAAA;AACA;AADA;AAAA;;;;;;;;;;;;ACvBA;AACA;AADA;AACA;AADA;AACA;AADA;AAAA;AAAA;AAAA;AACA;AADA;AACA;AADA;AACA;AADA;AAAA;AACA;AADA;AACA;AADA;AACA;AADA;AAAA;AACA;AADA;AAAA;AAAA;AACA;AACA;AADA;AAAA;AACA;AADA;AAAA;AACA;AAFA;AACA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AADA;AAAA;AAAA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AADA;AAAA;AAAA;AAAA;AACA;AACA;AADA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AADA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AADA;AAAA;AAAA;AAAA;AAAA;AACA;AADA;AAAA;AACA;AACA;AADA;AACA;AAAA;AACA;AADA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AADA;AAAA;AAAA;AAAA;AACA;AADA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AADA;AACA;AADA;AAAA;AAAA;AACA;AADA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AADA;AAAA;AACA;AACA;AADA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;ACrBA;AACA;AADA;AACA;AADA;AAAA;AACA;AADA;AACA;AADA;AACA;AADA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AADA;AAAA;AACA;AACA;AADA;AAAA;AAAA;AAAA;AACA;AADA;AAAA;;;;;;;;;;;;ACDA;AACA;;;;;;;;;;;;AAWA;AAAA;AAAA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAlBA;AAmBA;AACA;AAAA;;;;;;;;;;;;ACnCA;AACA;AAAA;AACA;AAAA;AAAA;AACA;AACA;AAAA;AAAA;AAAA;AACA;AAAA;AACA;AAAA;AACA;AAAA;AACA;AAAA;AACA;AAAA;AACA;AAAA;AACA;AAAA;AACA;AAAA;AACA;AACA;AACA;AAAA;AACA;AAAA;AACA;AAGA;AACA;AAAA;AACA;AAAA;AACA;AACA;AACA;AAAA;AACA;AAAA;AACA;AACA;AAAA;AACA;AACA;AAEA;AACA;AAJA;AAMA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAZA;AAcA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AAAA;AACA;AACA;AACA;AAAA;AAEA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AACA;AACA;AAEA;AACA;AACA;AADA;AAIA;AACA;AAEA;AACA;AACA;AADA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AAAA;AACA;AACA;AAGA;AACA;AAAA;AACA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AAEA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AALA;AAOA;AACA;AAAA;AAAA;AAAA;AAEA;AACA;AAAA;AACA;AACA;AACA;AAEA;AACA;AAAA;AAEA;AACA;AACA;AACA;AACA;AAEA;AACA;AAAA;AACA;AACA;AAAA,iBASA;AACA;AACA;AACA;AAAA;AACA,iBAIA;AAEA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;;;;;AAGA;AACA;AACA;AACA;;;;;;;;AAMA;AACA;AACA;AACA;;;;;;;;AAMA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AAEA;AACA;AACA;AADA;AACA;AACA;AACA;AAEA;AACA;AAAA,mBAOA;AACA;AAAA;AAEA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AACA;AACA;AACA;AACA;AAAA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AADA;AACA;AACA;AACA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AACA;AAAA;AAAA;AACA;AACA;AACA;AAAA;AACA;AACA;AAAA;AACA;AACA;AAEA;AACA;AAAA;AAEA;AACA;AAEA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AAAA;AAAA;AACA;AAAA;AACA;AACA;AACA;AAAA;AACA;AACA;AAAA;AACA;AACA;AAGA;AACA;AAAA;AACA;AAAA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AAHA;AAMA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AAEA;AACA;AAAA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AAAA;AACA;AACA;AAAA;AAAA;AACA;AACA;AAAA;AACA;AACA;AAAA;AAAA;AACA;AACA;AAAA;AAEA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AAHA;AAKA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AAHA;AAKA;AAEA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AACA;AACA;AACA;AACA;AAAA;AAMA;AACA;AACA;AACA;AAHA;AAKA;AACA;AACA;AACA;AACA;AAEA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;AAIA;AACA;AACA;AACA;AAAA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AADA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AAAA;AACA;AACA;AACA;AAEA;AACA;AACA;AADA;AACA;AAAA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;;;;;;;;AAMA;AACA;AACA;AAAA;AAAA;AAAA;AACA;AAAA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AAAA;AACA;AAIA;AACA;AACA;AAAA;AACA;AACA;AAAA;AACA;AACA;AACA;AAAA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AAAA;AACA;AACA;AAAA;AACA;AACA;AAAA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AAJA;AAMA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AAxfA;AACA;AAwfA;AACA;;;;;;;;;;;;AClkBA;AACA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AAAA;;;;;;;;;;;;ACPA;AACA;AAAA;AAAA;AAAA;AACA;AAAA;AACA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AAAA;AACA;AAKA;AACA;AACA;AACA;AACA;AACA;AAAA;;;;;;;;;;;;AClCA;AACA;AAAA;AAAA;AAAA;AAEA;AACA;AAAA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAKA;AAAA;AAAA;AACA;AACA;AACA;AAEA;AACA;AAAA;AACA;AACA;AACA;AAAA;AAIA;AAGA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAEA;AADA;AAIA;AACA;AAAA;;;;;;;;;;;;AC3CA;AACA;AAAA;AAAA;AAAA;AACA;AAAA;AACA;;;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AAAA;AACA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AAAA;AACA;AAAA;AACA;AAAA;AAAA;AACA;AACA;AACA;AACA;AAAA;AACA;AAAA;AACA;AAGA;AACA;AAAA;AACA;AAAA;AACA;AACA;AACA;AAAA;AACA;AAAA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AAAA;AACA;AACA;AACA;AACA;AADA;AAGA;AACA;AAAA;AACA;AACA;AAAA;AACA;AAAA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AAAA;AACA;AACA;AAaA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AAAA;AACA;AACA;;;;;;;;;;;;ACtGA;AACA;AADA;AACA;AADA;AAAA;AACA;AADA;AACA;AADA;AACA;AADA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AADA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AADA;AACA;AADA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;ACFA;;;;;;;;;;;;ACAA;;;;;;;;;;;;ACAA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;ACNA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;ACtDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;AChBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;AClOA;AACA;AACA,aAEA;AACA;AACA;;;;;;;;;;;;;ACNA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;ACvCA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;AC5DA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;ACj5BA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;ACjFA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;AC5RA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;AClHA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;AC3rBA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;ACrBA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;ACtcA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;AC1BA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;ACvzCA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;ACtPA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;ACjIA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;ACxDA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;ACjHA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,+BAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;ACjdA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;AClLA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;AC3EA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;AC7FA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;ACnBA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;ACzIA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;ACNA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;ACreA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;AC5BA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;ACnDA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;AC/PA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;ACjVA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;ACxDA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;ACvBA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;ACnIA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;ACtDA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;AC7TA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;AC5EA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;ACzGA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;AChLA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;ACvDA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;ACrNA;;;;;;;;;;;ACAA;;;;;;;;;;;ACAA;;;;;;;;;;;;;;;;;;;;ACAA;AACA;AACA;AACA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AACA;AACA;AACA;AAGA;AACA;AACA;AACA;AAHA;AADA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAOA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAIA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AACA;AACA;AACA;AADA;AAIA;;;;;;;;;;;;AC7CA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;;;;;;;ACfA;;;;;;;;;;;ACAA;;;;;;;;;;;ACAA;;;;;;;;;;;ACAA;;;;;;;;;;;ACAA;;;;;;;;;;;ACAA;;;;;;;;;;;ACAA;;;;;;;;;;;ACAA;;;;;;;;;;;ACAA;;;;;;;;;;;ACAA;;;;;;;;;;;ACAA;;;;;;;;;;;ACAA;;;;;;;;;;;ACAA;;;;;;;;;;;ACAA;;;;;;;;;;;ACAA;;;;;;;;;;;ACAA;;;;;;;;;;;ACAA;;;;;;;;;;;ACAA;;;;;;;;;;;ACAA;;;;A","sourceRoot":""}